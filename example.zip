UEsDBAoAAAAAAEBXdFUAAAAAAAAAAAAAAAAHAAAAYXNzZXRzL1BLAwQKAAAAAABAV3RVAAAAAAAAAAAAAAAADgAAAGFzc2V0cy9pbWFnZXMvUEsDBAoAAAAAAEBXdFUAAAAAAAAAAAAAAAAKAAAAYXNzZXRzL2pzL1BLAwQKAAAAAABAV3RVAAAAAAAAAAAAAAAACwAAAGFzc2V0cy9jc3MvUEsDBAoAAAAAAEBXdFVkh47zp0EAAKdBAAAYAAAAYXNzZXRzL2pzLy9hbmltRXZlbnRzLmpzZnVuY3Rpb24gaW5pdEFuaW1zKCkgewogICAgbGV0IHRpbWVsaW5lcyA9IHt9OwogICAgbGV0IHByZUJha2VkVExzID0ge30KICAgIGxldCB0aW1lbGluZVNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi50aW1lbGluZXMiKTsKICAgIGZvciAobGV0IGkgaW4gdGltZWxpbmVTZWwpIHsKICAgICAgICBpZiAodGltZWxpbmVTZWxbaV0uYXR0cmlidXRlcz8udGltZWxpbmVzKSB7CiAgICAgICAgICAgIHRpbWVsaW5lU2VsW2ldLmNsYXNzTGlzdC5hZGQoIndpbGwtY2hhbmdlIik7CiAgICAgICAgICAgIGxldCBpZCA9IHRpbWVsaW5lU2VsW2ldLmF0dHJpYnV0ZXMuaWQudmFsdWU7CiAgICAgICAgICAgIHRpbWVsaW5lc1tpZF0gPSBbXTsKICAgICAgICAgICAgcHJlQmFrZWRUTHNbaWRdID0gW107CiAgICAgICAgICAgIGxldCB0ZW1wVGwgPSBKU09OLnBhcnNlKHRpbWVsaW5lU2VsW2ldLmF0dHJpYnV0ZXMudGltZWxpbmVzLnZhbHVlKTsKICAgICAgICAgICAgZm9yIChsZXQgbyBpbiB0ZW1wVGwpIHsKICAgICAgICAgICAgICAgIGxldCB0ZW1wRWFzZSA9IHRlbXBUbFtvXS5lYXNlOwogICAgICAgICAgICAgICAgdGltZWxpbmVzW2lkXVt0ZW1wVGxbb10ubGFiZWxdID0gZ3NhcC50aW1lbGluZSh7bGFiZWw6dGVtcFRsW29dLmxhYmVsLCBwYXVzZWQ6IHRlbXBUbFtvXS5wYXVzZWR9KTsKICAgICAgICAgICAgICAgIGxldCB0ZW1wS2V5cyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGVtcFRsW29dLmtleWZyYW1lcykpOwogICAgICAgICAgICAgICAgdGVtcEtleXMuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5mcm9tX3RvOwogICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50LmVhc2U7CiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGVsZW1lbnQuZWFzZURpcjsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgbGV0IHRlbXBLZXlzUmF3ID0gdGVtcFRsW29dLmtleWZyYW1lczsKICAgICAgICAgICAgICAgIGlmICh0ZW1wVGxbb10udHlwZSA9PSAiY3VzdG9tIikgewogICAgICAgICAgICAgICAgICAgIHRlbXBLZXlzLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm9uU3RhcnQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQub25TdGFydCA9IGV2YWwoZWxlbWVudC5vblN0YXJ0KTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1tpZF1bdGVtcFRsW29dLmxhYmVsXS50bygiIyIraWQsIHtrZXlmcmFtZXM6IHRlbXBLZXlzLCBlYXNlOiB0ZW1wRWFzZSwgeW95bzogZmFsc2V9KTsKICAgICAgICAgICAgICAgICAgICBwcmVCYWtlZFRMc1tpZF1bdGVtcFRsW29dLmxhYmVsXSA9IHtmcm9tVG86ICJ0byIsIGFkZGl0aXZlOiBmYWxzZX0KICAgICAgICAgICAgICAgICAgICBwcmVCYWtlZFRMc1tpZF1bdGVtcFRsW29dLmxhYmVsXS5wcm9wcyA9IFsiIyIraWQsIHtrZXlmcmFtZXM6IHRlbXBLZXlzLCBlYXNlOiB0ZW1wRWFzZSwgeW95bzogZmFsc2V9XTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRlbXBUbFtvXS50eXBlID09ICJiYXNpYyIpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGVtcEtleXNbMF0uY2xpcFBhdGgpICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIitpZCkuc3R5bGUuY2xpcFBhdGggPSAicG9seWdvbigwJSAwJSwgMTAwJSAwJSwgMTAwJSAxMDAlLCAwJSAxMDAlKSI7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBLZXlzWzBdLnBlcnNwZWN0aXZlKSAgewogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjIitpZCkuc3R5bGUudHJhbnNmb3JtID0gdGVtcEtleXNbMF0ucGVyc3BlY3RpdmU7CiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiK2lkKS5zdHlsZS50cmFuc2Zvcm1TdHlsZSA9ICJwcmVzZXJ2ZS0zZCI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGxldCBrZjEgPSB0ZW1wS2V5c1swXTsKICAgICAgICAgICAgICAgICAgICBpZiAodGVtcEtleXNbMF0gJiYgdGVtcEtleXNSYXdbMF0uZnJvbV90byA9PSAiZnJvbSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvUHJvcHMgPXt9OwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgY3VyT2JqID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiIyIraWQpOwogICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcFRyYW5zID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGggaW4ga2YxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaC5pbmNsdWRlcygidHJhbnNsYXRlIikgfHwgaC5pbmNsdWRlcygicm90YXRlIikgfHwgaC5pbmNsdWRlcygic2NhbGUiKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1bml0ID0gaC5pbmNsdWRlcygidHJhbnNsYXRlIik/ICJweCIgOiBoLmluY2x1ZGVzKCJyb3RhdGUiKT8gImRlZyIgOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdG9Qcm9wcy50cmFuc2Zvcm0pIHRvUHJvcHMudHJhbnNmb3JtID0gY3VyT2JqLnN0eWxlLnRyYW5zZm9ybTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wVHJhbnMgKz0gaCsiKCIrcGFyc2VJbnQoa2YxW2hdKSt1bml0KyIpICI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaCA9PT0gImF1dG9BbHBoYSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b1Byb3BzLnZpc2liaWxpdHkgPSBjdXJPYmouc3R5bGUudmlzaWJpbGl0eSB8fCAidmlzaWJsZSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9Qcm9wcy5vcGFjaXR5ID0gY3VyT2JqLnN0eWxlLm9wYWNpdHkgfHwgMTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJPYmouc3R5bGUub3BhY2l0eSA9IGtmMS5hdXRvQWxwaGEqIDEwIC8xMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9Qcm9wcy5hdXRvQWxwaGEgPT09IDApIGN1ck9iai5zdHlsZS52aXNpYmlsaXR5ID0gImhpZGRlbiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBjdXJPYmouc3R5bGUudmlzaWJpbGl0eSA9ICJ2aXNpYmxlIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGggPT09ICJmaWx0ZXIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9Qcm9wcy5maWx0ZXIgPSBjdXJPYmouc3R5bGUuZmlsdGVyIHx8ICJibHVyKDBweCkiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck9iai5zdHlsZS5maWx0ZXIgPSBrZjEuZmlsdGVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaCA9PT0gImJhY2tkcm9wRmlsdGVyIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvUHJvcHMuYmFja2Ryb3BGaWx0ZXIgPSBjdXJPYmouc3R5bGUuYmFja2Ryb3BGaWx0ZXIgfHwgImJsdXIoMHB4KSI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VyT2JqLnN0eWxlLmJhY2tkcm9wRmlsdGVyID0ga2YxLmJhY2tkcm9wRmlsdGVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaCA9PT0gImNsaXBQYXRoIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvUHJvcHMuY2xpcFBhdGggPSBjdXJPYmouc3R5bGUuY2xpcFBhdGggfHwgInBvbHlnb24oMCUgMCUsIDEwMCUgMCUsIDEwMCUgMTAwJSwgMCUgMTAwJSkiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ck9iai5zdHlsZS5jbGlwUGF0aCA9IGtmMS5jbGlwUGF0aDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGggPT09ICJkZWxheSIgfHwgaCA9PT0gImR1cmF0aW9uIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvUHJvcHNbaF0gPSBrZjFbaF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBUcmFucy5sZW5ndGggPiAwKSBjdXJPYmouc3R5bGUudHJhbnNmb3JtID0gdGVtcFRyYW5zOwogICAgICAgICAgICAgICAgICAgICAgICB0aW1lbGluZXNbaWRdW3RlbXBUbFtvXS5sYWJlbF0udG8oIiMiK2lkLCB7Li4udG9Qcm9wcywgZWFzZTogdGVtcEVhc2UsIHlveW86IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZUJha2VkVExzW2lkXVt0ZW1wVGxbb10ubGFiZWxdID0ge2Zyb21UbzogImZyb20iLCBhZGRpdGl2ZTogdHJ1ZX07CiAgICAgICAgICAgICAgICAgICAgICAgIHByZUJha2VkVExzW2lkXVt0ZW1wVGxbb10ubGFiZWxdLnByb3BzID0gWyIjIitpZCwgey4uLnRvUHJvcHMsIGVhc2U6IHRlbXBFYXNlLCB5b3lvOiBmYWxzZX1dOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVzW2lkXVt0ZW1wVGxbb10ubGFiZWxdLnRvKCIjIitpZCwgey4uLmtmMSwgZWFzZTogdGVtcEVhc2UsIHlveW86IGZhbHNlfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHByZUJha2VkVExzW2lkXVt0ZW1wVGxbb10ubGFiZWxdID0ge2Zyb21UbzogInRvIiwgYWRkaXRpdmU6IHRydWV9OwogICAgICAgICAgICAgICAgICAgICAgICBwcmVCYWtlZFRMc1tpZF1bdGVtcFRsW29dLmxhYmVsXS5wcm9wcyA9IFsiIyIraWQsIHsuLi5rZjEsIGVhc2U6IHRlbXBFYXNlLCB5b3lvOiBmYWxzZX1dOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRlbXBUbFtvXS50eXBlID09ICJsb3R0aWUiKSB7CiAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVzW2lkXVt0ZW1wVGxbb10ubGFiZWxdLnRvKCIjIitpZCwge2tleWZyYW1lczogdGVtcEtleXMsIGVhc2U6IHRlbXBFYXNlLCB5b3lvOiBmYWxzZX0pOwogICAgICAgICAgICAgICAgICAgIHByZUJha2VkVExzW2lkXVt0ZW1wVGxbb10ubGFiZWxdID0ge2Zyb21UbzogInRvIiwgYWRkaXRpdmU6IGZhbHNlfQogICAgICAgICAgICAgICAgICAgIGxvdHRpZUJpbmRHc2FwKCIjIitpZCx0ZW1wVGxbb10ubGluayx0aW1lbGluZXNbaWRdW3RlbXBUbFtvXS5sYWJlbF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQogICAgZnVuY3Rpb24gbW91c2VNb3ZlKGVsZW0sdGxYLHRsWSkgewogICAgICAgIGxldCBlbGVteUJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgbGV0IGVsZW1XaWR0aCA9IGVsZW15Qm94LndpZHRoOwogICAgICAgIGxldCBlbGVtSGVpZ2h0ID0gZWxlbXlCb3guaGVpZ2h0OwogICAgICAgIGxldCBlbGVtTGVmdCA9IGVsZW15Qm94LmxlZnQ7CiAgICAgICAgbGV0IGVsZW1Ub3AgPSBlbGVteUJveC50b3A7CiAgICAgICAgbGV0IHByb2dXaWR0aCA9IGdzYXAudXRpbHMubWFwUmFuZ2UoZWxlbUxlZnQsIGVsZW1XaWR0aCArIGVsZW1MZWZ0LCAwLCAxKTsKICAgICAgICBsZXQgcHJvZ0hlaWdodCA9IGdzYXAudXRpbHMubWFwUmFuZ2UoZWxlbVRvcCwgZWxlbUhlaWdodCArIGVsZW1Ub3AsIDAsIDEpOwogICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigibW91c2Vtb3ZlIiwgZSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHggPSBlLnBhZ2VYIDwgKGVsZW1XaWR0aCArIGVsZW1MZWZ0KSA/IGUucGFnZVggOiAoZWxlbVdpZHRoICsgZWxlbUxlZnQpOwogICAgICAgICAgICBjb25zdCB5ID0gZS5wYWdlWSA8IChlbGVtSGVpZ2h0ICsgZWxlbVRvcCkgPyBlLnBhZ2VZIDogKGVsZW1IZWlnaHQgKyBlbGVtVG9wKTsKICAgICAgICAgICAgdGxYPy5wcm9ncmVzcyhwcm9nV2lkdGgoeCkpOwogICAgICAgICAgICB0bFk/LnByb2dyZXNzKHByb2dIZWlnaHQoeSkpOwogICAgICAgIH0pOwogICAgfQogICAgZnVuY3Rpb24gbG90dGllQmluZEdzYXAobG90dGllRWxlbSxsb3R0aWVMaW5rLHRsKXsKICAgICAgICBsZXQgZHVyYXRpb247CiAgICAgICAgbGV0IGFuaW1hdGlvbiA9IGJvZHltb3Zpbi5sb2FkQW5pbWF0aW9uKHsKICAgICAgICAgICAgY29udGFpbmVyOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGxvdHRpZUVsZW0pLAogICAgICAgICAgICByZW5kZXJlcjogJ3N2ZycsCiAgICAgICAgICAgIGxvb3A6IGZhbHNlLAogICAgICAgICAgICBhdXRvcGxheTogZmFsc2UsCiAgICAgICAgICAgIHBhdGg6IGxvdHRpZUxpbmsKICAgICAgICB9KTsKICAgICAgICBmdW5jdGlvbiBjaGVja1Byb2dyZXNzKCkgewogICAgICAgICAgICBhbmltYXRpb24uZ29Ub0FuZFN0b3AoTWF0aC5yb3VuZCh0bC5wcm9ncmVzcygpIDwgMC45NT8gdGwucHJvZ3Jlc3MoKSpkdXJhdGlvbioxMDAwIDogdGwucHJvZ3Jlc3MoKSpkdXJhdGlvbioxMDAwICogMC45NSkpOwogICAgICAgIH0KICAgICAgICB0bC5ldmVudENhbGxiYWNrKCJvblVwZGF0ZSIsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIGNoZWNrUHJvZ3Jlc3MoKTsKICAgICAgICB9KTsKICAgICAgICAKICAgICAgICBhbmltYXRpb24uYWRkRXZlbnRMaXN0ZW5lcignY29uZmlnX3JlYWR5JyxmdW5jdGlvbigpIHsKICAgICAgICAgICAgZHVyYXRpb24gPSBhbmltYXRpb24uZ2V0RHVyYXRpb24oKTsKICAgICAgICB9KTsKICAgIH0KCiAgICAvLyBnc2FwLnV0aWxzLnRvQXJyYXkoIi5sb3R0aWUiKS5mb3JFYWNoKChtb3ZlT2JqLCBpKSA9PiB7CiAgICAgICAgCiAgICAvLyB9KTsKCgogICAgZ3NhcC51dGlscy50b0FycmF5KCIubW91c2UtbW92ZSIpLmZvckVhY2goKG1vdmVPYmosIGkpID0+IHsKICAgICAgICAKICAgICAgICBpZiAobW92ZU9iai5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgIGxldCB0ZW1wRXZlbnQgPSBKU09OLnBhcnNlKG1vdmVPYmouYXR0cmlidXRlc1sibW91c2UtbW92ZSJdLnZhbHVlKTsKICAgICAgICAgICAgZm9yIChsZXQgbyBpbiB0ZW1wRXZlbnQpIHsKICAgICAgICAgICAgICAgIHRlbXBFdmVudFtvXS50cmlnZ2VyID0gdGVtcEV2ZW50W29dLnRyaWdnZXIuc3BsaXQoIiAiKS5qb2luKCIiKS5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgaWYgKHRlbXBFdmVudFtvXS50cmlnZ2VyLmxlbmd0aCA9PSAwKSB0ZW1wRXZlbnRbb10udHJpZ2dlciA9IFsiY3VycmVudCJdOwogICAgICAgICAgICAgICAgdGVtcEV2ZW50W29dLnRyaWdnZXIuZm9yRWFjaCgodHJpZykgPT4gewogICAgICAgICAgICAgICAgICAgIGxldCB0cmlnZ2VyRWxlbSA9IHRyaWcgPT0gImN1cnJlbnQiIHx8IHRyaWcgPT0gIiBjdXJyZW50IiA/ICIjIittb3ZlT2JqLmF0dHJpYnV0ZXMuaWQudmFsdWUgOiAiIyIrdHJpZzsKICAgICAgICAgICAgICAgICAgICBsZXQgdGxPYmpFbGVtID0gbW92ZU9iai5hdHRyaWJ1dGVzLmlkLnZhbHVlOwogICAgICAgICAgICAgICAgICAgIGxldCB0bExhYmVsID0gdGVtcEV2ZW50W29dLnRsOwogICAgICAgICAgICAgICAgICAgIGxldCB0bExhYmVsWSA9IHRlbXBFdmVudFtvXS50bFk7CiAgICAgICAgICAgICAgICAgICAgLy8gdGltZWxpbmVzW3RsT2JqRWxlbV1bdGxMYWJlbF0ucmVwZWF0KDApOwogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodHJpZ2dlckVsZW0pLmZvckVhY2goZWxlbWVudCA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlTW92ZShlbGVtZW50LHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxZXSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICB9KTsKICAgIGdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcik7CgogICAgZ3NhcC51dGlscy50b0FycmF5KCIuc2Nyb2xsIikuZm9yRWFjaCgoc2Nyb2xsT2JqLCBpKSA9PiB7CiAgICAgICAgaWYoc2Nyb2xsT2JqLmF0dHJpYnV0ZXMpewogICAgICAgICAgICBpZiAoIXNjcm9sbE9iai5hdHRyaWJ1dGVzLnNjcm9sbCkgcmV0dXJuOwogICAgICAgICAgICBsZXQgdGVtcEV2ZW50ID0gSlNPTi5wYXJzZShzY3JvbGxPYmouYXR0cmlidXRlcy5zY3JvbGwudmFsdWUpOwogICAgICAgICAgICB0ZW1wRXZlbnQuZm9yRWFjaCgoc2Nyb2xsVHJpZykgPT4gewogICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRyaWcudHJpZ2dlci5sZW5ndGggPT0gMCkgewogICAgICAgICAgICAgICAgICAgIHNjcm9sbFRyaWcudHJpZ2dlciA9ICJjdXJyZW50IjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHNjcm9sbFRyaWcudHJpZ2dlciA9IHNjcm9sbFRyaWcudHJpZ2dlci5zcGxpdCgiLCIpOwogICAgICAgICAgICAgICAgc2Nyb2xsVHJpZy50cmlnZ2VyLmZvckVhY2goKHNjcm9sbFRyaWdUcmlnZ2VyKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBUcmlnID17fTsKICAgICAgICAgICAgICAgICAgICB0ZW1wVHJpZy5zY3JvbGxlciA9IHNjcm9sbFRyaWcuc2Nyb2xsZXIgfHwgIHdpbmRvdzsKICAgICAgICAgICAgICAgICAgICB0ZW1wVHJpZy5hbmltYXRpb24gPSBzY3JvbGxUcmlnLmFuaW1hdGlvbiB8fCBudWxsOwogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLnRyaWdnZXIgPSBzY3JvbGxUcmlnVHJpZ2dlciA9PSAiY3VycmVudCIgPyAiIyIrc2Nyb2xsT2JqLmlkIDogIiMiK3Njcm9sbFRyaWdUcmlnZ2VyOwogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLnN0YXJ0ID0gc2Nyb2xsVHJpZy5zdGFydCB8fCAidG9wIGNlbnRlciI7CiAgICAgICAgICAgICAgICAgICAgdGVtcFRyaWcuZW5kID0gc2Nyb2xsVHJpZy5lbmRfcGx1cyAmJiBzY3JvbGxUcmlnLmVuZF9wbHVzICE9IDA/IHNjcm9sbFRyaWcuZW5kICsgIis9IitzY3JvbGxUcmlnLmVuZF9wbHVzIDogKHNjcm9sbFRyaWcuZW5kIHx8ICJib3R0b20gdG9wIik7CgogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLnBpbiA9IHNjcm9sbFRyaWcucGluID8gc2Nyb2xsT2JqIDogZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgdGVtcFRyaWcucGluU3BhY2luZyA9IHNjcm9sbFRyaWcucGluU3BhY2luZyB8fCB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLnNjcnViID0gc2Nyb2xsVHJpZy5iaW5kPyAoc2Nyb2xsVHJpZy5zY3J1YiB8fCB0cnVlKSA6IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLnRvZ2dsZUNsYXNzID0gc2Nyb2xsVHJpZy50b2dnbGVDbGFzcyB8fCBudWxsOwogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLnRvZ2dsZUFjdGlvbnMgPSBzY3JvbGxUcmlnLnRvZ2dsZUFjdGlvbnMgfHwgbnVsbDsKICAgICAgICAgICAgICAgICAgICB0ZW1wVHJpZy5vbkVudGVyID0gc2Nyb2xsVHJpZy5vbkVudGVyIHx8IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICB0ZW1wVHJpZy5vbkxlYXZlID0gc2Nyb2xsVHJpZy5vbkxlYXZlIHx8IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICB0ZW1wVHJpZy5vbkVudGVyQmFjayA9IHNjcm9sbFRyaWcub25FbnRlckJhY2sgfHwgdW5kZWZpbmVkOwogICAgICAgICAgICAgICAgICAgIHRlbXBUcmlnLm9uTGVhdmVCYWNrID0gc2Nyb2xsVHJpZy5vbkxlYXZlQmFjayB8fCB1bmRlZmluZWQ7CiAgICAgICAgICAgICAgICAgICAgdGVtcFRyaWcub25VcGRhdGUgPSBzY3JvbGxUcmlnLm9uVXBkYXRlIHx8IHVuZGVmaW5lZDsKICAgICAgICAgICAgICAgICAgICBTY3JvbGxUcmlnZ2VyLmNyZWF0ZSh7CiAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXI6IHRlbXBUcmlnLnRyaWdnZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbjogdGltZWxpbmVzW3Njcm9sbE9iai5hdHRyaWJ1dGVzLmlkLnZhbHVlXVt0ZW1wVHJpZy5hbmltYXRpb25dLAogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxlcjogdGVtcFRyaWcuc2Nyb2xsZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHBpbjogdGVtcFRyaWcucGluLAogICAgICAgICAgICAgICAgICAgICAgICBzY3J1YjogdGVtcFRyaWcuc2NydWIsCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiB0ZW1wVHJpZy5zdGFydCwKICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiB0ZW1wVHJpZy5lbmQsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uRW50ZXI6IGV2YWwodGVtcFRyaWcub25FbnRlciksCiAgICAgICAgICAgICAgICAgICAgICAgIG9uTGVhdmU6IGV2YWwodGVtcFRyaWcub25MZWF2ZSksCiAgICAgICAgICAgICAgICAgICAgICAgIG9uRW50ZXJCYWNrOiBldmFsKHRlbXBUcmlnLm9uRW50ZXJCYWNrKSwKICAgICAgICAgICAgICAgICAgICAgICAgb25MZWF2ZUJhY2s6IGV2YWwodGVtcFRyaWcub25MZWF2ZUJhY2spLAogICAgICAgICAgICAgICAgICAgICAgICBwaW5TcGFjaW5nOiB0ZW1wVHJpZy5waW5TcGFjaW5nLAogICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVDbGFzczogdGVtcFRyaWcudG9nZ2xlQ2xhc3MsCiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZUFjdGlvbnM6IHRlbXBUcmlnLnRvZ2dsZUFjdGlvbnMsCiAgICAgICAgICAgICAgICAgICAgICAgIG9uRW50ZXI6ICgpID0+IHtldmFsKHRlbXBUcmlnLm9uRW50ZXIpOyBzY3JvbGxPYmouY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7fSwKICAgICAgICAgICAgICAgICAgICAgICAgb25MZWF2ZTogKCkgPT4ge2V2YWwodGVtcFRyaWcub25MZWF2ZSk7IHNjcm9sbE9iai5jbGFzc0xpc3QucmVtb3ZlKCJhY3RpdmUiKTt9LAogICAgICAgICAgICAgICAgICAgICAgICBvbkVudGVyQmFjazogKCkgPT4ge2V2YWwodGVtcFRyaWcub25FbnRlckJhY2spOyBzY3JvbGxPYmouY2xhc3NMaXN0LmFkZCgiYWN0aXZlIik7fSwKICAgICAgICAgICAgICAgICAgICAgICAgb25MZWF2ZUJhY2s6ICgpID0+IHtldmFsKHRlbXBUcmlnLm9uTGVhdmVCYWNrKTsgc2Nyb2xsT2JqLmNsYXNzTGlzdC5yZW1vdmUoImFjdGl2ZSIpO30sCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgfSk7CiAgICBmdW5jdGlvbiBldmVudGVkRnVuYyhldmVudGVkKSB7CiAgICAgICAgbGV0IGV2ZW50TmFtZSA9IGV2ZW50ZWQgPT0gImhvdmVyIj8gIm1vdXNlZW50ZXIiIDogZXZlbnRlZDsKICAgICAgICBsZXQgY3VyRXZlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCIuIitldmVudGVkKTsKICAgICAgICBmb3IgKGxldCBpIGluIGN1ckV2ZW50KSB7CiAgICAgICAgICAgIGlmIChjdXJFdmVudFtpXS5hdHRyaWJ1dGVzKSB7CiAgICAgICAgICAgICAgICBsZXQgdGVtcEV2ZW50ID0gSlNPTi5wYXJzZShjdXJFdmVudFtpXS5hdHRyaWJ1dGVzW2V2ZW50ZWRdLnZhbHVlKTsKICAgICAgICAgICAgICAgIGZvciAobGV0IG8gaW4gdGVtcEV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgdGVtcEV2ZW50W29dLnRyaWdnZXIgPSB0ZW1wRXZlbnRbb10udHJpZ2dlci5zcGxpdCgiICIpLmpvaW4oIiIpLnNwbGl0KCIsIik7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBFdmVudFtvXS50cmlnZ2VyLmxlbmd0aCA9PSAwKSB0ZW1wRXZlbnRbb10udHJpZ2dlciA9IFsiY3VycmVudCJdOwogICAgICAgICAgICAgICAgICAgIHRlbXBFdmVudFtvXS50cmlnZ2VyLmZvckVhY2goKHRyaWcpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJFbGVtID0gdHJpZyA9PSAiY3VycmVudCIgfHwgdHJpZyA9PSAiIGN1cnJlbnQiID8gIiMiK2N1ckV2ZW50W2ldLmF0dHJpYnV0ZXMuaWQudmFsdWUgOiAiIyIrdHJpZzsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRsT2JqRWxlbSA9IGN1ckV2ZW50W2ldLmF0dHJpYnV0ZXMuaWQudmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wRXZlbnRbb10udGxPYmogIT0gImN1cnJlbnQiKSB0bE9iakVsZW0gPSB0ZW1wRXZlbnRbb10udGxPYmo7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB5b3lvID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wRXZlbnRbb10ueW95bykgeW95byA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0bExhYmVsID0gdGVtcEV2ZW50W29dLnRsOwogICAgICAgICAgICAgICAgICAgICAgICB0aW1lbGluZXNbdGxPYmpFbGVtXVt0bExhYmVsXT8ucmVwZWF0KHRlbXBFdmVudFtvXS5yZXBlYXQgfHwgMCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdPy55b3lvKHRlbXBFdmVudFtvXS55b3lvKTsKICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0cmlnZ2VyRWxlbSkuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjb3VudCA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGV2ZW50ZWQgPT0gInBhZ2UtbG9hZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcEV2ZW50W29dLnJldmVyc2VkKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnJldmVyc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnQgKys7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBFdmVudFtvXS5yZXZlcnNlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZUJha2VkVExzW3RsT2JqRWxlbV1bdGxMYWJlbF0uYWRkaXRpdmUgJiYgIXRlbXBFdmVudFtvXS55b3lvKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgKHByZUJha2VkVExzW3RsT2JqRWxlbV1bdGxMYWJlbF0uZnJvbVRvID09ICJmcm9tIikgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBnc2FwLmZyb20oLi4ucHJlQmFrZWRUTHNbdGxPYmpFbGVtXVt0bExhYmVsXS5wcm9wcywgcGFzZSkucmV2ZXJzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgZ3NhcC50byguLi5wcmVCYWtlZFRMc1t0bE9iakVsZW1dW3RsTGFiZWxdLnByb3BzKS5yZXZlcnNlKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnJldmVyc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnJldmVyc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVCYWtlZFRMc1t0bE9iakVsZW1dW3RsTGFiZWxdLmFkZGl0aXZlICYmICF0ZW1wRXZlbnRbb10ueW95bykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmVCYWtlZFRMc1t0bE9iakVsZW1dW3RsTGFiZWxdLmZyb21UbyA9PSAiZnJvbSIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3NhcC50byguLi5wcmVCYWtlZFRMc1t0bE9iakVsZW1dW3RsTGFiZWxdLnByb3BzKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdzYXAudG8oLi4ucHJlQmFrZWRUTHNbdGxPYmpFbGVtXVt0bExhYmVsXS5wcm9wcyk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnBsYXkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeW95byAmJiBjb3VudCUyID09IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lbGluZXNbdGxPYmpFbGVtXVt0bExhYmVsXS5yZXZlcnNlZCgpKSB0aW1lbGluZXNbdGxPYmpFbGVtXVt0bExhYmVsXS5wbGF5KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnJldmVyc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudCArKzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudGVkID09ICJob3ZlciIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbGVhdmUiLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXBFdmVudFtvXS5yZXZlcnNlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVzW3RsT2JqRWxlbV1bdGxMYWJlbF0ucGxheSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZWxpbmVzW3RsT2JqRWxlbV1bdGxMYWJlbF0ucmV2ZXJzZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5b3lvICYmIGNvdW50JTIgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnJldmVyc2VkKCkpIHRpbWVsaW5lc1t0bE9iakVsZW1dW3RsTGFiZWxdLnJldmVyc2UoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdGltZWxpbmVzW3RsT2JqRWxlbV1bdGxMYWJlbF0ucGxheSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50ICsrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIGV2ZW50ZWRGdW5jKCJob3ZlciIpOwogICAgZXZlbnRlZEZ1bmMoImNsaWNrIik7CiAgICBldmVudGVkRnVuYygibW91c2Vkb3duIik7CiAgICBldmVudGVkRnVuYygibW91c2V1cCIpOwogICAgZXZlbnRlZEZ1bmMoInBhZ2UtbG9hZCIpOwp9CmluaXRBbmltcygpO1BLAwQKAAAAAABAV3RVTWhZvdBfAADQXwAAHwAAAGFzc2V0cy9qcy8vU2Nyb2xsVHJpZ2dlci5taW4uanMvKiEKICogU2Nyb2xsVHJpZ2dlciAzLjkuMAogKiBodHRwczovL2dyZWVuc29jay5jb20KICogCiAqIEBsaWNlbnNlIENvcHlyaWdodCAyMDIxLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9zdGFuZGFyZC1saWNlbnNlIG9yIGZvciBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC4KICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tCiAqLwoKIWZ1bmN0aW9uKGUscil7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9yKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLHIpOnIoKGU9ZXx8c2VsZikud2luZG93PWUud2luZG93fHx7fSl9KHRoaXMsZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEgoZSl7cmV0dXJuIGV9ZnVuY3Rpb24gSShlKXtyZXR1cm4gVmUoZSlbMF18fChycihlKSYmITEhPT1SZS5jb25maWcoKS5udWxsVGFyZ2V0V2Fybj9jb25zb2xlLndhcm4oIkVsZW1lbnQgbm90IGZvdW5kOiIsZSk6bnVsbCl9ZnVuY3Rpb24gSihlKXtyZXR1cm4gTWF0aC5yb3VuZCgxZTUqZSkvMWU1fHwwfWZ1bmN0aW9uIEsoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvd31mdW5jdGlvbiBMKCl7cmV0dXJuIFJlfHxLKCkmJihSZT13aW5kb3cuZ3NhcCkmJlJlLnJlZ2lzdGVyUGx1Z2luJiZSZX1mdW5jdGlvbiBNKGUpe3JldHVybiEhfmkuaW5kZXhPZihlKX1mdW5jdGlvbiBOKGUscil7cmV0dXJuflVlLmluZGV4T2YoZSkmJlVlW1VlLmluZGV4T2YoZSkrMV1bcl19ZnVuY3Rpb24gTyhyLGUpe3ZhciB0PWUucyxuPWUuc2MsaT1nLmluZGV4T2Yociksbz1uPT09Z3Iuc2M/MToyO3JldHVybn5pfHwoaT1nLnB1c2gociktMSksZ1tpK29dfHwoZ1tpK29dPU4ocix0KXx8KE0ocik/bjpmdW5jdGlvbihlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9yW3RdPWU6clt0XX0pKX1mdW5jdGlvbiBQKGUpe3JldHVybiBOKGUsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIpfHwoTShlKT9mdW5jdGlvbigpe3JldHVybiB3ci53aWR0aD16ZS5pbm5lcldpZHRoLHdyLmhlaWdodD16ZS5pbm5lckhlaWdodCx3cn06ZnVuY3Rpb24oKXtyZXR1cm4gaHIoZSl9KX1mdW5jdGlvbiBTKGUscil7dmFyIHQ9ci5zLG49ci5kMixpPXIuZCxvPXIuYTtyZXR1cm4odD0ic2Nyb2xsIituKSYmKG89TihlLHQpKT9vKCktUChlKSgpW2ldOk0oZSk/KEZlW3RdfHxXZVt0XSktKHplWyJpbm5lciIrbl18fFdlWyJjbGllbnQiK25dfHxGZVsiY2xpZW50IituXSk6ZVt0XS1lWyJvZmZzZXQiK25dfWZ1bmN0aW9uIFQoZSxyKXtmb3IodmFyIHQ9MDt0PGYubGVuZ3RoO3QrPTMpciYmIX5yLmluZGV4T2YoZlt0KzFdKXx8ZShmW3RdLGZbdCsxXSxmW3QrMl0pfWZ1bmN0aW9uIFYoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGV9ZnVuY3Rpb24gVyhlKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIGV9ZnVuY3Rpb24gWChlKXtyZXR1cm4ib2JqZWN0Ij09dHlwZW9mIGV9ZnVuY3Rpb24gWShlKXtyZXR1cm4gVihlKSYmZSgpfWZ1bmN0aW9uIFoodCxuKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZT1ZKHQpLHI9WShuKTtyZXR1cm4gZnVuY3Rpb24oKXtZKGUpLFkocil9fX1mdW5jdGlvbiAkKGUscix0KXtyZXR1cm4gZSYmZS5wcm9ncmVzcyhyPzA6MSkmJnQmJmUucGF1c2UoKX1mdW5jdGlvbiBfKGUscil7aWYoZS5lbmFibGVkKXt2YXIgdD1yKGUpO3QmJnQudG90YWxUaW1lJiYoZS5jYWxsYmFja0FuaW1hdGlvbj10KX19ZnVuY3Rpb24gdWEoZSl7cmV0dXJuIHplLmdldENvbXB1dGVkU3R5bGUoZSl9ZnVuY3Rpb24gd2EoZSxyKXtmb3IodmFyIHQgaW4gcil0IGluIGV8fChlW3RdPXJbdF0pO3JldHVybiBlfWZ1bmN0aW9uIHlhKGUscil7dmFyIHQ9ci5kMjtyZXR1cm4gZVsib2Zmc2V0Iit0XXx8ZVsiY2xpZW50Iit0XXx8MH1mdW5jdGlvbiB6YShlKXt2YXIgcix0PVtdLG49ZS5sYWJlbHMsaT1lLmR1cmF0aW9uKCk7Zm9yKHIgaW4gbil0LnB1c2gobltyXS9pKTtyZXR1cm4gdH1mdW5jdGlvbiBCYShpKXt2YXIgbz1SZS51dGlscy5zbmFwKGkpLGE9QXJyYXkuaXNBcnJheShpKSYmaS5zbGljZSgwKS5zb3J0KGZ1bmN0aW9uKGUscil7cmV0dXJuIGUtcn0pO3JldHVybiBhP2Z1bmN0aW9uKGUscix0KXt2YXIgbjtpZih2b2lkIDA9PT10JiYodD0uMDAxKSwhcilyZXR1cm4gbyhlKTtpZigwPHIpe2ZvcihlLT10LG49MDtuPGEubGVuZ3RoO24rKylpZihhW25dPj1lKXJldHVybiBhW25dO3JldHVybiBhW24tMV19Zm9yKG49YS5sZW5ndGgsZSs9dDtuLS07KWlmKGFbbl08PWUpcmV0dXJuIGFbbl07cmV0dXJuIGFbMF19OmZ1bmN0aW9uKGUscix0KXt2b2lkIDA9PT10JiYodD0uMDAxKTt2YXIgbj1vKGUpO3JldHVybiFyfHxNYXRoLmFicyhuLWUpPHR8fG4tZTwwPT1yPDA/bjpvKHI8MD9lLWk6ZStpKX19ZnVuY3Rpb24gRGEocix0LGUsbil7cmV0dXJuIGUuc3BsaXQoIiwiKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiByKHQsZSxuKX0pfWZ1bmN0aW9uIEVhKGUscix0KXtyZXR1cm4gZS5hZGRFdmVudExpc3RlbmVyKHIsdCx7cGFzc2l2ZTohMH0pfWZ1bmN0aW9uIEZhKGUscix0KXtyZXR1cm4gZS5yZW1vdmVFdmVudExpc3RlbmVyKHIsdCl9ZnVuY3Rpb24gSmEoZSxyKXtpZihycihlKSl7dmFyIHQ9ZS5pbmRleE9mKCI9Iiksbj1+dD8oZS5jaGFyQXQodC0xKSsxKSpwYXJzZUZsb2F0KGUuc3Vic3RyKHQrMSkpOjA7fnQmJihlLmluZGV4T2YoIiUiKT50JiYobio9ci8xMDApLGU9ZS5zdWJzdHIoMCx0LTEpKSxlPW4rKGUgaW4gYj9iW2VdKnI6fmUuaW5kZXhPZigiJSIpP3BhcnNlRmxvYXQoZSkqci8xMDA6cGFyc2VGbG9hdChlKXx8MCl9cmV0dXJuIGV9ZnVuY3Rpb24gS2EoZSxyLHQsbixpLG8sYSxzKXt2YXIgbD1pLnN0YXJ0Q29sb3IsYz1pLmVuZENvbG9yLHU9aS5mb250U2l6ZSxmPWkuaW5kZW50LHA9aS5mb250V2VpZ2h0LGQ9TGUuY3JlYXRlRWxlbWVudCgiZGl2IiksZz1NKHQpfHwiZml4ZWQiPT09Tih0LCJwaW5UeXBlIiksaD0tMSE9PWUuaW5kZXhPZigic2Nyb2xsZXIiKSx2PWc/RmU6dCxtPS0xIT09ZS5pbmRleE9mKCJzdGFydCIpLGI9bT9sOmMseD0iYm9yZGVyLWNvbG9yOiIrYisiO2ZvbnQtc2l6ZToiK3UrIjtjb2xvcjoiK2IrIjtmb250LXdlaWdodDoiK3ArIjtwb2ludGVyLWV2ZW50czpub25lO3doaXRlLXNwYWNlOm5vd3JhcDtmb250LWZhbWlseTpzYW5zLXNlcmlmLEFyaWFsO3otaW5kZXg6MTAwMDtwYWRkaW5nOjRweCA4cHg7Ym9yZGVyLXdpZHRoOjA7Ym9yZGVyLXN0eWxlOnNvbGlkOyI7cmV0dXJuIHgrPSJwb3NpdGlvbjoiKygoaHx8cykmJmc/ImZpeGVkOyI6ImFic29sdXRlOyIpLCFoJiYhcyYmZ3x8KHgrPShuPT09Z3I/eTp3KSsiOiIrKG8rcGFyc2VGbG9hdChmKSkrInB4OyIpLGEmJih4Kz0iYm94LXNpemluZzpib3JkZXItYm94O3RleHQtYWxpZ246bGVmdDt3aWR0aDoiK2Eub2Zmc2V0V2lkdGgrInB4OyIpLGQuX2lzU3RhcnQ9bSxkLnNldEF0dHJpYnV0ZSgiY2xhc3MiLCJnc2FwLW1hcmtlci0iK2UrKHI/IiBtYXJrZXItIityOiIiKSksZC5zdHlsZS5jc3NUZXh0PXgsZC5pbm5lclRleHQ9cnx8MD09PXI/ZSsiLSIrcjplLHYuY2hpbGRyZW5bMF0/di5pbnNlcnRCZWZvcmUoZCx2LmNoaWxkcmVuWzBdKTp2LmFwcGVuZENoaWxkKGQpLGQuX29mZnNldD1kWyJvZmZzZXQiK24ub3AuZDJdLEUoZCwwLG4sbSksZH1mdW5jdGlvbiBPYSgpe3JldHVybiAzNDxaZSgpLUdlJiZqKCl9ZnVuY3Rpb24gUGEoKXtqKCksR2V8fEEoInNjcm9sbFN0YXJ0IiksR2U9WmUoKX1mdW5jdGlvbiBRYSgpe3JldHVybiFYZSYmIXQmJiFMZS5mdWxsc2NyZWVuRWxlbWVudCYmYS5yZXN0YXJ0KCEwKX1mdW5jdGlvbiBXYShlKXt2YXIgcix0PVJlLnRpY2tlci5mcmFtZSxuPVtdLGk9MDtpZihwIT09dHx8cWUpe2Zvcih6KCk7aTxDLmxlbmd0aDtpKz00KShyPXplLm1hdGNoTWVkaWEoQ1tpXSkubWF0Y2hlcykhPT1DW2krM10mJigoQ1tpKzNdPXIpP24ucHVzaChpKTp6KDEsQ1tpXSl8fFYoQ1tpKzJdKSYmQ1tpKzJdKCkpO2ZvcihSKCksaT0wO2k8bi5sZW5ndGg7aSsrKXI9bltpXSxRZT1DW3JdLENbcisyXT1DW3IrMV0oZSk7UWU9MCxvJiZGKDAsMSkscD10LEEoIm1hdGNoTWVkaWEiKX19ZnVuY3Rpb24gWGEoKXtyZXR1cm4gRmEoZWUsInNjcm9sbEVuZCIsWGEpfHxGKCEwKX1mdW5jdGlvbiBhYigpe3JldHVybiBnLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGUmJihlLnJlYz0wKX0pfWZ1bmN0aW9uIGpiKGUscix0LG4pe2lmKGUucGFyZW50Tm9kZSE9PXIpe2Zvcih2YXIgaSxvPVEubGVuZ3RoLGE9ci5zdHlsZSxzPWUuc3R5bGU7by0tOylhW2k9UVtvXV09dFtpXTthLnBvc2l0aW9uPSJhYnNvbHV0ZSI9PT10LnBvc2l0aW9uPyJhYnNvbHV0ZSI6InJlbGF0aXZlIiwiaW5saW5lIj09PXQuZGlzcGxheSYmKGEuZGlzcGxheT0iaW5saW5lLWJsb2NrIiksc1t3XT1zW3ldPWEuZmxleEJhc2lzPSJhdXRvIixhLm92ZXJmbG93PSJ2aXNpYmxlIixhLmJveFNpemluZz0iYm9yZGVyLWJveCIsYVtucl09eWEoZSxkcikrcHIsYVtpcl09eWEoZSxncikrcHIsYVtjcl09c1t1cl09cy50b3A9c1t2XT0iMCIsU3Iobiksc1tucl09cy5tYXhXaWR0aD10W25yXSxzW2lyXT1zLm1heEhlaWdodD10W2lyXSxzW2NyXT10W2NyXSxlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHIsZSksci5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24gbWIoZSl7Zm9yKHZhciByPXEubGVuZ3RoLHQ9ZS5zdHlsZSxuPVtdLGk9MDtpPHI7aSsrKW4ucHVzaChxW2ldLHRbcVtpXV0pO3JldHVybiBuLnQ9ZSxufWZ1bmN0aW9uIHBiKGUscix0LG4saSxvLGEscyxsLGMsdSxmLHApe1YoZSkmJihlPWUocykpLHJyKGUpJiYibWF4Ij09PWUuc3Vic3RyKDAsMykmJihlPWYrKCI9Ij09PWUuY2hhckF0KDQpP0phKCIwIitlLnN1YnN0cigzKSx0KTowKSk7dmFyIGQsZyxoLHY9cD9wLnRpbWUoKTowO2lmKHAmJnAuc2VlaygwKSxXKGUpKWEmJkUoYSx0LG4sITApO2Vsc2V7VihyKSYmKHI9cihzKSk7dmFyIG0sYix4LHksUz1lLnNwbGl0KCIgIik7aD1JKHIpfHxGZSwobT1ocihoKXx8e30pJiYobS5sZWZ0fHxtLnRvcCl8fCJub25lIiE9PXVhKGgpLmRpc3BsYXl8fCh5PWguc3R5bGUuZGlzcGxheSxoLnN0eWxlLmRpc3BsYXk9ImJsb2NrIixtPWhyKGgpLHk/aC5zdHlsZS5kaXNwbGF5PXk6aC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgiZGlzcGxheSIpKSxiPUphKFNbMF0sbVtuLmRdKSx4PUphKFNbMV18fCIwIix0KSxlPW1bbi5wXS1sW24ucF0tYytiK2kteCxhJiZFKGEseCxuLHQteDwyMHx8YS5faXNTdGFydCYmMjA8eCksdC09dC14fWlmKG8pe3ZhciB3PWUrdCxUPW8uX2lzU3RhcnQ7ZD0ic2Nyb2xsIituLmQyLEUobyx3LG4sVCYmMjA8d3x8IVQmJih1P01hdGgubWF4KEZlW2RdLFdlW2RdKTpvLnBhcmVudE5vZGVbZF0pPD13KzEpLHUmJihsPWhyKGEpLHUmJihvLnN0eWxlW24ub3AucF09bFtuLm9wLnBdLW4ub3AubS1vLl9vZmZzZXQrcHIpKX1yZXR1cm4gcCYmaCYmKGQ9aHIoaCkscC5zZWVrKGYpLGc9aHIoaCkscC5fY2FTY3JvbGxEaXN0PWRbbi5wXS1nW24ucF0sZT1lL3AuX2NhU2Nyb2xsRGlzdCpmKSxwJiZwLnNlZWsodikscD9lOk1hdGgucm91bmQoZSl9ZnVuY3Rpb24gcmIoZSxyLHQsbil7aWYoZS5wYXJlbnROb2RlIT09cil7dmFyIGksbyxhPWUuc3R5bGU7aWYocj09PUZlKXtmb3IoaSBpbiBlLl9zdE9yaWc9YS5jc3NUZXh0LG89dWEoZSkpK2l8fEcudGVzdChpKXx8IW9baV18fCJzdHJpbmciIT10eXBlb2YgYVtpXXx8IjAiPT09aXx8KGFbaV09b1tpXSk7YS50b3A9dCxhLmxlZnQ9bn1lbHNlIGEuY3NzVGV4dD1lLl9zdE9yaWc7UmUuY29yZS5nZXRDYWNoZShlKS51bmNhY2hlPTEsci5hcHBlbmRDaGlsZChlKX19ZnVuY3Rpb24gc2IobCxlKXtmdW5jdGlvbiB4ZihlLHIsdCxuLGkpe3ZhciBvPXhmLnR3ZWVuLGE9ci5vbkNvbXBsZXRlLHM9e307cmV0dXJuIG8mJm8ua2lsbCgpLGM9TWF0aC5yb3VuZCh0KSxyW3BdPWUsKHIubW9kaWZpZXJzPXMpW3BdPWZ1bmN0aW9uKGUpe3JldHVybihlPUooZigpKSkhPT1jJiZlIT09dSYmMjxNYXRoLmFicyhlLWMpJiYyPE1hdGguYWJzKGUtdSk/KG8ua2lsbCgpLHhmLnR3ZWVuPTApOmU9dCtuKm8ucmF0aW8raSpvLnJhdGlvKm8ucmF0aW8sdT1jLGM9SihlKX0sci5vbkNvbXBsZXRlPWZ1bmN0aW9uKCl7eGYudHdlZW49MCxhJiZhLmNhbGwobyl9LG89eGYudHdlZW49UmUudG8obCxyKX12YXIgYyx1LGY9TyhsLGUpLHA9Il9zY3JvbGwiK2UucDI7cmV0dXJuIGxbcF09ZixFYShsLCJ3aGVlbCIsZnVuY3Rpb24oKXtyZXR1cm4geGYudHdlZW4mJnhmLnR3ZWVuLmtpbGwoKSYmKHhmLnR3ZWVuPTApfSkseGZ9dmFyIFJlLG8semUsTGUsV2UsRmUsaSxhLFZlLERlLEhlLHMsWGUsamUsbCxKZSxjLHUsZixLZSxZZSx0LCRlLFFlLHAsZCxxZT0xLFVlPVtdLGc9W10sWmU9RGF0ZS5ub3csaD1aZSgpLEdlPTAsZXI9MSxycj1mdW5jdGlvbiBfaXNTdHJpbmcoZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlfSx0cj1NYXRoLmFicyxyPSJzY3JvbGxMZWZ0IixuPSJzY3JvbGxUb3AiLHY9ImxlZnQiLHk9InJpZ2h0Iix3PSJib3R0b20iLG5yPSJ3aWR0aCIsaXI9ImhlaWdodCIsb3I9IlJpZ2h0Iixhcj0iTGVmdCIsc3I9IlRvcCIsbHI9IkJvdHRvbSIsY3I9InBhZGRpbmciLHVyPSJtYXJnaW4iLGZyPSJXaWR0aCIsbT0iSGVpZ2h0Iixwcj0icHgiLGRyPXtzOnIscDp2LHAyOmFyLG9zOnksb3MyOm9yLGQ6bnIsZDI6ZnIsYToieCIsc2M6ZnVuY3Rpb24gc2MoZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/emUuc2Nyb2xsVG8oZSxnci5zYygpKTp6ZS5wYWdlWE9mZnNldHx8TGVbcl18fFdlW3JdfHxGZVtyXXx8MH19LGdyPXtzOm4scDoidG9wIixwMjpzcixvczp3LG9zMjpscixkOmlyLGQyOm0sYToieSIsb3A6ZHIsc2M6ZnVuY3Rpb24gc2MoZSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/emUuc2Nyb2xsVG8oZHIuc2MoKSxlKTp6ZS5wYWdlWU9mZnNldHx8TGVbbl18fFdlW25dfHxGZVtuXXx8MH19LGhyPWZ1bmN0aW9uIF9nZXRCb3VuZHMoZSxyKXt2YXIgdD1yJiYibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApIiE9PXVhKGUpW2xdJiZSZS50byhlLHt4OjAseTowLHhQZXJjZW50OjAseVBlcmNlbnQ6MCxyb3RhdGlvbjowLHJvdGF0aW9uWDowLHJvdGF0aW9uWTowLHNjYWxlOjEsc2tld1g6MCxza2V3WTowfSkucHJvZ3Jlc3MoMSksbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3JldHVybiB0JiZ0LnByb2dyZXNzKDApLmtpbGwoKSxufSx2cj17c3RhcnRDb2xvcjoiZ3JlZW4iLGVuZENvbG9yOiJyZWQiLGluZGVudDowLGZvbnRTaXplOiIxNnB4Iixmb250V2VpZ2h0OiJub3JtYWwifSxtcj17dG9nZ2xlQWN0aW9uczoicGxheSIsYW50aWNpcGF0ZVBpbjowfSxiPXt0b3A6MCxsZWZ0OjAsY2VudGVyOi41LGJvdHRvbToxLHJpZ2h0OjF9LEU9ZnVuY3Rpb24gX3Bvc2l0aW9uTWFya2VyKGUscix0LG4pe3ZhciBpPXtkaXNwbGF5OiJibG9jayJ9LG89dFtuPyJvczIiOiJwMiJdLGE9dFtuPyJwMiI6Im9zMiJdO2UuX2lzRmxpcHBlZD1uLGlbdC5hKyJQZXJjZW50Il09bj8tMTAwOjAsaVt0LmFdPW4/IjFweCI6MCxpWyJib3JkZXIiK28rZnJdPTEsaVsiYm9yZGVyIithK2ZyXT0wLGlbdC5wXT1yKyJweCIsUmUuc2V0KGUsaSl9LGJyPVtdLHhyPXt9LHg9e30saz1bXSxDPVtdLEE9ZnVuY3Rpb24gX2Rpc3BhdGNoKGUpe3JldHVybiB4W2VdJiZ4W2VdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSl8fGt9LEI9W10sUj1mdW5jdGlvbiBfcmV2ZXJ0UmVjb3JkZWQoZSl7Zm9yKHZhciByPTA7cjxCLmxlbmd0aDtyKz01KWUmJkJbcis0XSE9PWV8fChCW3JdLnN0eWxlLmNzc1RleHQ9QltyKzFdLEJbcl0uZ2V0QkJveCYmQltyXS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsQltyKzJdfHwiIiksQltyKzNdLnVuY2FjaGU9MSl9LHo9ZnVuY3Rpb24gX3JldmVydEFsbChlLHIpe3ZhciB0O2ZvcihKZT0wO0plPGJyLmxlbmd0aDtKZSsrKXQ9YnJbSmVdLHImJnQubWVkaWEhPT1yfHwoZT90LmtpbGwoMSk6dC5yZXZlcnQoKSk7ciYmUihyKSxyfHxBKCJyZXZlcnQiKX0sRj1mdW5jdGlvbiBfcmVmcmVzaEFsbChlLHIpe2lmKCFHZXx8ZSl7ZD0hMDt2YXIgdD1BKCJyZWZyZXNoSW5pdCIpO0tlJiZlZS5zb3J0KCkscnx8eigpLGJyLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVmcmVzaCgpfSksYnIuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4ibWF4Ij09PWUudmFycy5lbmQmJmUuc2V0UG9zaXRpb25zKGUuc3RhcnQsUyhlLnNjcm9sbGVyLGUuX2RpcikpfSksdC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnJlbmRlciYmZS5yZW5kZXIoLTEpfSksYWIoKSxhLnBhdXNlKCksZD0hMSxBKCJyZWZyZXNoIil9ZWxzZSBFYShlZSwic2Nyb2xsRW5kIixYYSl9LEQ9MCx5cj0xLGo9ZnVuY3Rpb24gX3VwZGF0ZUFsbCgpe2lmKCFkKXt2YXIgZT1ici5sZW5ndGgscj1aZSgpLHQ9NTA8PXItaCxuPWUmJmJyWzBdLnNjcm9sbCgpO2lmKHlyPW48RD8tMToxLEQ9bix0JiYoR2UmJiFqZSYmMjAwPHItR2UmJihHZT0wLEEoInNjcm9sbEVuZCIpKSxIZT1oLGg9cikseXI8MCl7Zm9yKEplPWU7MDxKZS0tOylicltKZV0mJmJyW0plXS51cGRhdGUoMCx0KTt5cj0xfWVsc2UgZm9yKEplPTA7SmU8ZTtKZSsrKWJyW0plXSYmYnJbSmVdLnVwZGF0ZSgwLHQpfX0sUT1bdiwidG9wIix3LHksdXIrbHIsdXIrb3IsdXIrc3IsdXIrYXIsImRpc3BsYXkiLCJmbGV4U2hyaW5rIiwiZmxvYXQiLCJ6SW5kZXgiLCJncmlkQ29sdW1uU3RhcnQiLCJncmlkQ29sdW1uRW5kIiwiZ3JpZFJvd1N0YXJ0IiwiZ3JpZFJvd0VuZCIsImdyaWRBcmVhIiwianVzdGlmeVNlbGYiLCJhbGlnblNlbGYiLCJwbGFjZVNlbGYiLCJvcmRlciJdLHE9US5jb25jYXQoW25yLGlyLCJib3hTaXppbmciLCJtYXgiK2ZyLCJtYXgiK20sInBvc2l0aW9uIix1cixjcixjcitzcixjcitvcixjcitscixjcithcl0pLFU9LyhbQS1aXSkvZyxTcj1mdW5jdGlvbiBfc2V0U3RhdGUoZSl7aWYoZSl7dmFyIHIsdCxuPWUudC5zdHlsZSxpPWUubGVuZ3RoLG89MDtmb3IoKGUudC5fZ3NhcHx8UmUuY29yZS5nZXRDYWNoZShlLnQpKS51bmNhY2hlPTE7bzxpO28rPTIpdD1lW28rMV0scj1lW29dLHQ/bltyXT10Om5bcl0mJm4ucmVtb3ZlUHJvcGVydHkoci5yZXBsYWNlKFUsIi0kMSIpLnRvTG93ZXJDYXNlKCkpfX0sd3I9e2xlZnQ6MCx0b3A6MH0sRz0vKD86d2Via2l0fG1venxsZW5ndGh8Y3NzVGV4dHxpbnNldCkvaTtkci5vcD1ncjt2YXIgZWU9KFNjcm9sbFRyaWdnZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24gaW5pdChFLGspe2lmKHRoaXMucHJvZ3Jlc3M9dGhpcy5zdGFydD0wLHRoaXMudmFycyYmdGhpcy5raWxsKDEpLGVyKXt2YXIgbSxuLGYsQyxBLEIsUix6LEwsRixELGUsaixKLEssWSxRLHIscSxiLFUsWix4LEcseSx3LHQsVCxlZSxyZSxpLHAsdGUsbmUsaWUsb2UsYWUsc2U9KEU9d2EocnIoRSl8fFcoRSl8fEUubm9kZVR5cGU/e3RyaWdnZXI6RX06RSxtcikpLm9uVXBkYXRlLGxlPUUudG9nZ2xlQ2xhc3Msbz1FLmlkLGNlPUUub25Ub2dnbGUsdWU9RS5vblJlZnJlc2gsZmU9RS5zY3J1YixwZT1FLnRyaWdnZXIsZGU9RS5waW4sZ2U9RS5waW5TcGFjaW5nLGhlPUUuaW52YWxpZGF0ZU9uUmVmcmVzaCx2ZT1FLmFudGljaXBhdGVQaW4sYT1FLm9uU2NydWJDb21wbGV0ZSxkPUUub25TbmFwQ29tcGxldGUsbWU9RS5vbmNlLGJlPUUuc25hcCx4ZT1FLnBpblJlcGFyZW50LHM9RS5waW5TcGFjZXIseWU9RS5jb250YWluZXJBbmltYXRpb24sU2U9RS5mYXN0U2Nyb2xsRW5kLHdlPUUucHJldmVudE92ZXJsYXBzLFRlPUUuaG9yaXpvbnRhbHx8RS5jb250YWluZXJBbmltYXRpb24mJiExIT09RS5ob3Jpem9udGFsP2RyOmdyLEVlPSFmZSYmMCE9PWZlLE9lPUkoRS5zY3JvbGxlcnx8emUpLGw9UmUuY29yZS5nZXRDYWNoZShPZSksX2U9TShPZSksa2U9ImZpeGVkIj09PSgicGluVHlwZSJpbiBFP0UucGluVHlwZTpOKE9lLCJwaW5UeXBlIil8fF9lJiYiZml4ZWQiKSxDZT1bRS5vbkVudGVyLEUub25MZWF2ZSxFLm9uRW50ZXJCYWNrLEUub25MZWF2ZUJhY2tdLE1lPUVlJiZFLnRvZ2dsZUFjdGlvbnMuc3BsaXQoIiAiKSxjPSJtYXJrZXJzImluIEU/RS5tYXJrZXJzOm1yLm1hcmtlcnMsUGU9X2U/MDpwYXJzZUZsb2F0KHVhKE9lKVsiYm9yZGVyIitUZS5wMitmcl0pfHwwLEllPXRoaXMsdT1FLm9uUmVmcmVzaEluaXQmJmZ1bmN0aW9uKCl7cmV0dXJuIEUub25SZWZyZXNoSW5pdChJZSl9LEFlPWZ1bmN0aW9uIF9nZXRTaXplRnVuYyhlLHIsdCl7dmFyIG49dC5kLGk9dC5kMixvPXQuYTtyZXR1cm4obz1OKGUsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIpKT9mdW5jdGlvbigpe3JldHVybiBvKClbbl19OmZ1bmN0aW9uKCl7cmV0dXJuKHI/emVbImlubmVyIitpXTplWyJjbGllbnQiK2ldKXx8MH19KE9lLF9lLFRlKSxOZT1mdW5jdGlvbiBfZ2V0T2Zmc2V0c0Z1bmMoZSxyKXtyZXR1cm4hcnx8flVlLmluZGV4T2YoZSk/UChlKTpmdW5jdGlvbigpe3JldHVybiB3cn19KE9lLF9lKSxnPTAsQmU9TyhPZSxUZSk7aWYoSWUubWVkaWE9UWUsSWUuX2Rpcj1UZSx2ZSo9NDUsSWUuc2Nyb2xsZXI9T2UsSWUuc2Nyb2xsPXllP3llLnRpbWUuYmluZCh5ZSk6QmUsQz1CZSgpLEllLnZhcnM9RSxrPWt8fEUuYW5pbWF0aW9uLCJyZWZyZXNoUHJpb3JpdHkiaW4gRSYmKEtlPTEpLGwudHdlZW5TY3JvbGw9bC50d2VlblNjcm9sbHx8e3RvcDpzYihPZSxnciksbGVmdDpzYihPZSxkcil9LEllLnR3ZWVuVG89bT1sLnR3ZWVuU2Nyb2xsW1RlLnBdLGsmJihrLnZhcnMubGF6eT0hMSxrLl9pbml0dGVkfHwhMSE9PWsudmFycy5pbW1lZGlhdGVSZW5kZXImJiExIT09RS5pbW1lZGlhdGVSZW5kZXImJmsucmVuZGVyKDAsITAsITApLEllLmFuaW1hdGlvbj1rLnBhdXNlKCksay5zY3JvbGxUcmlnZ2VyPUllLChpPVcoZmUpJiZmZSkmJihyZT1SZS50byhrLHtlYXNlOiJwb3dlcjMiLGR1cmF0aW9uOmksb25Db21wbGV0ZTpmdW5jdGlvbiBvbkNvbXBsZXRlKCl7cmV0dXJuIGEmJmEoSWUpfX0pKSxUPTAsbz1vfHxrLnZhcnMuaWQpLGJyLnB1c2goSWUpLGJlJiYoWChiZSkmJiFiZS5wdXNofHwoYmU9e3NuYXBUbzpiZX0pLCJzY3JvbGxCZWhhdmlvciJpbiBGZS5zdHlsZSYmUmUuc2V0KF9lP1tGZSxXZV06T2Use3Njcm9sbEJlaGF2aW9yOiJhdXRvIn0pLGY9VihiZS5zbmFwVG8pP2JlLnNuYXBUbzoibGFiZWxzIj09PWJlLnNuYXBUbz9mdW5jdGlvbiBfZ2V0Q2xvc2VzdExhYmVsKHIpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gUmUudXRpbHMuc25hcCh6YShyKSxlKX19KGspOiJsYWJlbHNEaXJlY3Rpb25hbCI9PT1iZS5zbmFwVG8/ZnVuY3Rpb24gX2dldExhYmVsQXREaXJlY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUscil7cmV0dXJuIEJhKHphKHQpKShlLHIuZGlyZWN0aW9uKX19KGspOiExIT09YmUuZGlyZWN0aW9uYWw/ZnVuY3Rpb24oZSxyKXtyZXR1cm4gQmEoYmUuc25hcFRvKShlLHIuZGlyZWN0aW9uKX06UmUudXRpbHMuc25hcChiZS5zbmFwVG8pLHA9YmUuZHVyYXRpb258fHttaW46LjEsbWF4OjJ9LHA9WChwKT9EZShwLm1pbixwLm1heCk6RGUocCxwKSx0ZT1SZS5kZWxheWVkQ2FsbChiZS5kZWxheXx8aS8yfHwuMSxmdW5jdGlvbigpe2lmKE1hdGguYWJzKEllLmdldFZlbG9jaXR5KCkpPDEwJiYhamUmJmchPT1CZSgpKXt2YXIgZT1rJiYhRWU/ay50b3RhbFByb2dyZXNzKCk6SWUucHJvZ3Jlc3Mscj0oZS1lZSkvKFplKCktSGUpKjFlM3x8MCx0PVJlLnV0aWxzLmNsYW1wKC1JZS5wcm9ncmVzcywxLUllLnByb2dyZXNzLHRyKHIvMikqci8uMTg1KSxuPUllLnByb2dyZXNzKyghMT09PWJlLmluZXJ0aWE/MDp0KSxpPURlKDAsMSxmKG4sSWUpKSxvPUJlKCksYT1NYXRoLnJvdW5kKEIraSpqKSxzPWJlLm9uU3RhcnQsbD1iZS5vbkludGVycnVwdCxjPWJlLm9uQ29tcGxldGUsdT1tLnR3ZWVuO2lmKG88PVImJkI8PW8mJmEhPT1vKXtpZih1JiYhdS5faW5pdHRlZCYmdS5kYXRhPD10cihhLW8pKXJldHVybjshMT09PWJlLmluZXJ0aWEmJih0PWktSWUucHJvZ3Jlc3MpLG0oYSx7ZHVyYXRpb246cCh0ciguMTg1Kk1hdGgubWF4KHRyKG4tZSksdHIoaS1lKSkvci8uMDV8fDApKSxlYXNlOmJlLmVhc2V8fCJwb3dlcjMiLGRhdGE6dHIoYS1vKSxvbkludGVycnVwdDpmdW5jdGlvbiBvbkludGVycnVwdCgpe3JldHVybiB0ZS5yZXN0YXJ0KCEwKSYmbCYmbChJZSl9LG9uQ29tcGxldGU6ZnVuY3Rpb24gb25Db21wbGV0ZSgpe0llLnVwZGF0ZSgpLGc9QmUoKSxUPWVlPWsmJiFFZT9rLnRvdGFsUHJvZ3Jlc3MoKTpJZS5wcm9ncmVzcyxkJiZkKEllKSxjJiZjKEllKX19LG8sdCpqLGEtby10KmopLHMmJnMoSWUsbS50d2Vlbil9fWVsc2UgSWUuaXNBY3RpdmUmJnRlLnJlc3RhcnQoITApfSkucGF1c2UoKSksbyYmKHhyW29dPUllKSxwZT1JZS50cmlnZ2VyPUkocGV8fGRlKSxkZT0hMD09PWRlP3BlOkkoZGUpLHJyKGxlKSYmKGxlPXt0YXJnZXRzOnBlLGNsYXNzTmFtZTpsZX0pLGRlJiYoITE9PT1nZXx8Z2U9PT11cnx8KGdlPSEoIWdlJiYiZmxleCI9PT11YShkZS5wYXJlbnROb2RlKS5kaXNwbGF5KSYmY3IpLEllLnBpbj1kZSwhMSE9PUUuZm9yY2UzRCYmUmUuc2V0KGRlLHtmb3JjZTNEOiEwfSksKG49UmUuY29yZS5nZXRDYWNoZShkZSkpLnNwYWNlcj9KPW4ucGluU3RhdGU6KHMmJigocz1JKHMpKSYmIXMubm9kZVR5cGUmJihzPXMuY3VycmVudHx8cy5uYXRpdmVFbGVtZW50KSxuLnNwYWNlcklzTmF0aXZlPSEhcyxzJiYobi5zcGFjZXJTdGF0ZT1tYihzKSkpLG4uc3BhY2VyPVE9c3x8TGUuY3JlYXRlRWxlbWVudCgiZGl2IiksUS5jbGFzc0xpc3QuYWRkKCJwaW4tc3BhY2VyIiksbyYmUS5jbGFzc0xpc3QuYWRkKCJwaW4tc3BhY2VyLSIrbyksbi5waW5TdGF0ZT1KPW1iKGRlKSksSWUuc3BhY2VyPVE9bi5zcGFjZXIsdD11YShkZSkseD10W2dlK1RlLm9zMl0scT1SZS5nZXRQcm9wZXJ0eShkZSksYj1SZS5xdWlja1NldHRlcihkZSxUZS5hLHByKSxqYihkZSxRLHQpLFk9bWIoZGUpKSxjJiYoZT1YKGMpP3dhKGMsdnIpOnZyLEY9S2EoInNjcm9sbGVyLXN0YXJ0IixvLE9lLFRlLGUsMCksRD1LYSgic2Nyb2xsZXItZW5kIixvLE9lLFRlLGUsMCxGKSxyPUZbIm9mZnNldCIrVGUub3AuZDJdLHo9S2EoInN0YXJ0IixvLE9lLFRlLGUsciwwLHllKSxMPUthKCJlbmQiLG8sT2UsVGUsZSxyLDAseWUpLHllJiYoYWU9UmUucXVpY2tTZXR0ZXIoW3osTF0sVGUuYSxwcikpLGtlfHxVZS5sZW5ndGgmJiEwPT09TihPZSwiZml4ZWRNYXJrZXJzIil8fChmdW5jdGlvbiBfbWFrZVBvc2l0aW9uYWJsZShlKXt2YXIgcj11YShlKS5wb3NpdGlvbjtlLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI9PT1yfHwiZml4ZWQiPT09cj9yOiJyZWxhdGl2ZSJ9KF9lP0ZlOk9lKSxSZS5zZXQoW0YsRF0se2ZvcmNlM0Q6ITB9KSx5PVJlLnF1aWNrU2V0dGVyKEYsVGUuYSxwciksdz1SZS5xdWlja1NldHRlcihELFRlLmEscHIpKSkseWUpe3ZhciBoPXllLnZhcnMub25VcGRhdGUsdj15ZS52YXJzLm9uVXBkYXRlUGFyYW1zO3llLmV2ZW50Q2FsbGJhY2soIm9uVXBkYXRlIixmdW5jdGlvbigpe0llLnVwZGF0ZSgwLDAsMSksaCYmaC5hcHBseSh2fHxbXSl9KX1JZS5wcmV2aW91cz1mdW5jdGlvbigpe3JldHVybiBicltici5pbmRleE9mKEllKS0xXX0sSWUubmV4dD1mdW5jdGlvbigpe3JldHVybiBicltici5pbmRleE9mKEllKSsxXX0sSWUucmV2ZXJ0PWZ1bmN0aW9uKGUpe3ZhciByPSExIT09ZXx8IUllLmVuYWJsZWQsdD1YZTtyIT09SWUuaXNSZXZlcnRlZCYmKHImJihJZS5zY3JvbGwucmVjfHwoSWUuc2Nyb2xsLnJlYz1CZSgpKSxpZT1NYXRoLm1heChCZSgpLEllLnNjcm9sbC5yZWN8fDApLG5lPUllLnByb2dyZXNzLG9lPWsmJmsucHJvZ3Jlc3MoKSkseiYmW3osTCxGLERdLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3R5bGUuZGlzcGxheT1yPyJub25lIjoiYmxvY2sifSksciYmKFhlPTEpLEllLnVwZGF0ZShyKSxYZT10LGRlJiYocj9mdW5jdGlvbiBfc3dhcFBpbk91dChlLHIsdCl7U3IodCk7dmFyIG49ZS5fZ3NhcDtpZihuLnNwYWNlcklzTmF0aXZlKVNyKG4uc3BhY2VyU3RhdGUpO2Vsc2UgaWYoZS5wYXJlbnROb2RlPT09cil7dmFyIGk9ci5wYXJlbnROb2RlO2kmJihpLmluc2VydEJlZm9yZShlLHIpLGkucmVtb3ZlQ2hpbGQocikpfX0oZGUsUSxKKTp4ZSYmSWUuaXNBY3RpdmV8fGpiKGRlLFEsdWEoZGUpLEcpKSxJZS5pc1JldmVydGVkPXIpfSxJZS5yZWZyZXNoPWZ1bmN0aW9uKGUscil7aWYoIVhlJiZJZS5lbmFibGVkfHxyKWlmKGRlJiZlJiZHZSlFYShTY3JvbGxUcmlnZ2VyLCJzY3JvbGxFbmQiLFhhKTtlbHNle1hlPTEscmUmJnJlLnBhdXNlKCksaGUmJmsmJmsudGltZSgtLjAxLCEwKS5pbnZhbGlkYXRlKCksSWUuaXNSZXZlcnRlZHx8SWUucmV2ZXJ0KCk7Zm9yKHZhciB0LG4saSxvLGEscyxsLGMsdSxmLHA9QWUoKSxkPU5lKCksZz15ZT95ZS5kdXJhdGlvbigpOlMoT2UsVGUpLGg9MCx2PTAsbT1FLmVuZCxiPUUuZW5kVHJpZ2dlcnx8cGUseD1FLnN0YXJ0fHwoMCE9PUUuc3RhcnQmJnBlP2RlPyIwIDAiOiIwIDEwMCUiOjApLHk9RS5waW5uZWRDb250YWluZXImJkkoRS5waW5uZWRDb250YWluZXIpLHc9cGUmJk1hdGgubWF4KDAsYnIuaW5kZXhPZihJZSkpfHwwLFQ9dztULS07KShzPWJyW1RdKS5lbmR8fHMucmVmcmVzaCgwLDEpfHwoWGU9MSksIShsPXMucGluKXx8bCE9PXBlJiZsIT09ZGV8fHMuaXNSZXZlcnRlZHx8KChmPWZ8fFtdKS51bnNoaWZ0KHMpLHMucmV2ZXJ0KCkpO2ZvcihWKHgpJiYoeD14KEllKSksQj1wYih4LHBlLHAsVGUsQmUoKSx6LEYsSWUsZCxQZSxrZSxnLHllKXx8KGRlPy0uMDAxOjApLFYobSkmJihtPW0oSWUpKSxycihtKSYmIW0uaW5kZXhPZigiKz0iKSYmKH5tLmluZGV4T2YoIiAiKT9tPShycih4KT94LnNwbGl0KCIgIilbMF06IiIpK206KGg9SmEobS5zdWJzdHIoMikscCksbT1ycih4KT94OkIraCxiPXBlKSksUj1NYXRoLm1heChCLHBiKG18fChiPyIxMDAlIDAiOmcpLGIscCxUZSxCZSgpK2gsTCxELEllLGQsUGUsa2UsZyx5ZSkpfHwtLjAwMSxqPVItQnx8KEItPS4wMSkmJi4wMDEsaD0wLFQ9dztULS07KShsPShzPWJyW1RdKS5waW4pJiZzLnN0YXJ0LXMuX3BpblB1c2g8QiYmIXllJiYodD1zLmVuZC1zLnN0YXJ0LGwhPT1wZSYmbCE9PXl8fFcoeCl8fChoKz10KigxLXMucHJvZ3Jlc3MpKSxsPT09ZGUmJih2Kz10KSk7aWYoQis9aCxSKz1oLEllLl9waW5QdXNoPXYseiYmaCYmKCh0PXt9KVtUZS5hXT0iKz0iK2gseSYmKHRbVGUucF09Ii09IitCZSgpKSxSZS5zZXQoW3osTF0sdCkpLGRlKXQ9dWEoZGUpLG89VGU9PT1ncixpPUJlKCksVT1wYXJzZUZsb2F0KHEoVGUuYSkpK3YsIWcmJjE8UiYmKChfZT9GZTpPZSkuc3R5bGVbIm92ZXJmbG93LSIrVGUuYV09InNjcm9sbCIpLGpiKGRlLFEsdCksWT1tYihkZSksbj1ocihkZSwhMCksYz1rZSYmTyhPZSxvP2RyOmdyKSgpLGdlJiYoKEc9W2dlK1RlLm9zMixqK3YrcHJdKS50PVEsKFQ9Z2U9PT1jcj95YShkZSxUZSkrait2OjApJiZHLnB1c2goVGUuZCxUK3ByKSxTcihHKSxrZSYmQmUoaWUpKSxrZSYmKChhPXt0b3A6bi50b3ArKG8/aS1COmMpK3ByLGxlZnQ6bi5sZWZ0KyhvP2M6aS1CKStwcixib3hTaXppbmc6ImJvcmRlci1ib3giLHBvc2l0aW9uOiJmaXhlZCJ9KVtucl09YS5tYXhXaWR0aD1NYXRoLmNlaWwobi53aWR0aCkrcHIsYVtpcl09YS5tYXhIZWlnaHQ9TWF0aC5jZWlsKG4uaGVpZ2h0KStwcixhW3VyXT1hW3VyK3NyXT1hW3VyK29yXT1hW3VyK2xyXT1hW3VyK2FyXT0iMCIsYVtjcl09dFtjcl0sYVtjcitzcl09dFtjcitzcl0sYVtjcitvcl09dFtjcitvcl0sYVtjcitscl09dFtjcitscl0sYVtjcithcl09dFtjcithcl0sSz1mdW5jdGlvbiBfY29weVN0YXRlKGUscix0KXtmb3IodmFyIG4saT1bXSxvPWUubGVuZ3RoLGE9dD84OjA7YTxvO2ErPTIpbj1lW2FdLGkucHVzaChuLG4gaW4gcj9yW25dOmVbYSsxXSk7cmV0dXJuIGkudD1lLnQsaX0oSixhLHhlKSksaz8odT1rLl9pbml0dGVkLFllKDEpLGsucmVuZGVyKGsuZHVyYXRpb24oKSwhMCwhMCksWj1xKFRlLmEpLVUrait2LGohPT1aJiZLLnNwbGljZShLLmxlbmd0aC0yLDIpLGsucmVuZGVyKDAsITAsITApLHV8fGsuaW52YWxpZGF0ZSgpLFllKDApKTpaPWo7ZWxzZSBpZihwZSYmQmUoKSYmIXllKWZvcihuPXBlLnBhcmVudE5vZGU7biYmbiE9PUZlOyluLl9waW5PZmZzZXQmJihCLT1uLl9waW5PZmZzZXQsUi09bi5fcGluT2Zmc2V0KSxuPW4ucGFyZW50Tm9kZTtmJiZmLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucmV2ZXJ0KCExKX0pLEllLnN0YXJ0PUIsSWUuZW5kPVIsQz1BPUJlKCkseWV8fChDPGllJiZCZShpZSksSWUuc2Nyb2xsLnJlYz0wKSxJZS5yZXZlcnQoITEpLFhlPTAsayYmRWUmJmsuX2luaXR0ZWQmJmsucHJvZ3Jlc3MoKSE9PW9lJiZrLnByb2dyZXNzKG9lLCEwKS5yZW5kZXIoay50aW1lKCksITAsITApLG5lPT09SWUucHJvZ3Jlc3MmJiF5ZXx8KGsmJiFFZSYmay50b3RhbFByb2dyZXNzKG5lLCEwKSxJZS5wcm9ncmVzcz1uZSxJZS51cGRhdGUoMCwwLDEpKSxkZSYmZ2UmJihRLl9waW5PZmZzZXQ9TWF0aC5yb3VuZChJZS5wcm9ncmVzcypaKSksdWUmJnVlKEllKX19LEllLmdldFZlbG9jaXR5PWZ1bmN0aW9uKCl7cmV0dXJuKEJlKCktQSkvKFplKCktSGUpKjFlM3x8MH0sSWUuZW5kQW5pbWF0aW9uPWZ1bmN0aW9uKCl7JChJZS5jYWxsYmFja0FuaW1hdGlvbiksayYmKHJlP3JlLnByb2dyZXNzKDEpOmsucGF1c2VkKCk/RWV8fCQoayxJZS5kaXJlY3Rpb248MCwxKTokKGssay5yZXZlcnNlZCgpKSl9LEllLmxhYmVsVG9TY3JvbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIGsmJmsubGFiZWxzJiYoQnx8SWUucmVmcmVzaCgpfHxCKStrLmxhYmVsc1tlXS9rLmR1cmF0aW9uKCkqanx8MH0sSWUuZ2V0VHJhaWxpbmc9ZnVuY3Rpb24ocil7dmFyIGU9YnIuaW5kZXhPZihJZSksdD0wPEllLmRpcmVjdGlvbj9ici5zbGljZSgwLGUpLnJldmVyc2UoKTpici5zbGljZShlKzEpO3JldHVybiBycihyKT90LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS52YXJzLnByZXZlbnRPdmVybGFwcz09PXJ9KTp0fSxJZS51cGRhdGU9ZnVuY3Rpb24oZSxyLHQpe2lmKCF5ZXx8dHx8ZSl7dmFyIG4saSxvLGEscyxsLGMsdT1JZS5zY3JvbGwoKSxmPWU/MDoodS1CKS9qLHA9ZjwwPzA6MTxmPzE6Znx8MCxkPUllLnByb2dyZXNzO2lmKHImJihBPUMsQz15ZT9CZSgpOnUsYmUmJihlZT1ULFQ9ayYmIUVlP2sudG90YWxQcm9ncmVzcygpOnApKSx2ZSYmIXAmJmRlJiYhWGUmJiFxZSYmR2UmJkI8dSsodS1BKS8oWmUoKS1IZSkqdmUmJihwPTFlLTQpLHAhPT1kJiZJZS5lbmFibGVkKXtpZihhPShzPShuPUllLmlzQWN0aXZlPSEhcCYmcDwxKSE9KCEhZCYmZDwxKSl8fCEhcCE9ISFkLEllLmRpcmVjdGlvbj1kPHA/MTotMSxJZS5wcm9ncmVzcz1wLGEmJiFYZSYmKGk9cCYmIWQ/MDoxPT09cD8xOjE9PT1kPzI6MyxFZSYmKG89IXMmJiJub25lIiE9PU1lW2krMV0mJk1lW2krMV18fE1lW2ldLGM9ayYmKCJjb21wbGV0ZSI9PT1vfHwicmVzZXQiPT09b3x8byBpbiBrKSkpLHdlJiZzJiYoY3x8ZmV8fCFrKSYmKFYod2UpP3dlKEllKTpJZS5nZXRUcmFpbGluZyh3ZSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5lbmRBbmltYXRpb24oKX0pKSxFZXx8KCFyZXx8WGV8fHFlP2smJmsudG90YWxQcm9ncmVzcyhwLCEhWGUpOihyZS52YXJzLnRvdGFsUHJvZ3Jlc3M9cCxyZS5pbnZhbGlkYXRlKCkucmVzdGFydCgpKSksZGUpaWYoZSYmZ2UmJihRLnN0eWxlW2dlK1RlLm9zMl09eCksa2Upe2lmKGEpe2lmKGw9IWUmJmQ8cCYmdTxSKzEmJnUrMT49UyhPZSxUZSkseGUpaWYoZXx8IW4mJiFsKXJiKGRlLFEpO2Vsc2V7dmFyIGc9aHIoZGUsITApLGg9dS1CO3JiKGRlLEZlLGcudG9wKyhUZT09PWdyP2g6MCkrcHIsZy5sZWZ0KyhUZT09PWdyPzA6aCkrcHIpfVNyKG58fGw/SzpZKSxaIT09aiYmcDwxJiZufHxiKFUrKDEhPT1wfHxsPzA6WikpfX1lbHNlIGIoVStaKnApOyFiZXx8bS50d2Vlbnx8WGV8fHFlfHx0ZS5yZXN0YXJ0KCEwKSxsZSYmKHN8fG1lJiZwJiYocDwxfHwhJGUpKSYmVmUobGUudGFyZ2V0cykuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5jbGFzc0xpc3Rbbnx8bWU/ImFkZCI6InJlbW92ZSJdKGxlLmNsYXNzTmFtZSl9KSwhc2V8fEVlfHxlfHxzZShJZSksYSYmIVhlPyhFZSYmKGMmJigiY29tcGxldGUiPT09bz9rLnBhdXNlKCkudG90YWxQcm9ncmVzcygxKToicmVzZXQiPT09bz9rLnJlc3RhcnQoITApLnBhdXNlKCk6InJlc3RhcnQiPT09bz9rLnJlc3RhcnQoITApOmtbb10oKSksc2UmJnNlKEllKSksIXMmJiRlfHwoY2UmJnMmJl8oSWUsY2UpLENlW2ldJiZfKEllLENlW2ldKSxtZSYmKDE9PT1wP0llLmtpbGwoITEsMSk6Q2VbaV09MCksc3x8Q2VbaT0xPT09cD8xOjNdJiZfKEllLENlW2ldKSksU2UmJiFuJiZNYXRoLmFicyhJZS5nZXRWZWxvY2l0eSgpKT4oVyhTZSk/U2U6MjUwMCkmJigkKEllLmNhbGxiYWNrQW5pbWF0aW9uKSxyZT9yZS5wcm9ncmVzcygxKTokKGssIXAsMSkpKTpFZSYmc2UmJiFYZSYmc2UoSWUpfWlmKHcpe3ZhciB2PXllP3UveWUuZHVyYXRpb24oKSooeWUuX2NhU2Nyb2xsRGlzdHx8MCk6dTt5KHYrKEYuX2lzRmxpcHBlZD8xOjApKSx3KHYpfWFlJiZhZSgtdS95ZS5kdXJhdGlvbigpKih5ZS5fY2FTY3JvbGxEaXN0fHwwKSl9fSxJZS5lbmFibGU9ZnVuY3Rpb24oZSxyKXtJZS5lbmFibGVkfHwoSWUuZW5hYmxlZD0hMCxFYShPZSwicmVzaXplIixRYSksRWEoT2UsInNjcm9sbCIsUGEpLHUmJkVhKFNjcm9sbFRyaWdnZXIsInJlZnJlc2hJbml0Iix1KSwhMSE9PWUmJihJZS5wcm9ncmVzcz1uZT0wLEM9QT1nPUJlKCkpLCExIT09ciYmSWUucmVmcmVzaCgpKX0sSWUuZ2V0VHdlZW49ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJm0/bS50d2VlbjpyZX0sSWUuc2V0UG9zaXRpb25zPWZ1bmN0aW9uKGUscil7ZGUmJihVKz1lLUIsWis9ci1lLWopLEllLnN0YXJ0PUI9ZSxJZS5lbmQ9Uj1yLGo9ci1lLEllLnVwZGF0ZSgpfSxJZS5kaXNhYmxlPWZ1bmN0aW9uKGUscil7aWYoSWUuZW5hYmxlZCYmKCExIT09ZSYmSWUucmV2ZXJ0KCksSWUuZW5hYmxlZD1JZS5pc0FjdGl2ZT0hMSxyfHxyZSYmcmUucGF1c2UoKSxpZT0wLG4mJihuLnVuY2FjaGU9MSksdSYmRmEoU2Nyb2xsVHJpZ2dlciwicmVmcmVzaEluaXQiLHUpLHRlJiYodGUucGF1c2UoKSxtLnR3ZWVuJiZtLnR3ZWVuLmtpbGwoKSYmKG0udHdlZW49MCkpLCFfZSkpe2Zvcih2YXIgdD1ici5sZW5ndGg7dC0tOylpZihiclt0XS5zY3JvbGxlcj09PU9lJiZiclt0XSE9PUllKXJldHVybjtGYShPZSwicmVzaXplIixRYSksRmEoT2UsInNjcm9sbCIsUGEpfX0sSWUua2lsbD1mdW5jdGlvbihlLHIpe0llLmRpc2FibGUoZSxyKSxyZSYmcmUua2lsbCgpLG8mJmRlbGV0ZSB4cltvXTt2YXIgdD1ici5pbmRleE9mKEllKTswPD10JiZici5zcGxpY2UodCwxKSx0PT09SmUmJjA8eXImJkplLS0sdD0wLGJyLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Nyb2xsZXI9PT1JZS5zY3JvbGxlciYmKHQ9MSl9KSx0fHwoSWUuc2Nyb2xsLnJlYz0wKSxrJiYoay5zY3JvbGxUcmlnZ2VyPW51bGwsZSYmay5yZW5kZXIoLTEpLHJ8fGsua2lsbCgpKSx6JiZbeixMLEYsRF0uZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJlbnROb2RlJiZlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSl9KSxkZSYmKG4mJihuLnVuY2FjaGU9MSksdD0wLGJyLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucGluPT09ZGUmJnQrK30pLHR8fChuLnNwYWNlcj0wKSl9LEllLmVuYWJsZSghMSwhMSksayYmay5hZGQmJiFqP1JlLmRlbGF5ZWRDYWxsKC4wMSxmdW5jdGlvbigpe3JldHVybiBCfHxSfHxJZS5yZWZyZXNoKCl9KSYmKGo9LjAxKSYmKEI9Uj0wKTpJZS5yZWZyZXNoKCl9ZWxzZSB0aGlzLnVwZGF0ZT10aGlzLnJlZnJlc2g9dGhpcy5raWxsPUh9LFNjcm9sbFRyaWdnZXIucmVnaXN0ZXI9ZnVuY3Rpb24gcmVnaXN0ZXIoZSl7aWYoIW8mJihSZT1lfHxMKCksSygpJiZ3aW5kb3cuZG9jdW1lbnQmJih6ZT13aW5kb3csTGU9ZG9jdW1lbnQsV2U9TGUuZG9jdW1lbnRFbGVtZW50LEZlPUxlLmJvZHkpLFJlJiYoVmU9UmUudXRpbHMudG9BcnJheSxEZT1SZS51dGlscy5jbGFtcCxZZT1SZS5jb3JlLnN1cHByZXNzT3ZlcndyaXRlc3x8SCxSZS5jb3JlLmdsb2JhbHMoIlNjcm9sbFRyaWdnZXIiLFNjcm9sbFRyaWdnZXIpLEZlKSkpe0VhKHplLCJ3aGVlbCIsUGEpLGk9W3plLExlLFdlLEZlXSxFYShMZSwic2Nyb2xsIixQYSk7dmFyIHIsdD1GZS5zdHlsZSxuPXQuYm9yZGVyVG9wU3R5bGU7dC5ib3JkZXJUb3BTdHlsZT0ic29saWQiLHI9aHIoRmUpLGdyLm09TWF0aC5yb3VuZChyLnRvcCtnci5zYygpKXx8MCxkci5tPU1hdGgucm91bmQoci5sZWZ0K2RyLnNjKCkpfHwwLG4/dC5ib3JkZXJUb3BTdHlsZT1uOnQucmVtb3ZlUHJvcGVydHkoImJvcmRlci10b3Atc3R5bGUiKSxzPXNldEludGVydmFsKE9hLDIwMCksUmUuZGVsYXllZENhbGwoLjUsZnVuY3Rpb24oKXtyZXR1cm4gcWU9MH0pLEVhKExlLCJ0b3VjaGNhbmNlbCIsSCksRWEoRmUsInRvdWNoc3RhcnQiLEgpLERhKEVhLExlLCJwb2ludGVyZG93bix0b3VjaHN0YXJ0LG1vdXNlZG93biIsZnVuY3Rpb24oKXtyZXR1cm4gamU9MX0pLERhKEVhLExlLCJwb2ludGVydXAsdG91Y2hlbmQsbW91c2V1cCIsZnVuY3Rpb24oKXtyZXR1cm4gamU9MH0pLGw9UmUudXRpbHMuY2hlY2tQcmVmaXgoInRyYW5zZm9ybSIpLHEucHVzaChsKSxvPVplKCksYT1SZS5kZWxheWVkQ2FsbCguMixGKS5wYXVzZSgpLGY9W0xlLCJ2aXNpYmlsaXR5Y2hhbmdlIixmdW5jdGlvbigpe3ZhciBlPXplLmlubmVyV2lkdGgscj16ZS5pbm5lckhlaWdodDtMZS5oaWRkZW4/KGM9ZSx1PXIpOmM9PT1lJiZ1PT09cnx8UWEoKX0sTGUsIkRPTUNvbnRlbnRMb2FkZWQiLEYsemUsImxvYWQiLGZ1bmN0aW9uKCl7cmV0dXJuIEdlfHxGKCl9LHplLCJyZXNpemUiLFFhXSxUKEVhKX1yZXR1cm4gb30sU2Nyb2xsVHJpZ2dlci5kZWZhdWx0cz1mdW5jdGlvbiBkZWZhdWx0cyhlKXtpZihlKWZvcih2YXIgciBpbiBlKW1yW3JdPWVbcl07cmV0dXJuIG1yfSxTY3JvbGxUcmlnZ2VyLmtpbGw9ZnVuY3Rpb24ga2lsbCgpe2VyPTAsYnIuc2xpY2UoMCkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZS5raWxsKDEpfSl9LFNjcm9sbFRyaWdnZXIuY29uZmlnPWZ1bmN0aW9uIGNvbmZpZyhlKXsibGltaXRDYWxsYmFja3MiaW4gZSYmKCRlPSEhZS5saW1pdENhbGxiYWNrcyk7dmFyIHI9ZS5zeW5jSW50ZXJ2YWw7ciYmY2xlYXJJbnRlcnZhbChzKXx8KHM9cikmJnNldEludGVydmFsKE9hLHIpLCJhdXRvUmVmcmVzaEV2ZW50cyJpbiBlJiYoVChGYSl8fFQoRWEsZS5hdXRvUmVmcmVzaEV2ZW50c3x8Im5vbmUiKSx0PS0xPT09KGUuYXV0b1JlZnJlc2hFdmVudHMrIiIpLmluZGV4T2YoInJlc2l6ZSIpKX0sU2Nyb2xsVHJpZ2dlci5zY3JvbGxlclByb3h5PWZ1bmN0aW9uIHNjcm9sbGVyUHJveHkoZSxyKXt2YXIgdD1JKGUpLG49Zy5pbmRleE9mKHQpLGk9TSh0KTt+biYmZy5zcGxpY2UobixpPzY6MiksciYmKGk/VWUudW5zaGlmdCh6ZSxyLEZlLHIsV2Uscik6VWUudW5zaGlmdCh0LHIpKX0sU2Nyb2xsVHJpZ2dlci5tYXRjaE1lZGlhPWZ1bmN0aW9uIG1hdGNoTWVkaWEoZSl7dmFyIHIsdCxuLGksbztmb3IodCBpbiBlKW49Qy5pbmRleE9mKHQpLGk9ZVt0XSwiYWxsIj09PShRZT10KT9pKCk6KHI9emUubWF0Y2hNZWRpYSh0KSkmJihyLm1hdGNoZXMmJihvPWkoKSksfm4/KENbbisxXT1aKENbbisxXSxpKSxDW24rMl09WihDW24rMl0sbykpOihuPUMubGVuZ3RoLEMucHVzaCh0LGksbyksci5hZGRMaXN0ZW5lcj9yLmFkZExpc3RlbmVyKFdhKTpyLmFkZEV2ZW50TGlzdGVuZXIoImNoYW5nZSIsV2EpKSxDW24rM109ci5tYXRjaGVzKSxRZT0wO3JldHVybiBDfSxTY3JvbGxUcmlnZ2VyLmNsZWFyTWF0Y2hNZWRpYT1mdW5jdGlvbiBjbGVhck1hdGNoTWVkaWEoZSl7ZXx8KEMubGVuZ3RoPTApLDA8PShlPUMuaW5kZXhPZihlKSkmJkMuc3BsaWNlKGUsNCl9LFNjcm9sbFRyaWdnZXIuaXNJblZpZXdwb3J0PWZ1bmN0aW9uIGlzSW5WaWV3cG9ydChlLHIsdCl7dmFyIG49KHJyKGUpP0koZSk6ZSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1uW3Q/bnI6aXJdKnJ8fDA7cmV0dXJuIHQ/MDxuLnJpZ2h0LWkmJm4ubGVmdCtpPHplLmlubmVyV2lkdGg6MDxuLmJvdHRvbS1pJiZuLnRvcCtpPHplLmlubmVySGVpZ2h0fSxTY3JvbGxUcmlnZ2VyLnBvc2l0aW9uSW5WaWV3cG9ydD1mdW5jdGlvbiBwb3NpdGlvbkluVmlld3BvcnQoZSxyLHQpe3JyKGUpJiYoZT1JKGUpKTt2YXIgbj1lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGk9blt0P25yOmlyXSxvPW51bGw9PXI/aS8yOnIgaW4gYj9iW3JdKmk6fnIuaW5kZXhPZigiJSIpP3BhcnNlRmxvYXQocikqaS8xMDA6cGFyc2VGbG9hdChyKXx8MDtyZXR1cm4gdD8obi5sZWZ0K28pL3plLmlubmVyV2lkdGg6KG4udG9wK28pL3plLmlubmVySGVpZ2h0fSxTY3JvbGxUcmlnZ2VyKTtmdW5jdGlvbiBTY3JvbGxUcmlnZ2VyKGUscil7b3x8U2Nyb2xsVHJpZ2dlci5yZWdpc3RlcihSZSl8fGNvbnNvbGUud2FybigiUGxlYXNlIGdzYXAucmVnaXN0ZXJQbHVnaW4oU2Nyb2xsVHJpZ2dlcikiKSx0aGlzLmluaXQoZSxyKX1lZS52ZXJzaW9uPSIzLjkuMCIsZWUuc2F2ZVN0eWxlcz1mdW5jdGlvbihlKXtyZXR1cm4gZT9WZShlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2lmKGUmJmUuc3R5bGUpe3ZhciByPUIuaW5kZXhPZihlKTswPD1yJiZCLnNwbGljZShyLDUpLEIucHVzaChlLGUuc3R5bGUuY3NzVGV4dCxlLmdldEJCb3gmJmUuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKSxSZS5jb3JlLmdldENhY2hlKGUpLFFlKX19KTpCfSxlZS5yZXZlcnQ9ZnVuY3Rpb24oZSxyKXtyZXR1cm4geighZSxyKX0sZWUuY3JlYXRlPWZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyBlZShlLHIpfSxlZS5yZWZyZXNoPWZ1bmN0aW9uKGUpe3JldHVybiBlP1FhKCk6KG98fGVlLnJlZ2lzdGVyKCkpJiZGKCEwKX0sZWUudXBkYXRlPWosZWUuY2xlYXJTY3JvbGxNZW1vcnk9YWIsZWUubWF4U2Nyb2xsPWZ1bmN0aW9uKGUscil7cmV0dXJuIFMoZSxyP2RyOmdyKX0sZWUuZ2V0U2Nyb2xsRnVuYz1mdW5jdGlvbihlLHIpe3JldHVybiBPKEkoZSkscj9kcjpncil9LGVlLmdldEJ5SWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHhyW2VdfSxlZS5nZXRBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gYnIuc2xpY2UoMCl9LGVlLmlzU2Nyb2xsaW5nPWZ1bmN0aW9uKCl7cmV0dXJuISFHZX0sZWUuc25hcERpcmVjdGlvbmFsPUJhLGVlLmFkZEV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oZSxyKXt2YXIgdD14W2VdfHwoeFtlXT1bXSk7fnQuaW5kZXhPZihyKXx8dC5wdXNoKHIpfSxlZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGUscil7dmFyIHQ9eFtlXSxuPXQmJnQuaW5kZXhPZihyKTswPD1uJiZ0LnNwbGljZShuLDEpfSxlZS5iYXRjaD1mdW5jdGlvbihlLHIpe2Z1bmN0aW9uIE5qKGUscil7dmFyIHQ9W10sbj1bXSxpPVJlLmRlbGF5ZWRDYWxsKG8sZnVuY3Rpb24oKXtyKHQsbiksdD1bXSxuPVtdfSkucGF1c2UoKTtyZXR1cm4gZnVuY3Rpb24oZSl7dC5sZW5ndGh8fGkucmVzdGFydCghMCksdC5wdXNoKGUudHJpZ2dlciksbi5wdXNoKGUpLGE8PXQubGVuZ3RoJiZpLnByb2dyZXNzKDEpfX12YXIgdCxuPVtdLGk9e30sbz1yLmludGVydmFsfHwuMDE2LGE9ci5iYXRjaE1heHx8MWU5O2Zvcih0IGluIHIpaVt0XT0ib24iPT09dC5zdWJzdHIoMCwyKSYmVihyW3RdKSYmIm9uUmVmcmVzaEluaXQiIT09dD9OaigwLHJbdF0pOnJbdF07cmV0dXJuIFYoYSkmJihhPWEoKSxFYShlZSwicmVmcmVzaCIsZnVuY3Rpb24oKXtyZXR1cm4gYT1yLmJhdGNoTWF4KCl9KSksVmUoZSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj17fTtmb3IodCBpbiBpKXJbdF09aVt0XTtyLnRyaWdnZXI9ZSxuLnB1c2goZWUuY3JlYXRlKHIpKX0pLG59LGVlLnNvcnQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGJyLnNvcnQoZXx8ZnVuY3Rpb24oZSxyKXtyZXR1cm4tMWU2KihlLnZhcnMucmVmcmVzaFByaW9yaXR5fHwwKStlLnN0YXJ0LShyLnN0YXJ0Ky0xZTYqKHIudmFycy5yZWZyZXNoUHJpb3JpdHl8fDApKX0pfSxMKCkmJlJlLnJlZ2lzdGVyUGx1Z2luKGVlKSxlLlNjcm9sbFRyaWdnZXI9ZWUsZS5kZWZhdWx0PWVlO2lmICh0eXBlb2Yod2luZG93KT09PSJ1bmRlZmluZWQifHx3aW5kb3chPT1lKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9IGVsc2Uge2RlbGV0ZSBlLmRlZmF1bHR9fSk7CgpQSwMECgAAAAAAQFd0VRnMctYJIgQACSIEABgAAABhc3NldHMvanMvL2xvdHRpZS5taW4uanModHlwZW9mIG5hdmlnYXRvciAhPT0gInVuZGVmaW5lZCIpICYmIChmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7CiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gImZ1bmN0aW9uIiAmJiBkZWZpbmUuYW1kKSB7CiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gZmFjdG9yeShyb290KTsKICAgICAgICB9KTsKICAgIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gIm9iamVjdCIgJiYgbW9kdWxlLmV4cG9ydHMpIHsKICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnkocm9vdCk7CiAgICB9IGVsc2UgewogICAgICAgIHJvb3QubG90dGllID0gZmFjdG9yeShyb290KTsKICAgICAgICByb290LmJvZHltb3ZpbiA9IHJvb3QubG90dGllOwogICAgfQp9KCh3aW5kb3cgfHwge30pLCBmdW5jdGlvbih3aW5kb3cpIHsKCSJ1c2Ugc3RyaWN0Ijt2YXIgc3ZnTlM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIixsb2NhdGlvbkhyZWY9IiIsaW5pdGlhbERlZmF1bHRGcmFtZT0tOTk5OTk5LF91c2VXZWJXb3JrZXI9ITEsc3ViZnJhbWVFbmFibGVkPSEwLGlkUHJlZml4PSIiLGV4cHJlc3Npb25zUGx1Z2luLGlzU2FmYXJpPS9eKCg/IWNocm9tZXxhbmRyb2lkKS4pKnNhZmFyaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksY2FjaGVkQ29sb3JzPXt9LGJtUm5kLGJtUG93PU1hdGgucG93LGJtU3FydD1NYXRoLnNxcnQsYm1GbG9vcj1NYXRoLmZsb29yLGJtTWF4PU1hdGgubWF4LGJtTWluPU1hdGgubWluLEJNTWF0aD17fTtmdW5jdGlvbiBQcm9qZWN0SW50ZXJmYWNlKCl7cmV0dXJue319IWZ1bmN0aW9uKCl7dmFyIHQsZT1bImFicyIsImFjb3MiLCJhY29zaCIsImFzaW4iLCJhc2luaCIsImF0YW4iLCJhdGFuaCIsImF0YW4yIiwiY2VpbCIsImNicnQiLCJleHBtMSIsImNsejMyIiwiY29zIiwiY29zaCIsImV4cCIsImZsb29yIiwiZnJvdW5kIiwiaHlwb3QiLCJpbXVsIiwibG9nIiwibG9nMXAiLCJsb2cyIiwibG9nMTAiLCJtYXgiLCJtaW4iLCJwb3ciLCJyYW5kb20iLCJyb3VuZCIsInNpZ24iLCJzaW4iLCJzaW5oIiwic3FydCIsInRhbiIsInRhbmgiLCJ0cnVuYyIsIkUiLCJMTjEwIiwiTE4yIiwiTE9HMTBFIiwiTE9HMkUiLCJQSSIsIlNRUlQxXzIiLCJTUVJUMiJdLHI9ZS5sZW5ndGg7Zm9yKHQ9MDt0PHI7dCs9MSlCTU1hdGhbZVt0XV09TWF0aFtlW3RdXX0oKSxCTU1hdGgucmFuZG9tPU1hdGgucmFuZG9tLEJNTWF0aC5hYnM9ZnVuY3Rpb24odCl7aWYoIm9iamVjdCI9PT10eXBlb2YgdCYmdC5sZW5ndGgpe3ZhciBlLHI9Y3JlYXRlU2l6ZWRBcnJheSh0Lmxlbmd0aCksaT10Lmxlbmd0aDtmb3IoZT0wO2U8aTtlKz0xKXJbZV09TWF0aC5hYnModFtlXSk7cmV0dXJuIHJ9cmV0dXJuIE1hdGguYWJzKHQpfTt2YXIgZGVmYXVsdEN1cnZlU2VnbWVudHM9MTUwLGRlZ1RvUmFkcz1NYXRoLlBJLzE4MCxyb3VuZENvcm5lcj0uNTUxOTtmdW5jdGlvbiByb3VuZFZhbHVlcyh0KXtibVJuZD10P01hdGgucm91bmQ6ZnVuY3Rpb24odCl7cmV0dXJuIHR9fWZ1bmN0aW9uIHN0eWxlRGl2KHQpe3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIix0LnN0eWxlLnRvcD0wLHQuc3R5bGUubGVmdD0wLHQuc3R5bGUuZGlzcGxheT0iYmxvY2siLHQuc3R5bGUudHJhbnNmb3JtT3JpZ2luPSIwIDAiLHQuc3R5bGUud2Via2l0VHJhbnNmb3JtT3JpZ2luPSIwIDAiLHQuc3R5bGUuYmFja2ZhY2VWaXNpYmlsaXR5PSJ2aXNpYmxlIix0LnN0eWxlLndlYmtpdEJhY2tmYWNlVmlzaWJpbGl0eT0idmlzaWJsZSIsdC5zdHlsZS50cmFuc2Zvcm1TdHlsZT0icHJlc2VydmUtM2QiLHQuc3R5bGUud2Via2l0VHJhbnNmb3JtU3R5bGU9InByZXNlcnZlLTNkIix0LnN0eWxlLm1velRyYW5zZm9ybVN0eWxlPSJwcmVzZXJ2ZS0zZCJ9ZnVuY3Rpb24gQk1FbnRlckZyYW1lRXZlbnQodCxlLHIsaSl7dGhpcy50eXBlPXQsdGhpcy5jdXJyZW50VGltZT1lLHRoaXMudG90YWxUaW1lPXIsdGhpcy5kaXJlY3Rpb249aTwwPy0xOjF9ZnVuY3Rpb24gQk1Db21wbGV0ZUV2ZW50KHQsZSl7dGhpcy50eXBlPXQsdGhpcy5kaXJlY3Rpb249ZTwwPy0xOjF9ZnVuY3Rpb24gQk1Db21wbGV0ZUxvb3BFdmVudCh0LGUscixpKXt0aGlzLnR5cGU9dCx0aGlzLmN1cnJlbnRMb29wPXIsdGhpcy50b3RhbExvb3BzPWUsdGhpcy5kaXJlY3Rpb249aTwwPy0xOjF9ZnVuY3Rpb24gQk1TZWdtZW50U3RhcnRFdmVudCh0LGUscil7dGhpcy50eXBlPXQsdGhpcy5maXJzdEZyYW1lPWUsdGhpcy50b3RhbEZyYW1lcz1yfWZ1bmN0aW9uIEJNRGVzdHJveUV2ZW50KHQsZSl7dGhpcy50eXBlPXQsdGhpcy50YXJnZXQ9ZX1mdW5jdGlvbiBCTVJlbmRlckZyYW1lRXJyb3JFdmVudCh0LGUpe3RoaXMudHlwZT0icmVuZGVyRnJhbWVFcnJvciIsdGhpcy5uYXRpdmVFcnJvcj10LHRoaXMuY3VycmVudFRpbWU9ZX1mdW5jdGlvbiBCTUNvbmZpZ0Vycm9yRXZlbnQodCl7dGhpcy50eXBlPSJjb25maWdFcnJvciIsdGhpcy5uYXRpdmVFcnJvcj10fWZ1bmN0aW9uIEJNQW5pbWF0aW9uQ29uZmlnRXJyb3JFdmVudCh0LGUpe3RoaXMudHlwZT10LHRoaXMubmF0aXZlRXJyb3I9ZX1yb3VuZFZhbHVlcyghMSk7dmFyIGNyZWF0ZUVsZW1lbnRJRD0oRj0wLGZ1bmN0aW9uKCl7cmV0dXJuIGlkUHJlZml4KyJfX2xvdHRpZV9lbGVtZW50XyIrKEYrPTEpfSksRjtmdW5jdGlvbiBIU1Z0b1JHQih0LGUscil7dmFyIGkscyxhLG4sbyxoLGwscDtzd2l0Y2goaD1yKigxLWUpLGw9ciooMS0obz02KnQtKG49TWF0aC5mbG9vcig2KnQpKSkqZSkscD1yKigxLSgxLW8pKmUpLG4lNil7Y2FzZSAwOmk9cixzPXAsYT1oO2JyZWFrO2Nhc2UgMTppPWwscz1yLGE9aDticmVhaztjYXNlIDI6aT1oLHM9cixhPXA7YnJlYWs7Y2FzZSAzOmk9aCxzPWwsYT1yO2JyZWFrO2Nhc2UgNDppPXAscz1oLGE9cjticmVhaztjYXNlIDU6aT1yLHM9aCxhPWx9cmV0dXJuW2kscyxhXX1mdW5jdGlvbiBSR0J0b0hTVih0LGUscil7dmFyIGkscz1NYXRoLm1heCh0LGUsciksYT1NYXRoLm1pbih0LGUsciksbj1zLWEsbz0wPT09cz8wOm4vcyxoPXMvMjU1O3N3aXRjaChzKXtjYXNlIGE6aT0wO2JyZWFrO2Nhc2UgdDppPWUtcituKihlPHI/NjowKSxpLz02Km47YnJlYWs7Y2FzZSBlOmk9ci10KzIqbixpLz02Km47YnJlYWs7Y2FzZSByOmk9dC1lKzQqbixpLz02Km59cmV0dXJuW2ksbyxoXX1mdW5jdGlvbiBhZGRTYXR1cmF0aW9uVG9SR0IodCxlKXt2YXIgcj1SR0J0b0hTVigyNTUqdFswXSwyNTUqdFsxXSwyNTUqdFsyXSk7cmV0dXJuIHJbMV0rPWUsMTxyWzFdP3JbMV09MTpyWzFdPD0wJiYoclsxXT0wKSxIU1Z0b1JHQihyWzBdLHJbMV0sclsyXSl9ZnVuY3Rpb24gYWRkQnJpZ2h0bmVzc1RvUkdCKHQsZSl7dmFyIHI9UkdCdG9IU1YoMjU1KnRbMF0sMjU1KnRbMV0sMjU1KnRbMl0pO3JldHVybiByWzJdKz1lLDE8clsyXT9yWzJdPTE6clsyXTwwJiYoclsyXT0wKSxIU1Z0b1JHQihyWzBdLHJbMV0sclsyXSl9ZnVuY3Rpb24gYWRkSHVlVG9SR0IodCxlKXt2YXIgcj1SR0J0b0hTVigyNTUqdFswXSwyNTUqdFsxXSwyNTUqdFsyXSk7cmV0dXJuIHJbMF0rPWUvMzYwLDE8clswXT9yWzBdLT0xOnJbMF08MCYmKHJbMF0rPTEpLEhTVnRvUkdCKHJbMF0sclsxXSxyWzJdKX12YXIgcmdiVG9IZXg9ZnVuY3Rpb24oKXt2YXIgdCxlLGk9W107Zm9yKHQ9MDt0PDI1Njt0Kz0xKWU9dC50b1N0cmluZygxNiksaVt0XT0xPT09ZS5sZW5ndGg/IjAiK2U6ZTtyZXR1cm4gZnVuY3Rpb24odCxlLHIpe3JldHVybiB0PDAmJih0PTApLGU8MCYmKGU9MCkscjwwJiYocj0wKSwiIyIraVt0XStpW2VdK2lbcl19fSgpO2Z1bmN0aW9uIEJhc2VFdmVudCgpe31CYXNlRXZlbnQucHJvdG90eXBlPXt0cmlnZ2VyRXZlbnQ6ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9jYnNbdF0pZm9yKHZhciByPXRoaXMuX2Nic1t0XSxpPTA7aTxyLmxlbmd0aDtpKz0xKXJbaV0oZSl9LGFkZEV2ZW50TGlzdGVuZXI6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5fY2JzW3RdfHwodGhpcy5fY2JzW3RdPVtdKSx0aGlzLl9jYnNbdF0ucHVzaChlKSxmdW5jdGlvbigpe3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LGUpfS5iaW5kKHRoaXMpfSxyZW1vdmVFdmVudExpc3RlbmVyOmZ1bmN0aW9uKHQsZSl7aWYoZSl7aWYodGhpcy5fY2JzW3RdKXtmb3IodmFyIHI9MCxpPXRoaXMuX2Nic1t0XS5sZW5ndGg7cjxpOyl0aGlzLl9jYnNbdF1bcl09PT1lJiYodGhpcy5fY2JzW3RdLnNwbGljZShyLDEpLHItPTEsaS09MSkscis9MTt0aGlzLl9jYnNbdF0ubGVuZ3RofHwodGhpcy5fY2JzW3RdPW51bGwpfX1lbHNlIHRoaXMuX2Nic1t0XT1udWxsfX07dmFyIGNyZWF0ZVR5cGVkQXJyYXk9ZnVuY3Rpb24oKXtmdW5jdGlvbiByKHQsZSl7dmFyIHIsaT0wLHM9W107c3dpdGNoKHQpe2Nhc2UiaW50MTYiOmNhc2UidWludDhjIjpyPTE7YnJlYWs7ZGVmYXVsdDpyPTEuMX1mb3IoaT0wO2k8ZTtpKz0xKXMucHVzaChyKTtyZXR1cm4gc31yZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgVWludDhDbGFtcGVkQXJyYXkmJiJmdW5jdGlvbiI9PXR5cGVvZiBGbG9hdDMyQXJyYXk/ZnVuY3Rpb24odCxlKXtyZXR1cm4iZmxvYXQzMiI9PT10P25ldyBGbG9hdDMyQXJyYXkoZSk6ImludDE2Ij09PXQ/bmV3IEludDE2QXJyYXkoZSk6InVpbnQ4YyI9PT10P25ldyBVaW50OENsYW1wZWRBcnJheShlKTpyKHQsZSl9OnJ9KCk7ZnVuY3Rpb24gY3JlYXRlU2l6ZWRBcnJheSh0KXtyZXR1cm4gQXJyYXkuYXBwbHkobnVsbCx7bGVuZ3RoOnR9KX1mdW5jdGlvbiBjcmVhdGVOUyh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHN2Z05TLHQpfWZ1bmN0aW9uIGNyZWF0ZVRhZyh0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0KX1mdW5jdGlvbiBEeW5hbWljUHJvcGVydHlDb250YWluZXIoKXt9RHluYW1pY1Byb3BlcnR5Q29udGFpbmVyLnByb3RvdHlwZT17YWRkRHluYW1pY1Byb3BlcnR5OmZ1bmN0aW9uKHQpey0xPT09dGhpcy5keW5hbWljUHJvcGVydGllcy5pbmRleE9mKHQpJiYodGhpcy5keW5hbWljUHJvcGVydGllcy5wdXNoKHQpLHRoaXMuY29udGFpbmVyLmFkZER5bmFtaWNQcm9wZXJ0eSh0aGlzKSx0aGlzLl9pc0FuaW1hdGVkPSEwKX0saXRlcmF0ZUR5bmFtaWNQcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5fbWRmPSExO3ZhciBlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2Zvcih0PTA7dDxlO3QrPTEpdGhpcy5keW5hbWljUHJvcGVydGllc1t0XS5nZXRWYWx1ZSgpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uX21kZiYmKHRoaXMuX21kZj0hMCl9LGluaXREeW5hbWljUHJvcGVydHlDb250YWluZXI6ZnVuY3Rpb24odCl7dGhpcy5jb250YWluZXI9dCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuX21kZj0hMSx0aGlzLl9pc0FuaW1hdGVkPSExfX07dmFyIGdldEJsZW5kTW9kZT0oT2E9ezA6InNvdXJjZS1vdmVyIiwxOiJtdWx0aXBseSIsMjoic2NyZWVuIiwzOiJvdmVybGF5Iiw0OiJkYXJrZW4iLDU6ImxpZ2h0ZW4iLDY6ImNvbG9yLWRvZGdlIiw3OiJjb2xvci1idXJuIiw4OiJoYXJkLWxpZ2h0Iiw5OiJzb2Z0LWxpZ2h0IiwxMDoiZGlmZmVyZW5jZSIsMTE6ImV4Y2x1c2lvbiIsMTI6Imh1ZSIsMTM6InNhdHVyYXRpb24iLDE0OiJjb2xvciIsMTU6Imx1bWlub3NpdHkifSxmdW5jdGlvbih0KXtyZXR1cm4gT2FbdF18fCIifSksT2EsbGluZUNhcEVudW09ezE6ImJ1dHQiLDI6InJvdW5kIiwzOiJzcXVhcmUifSxsaW5lSm9pbkVudW09ezE6Im1pdGVyIiwyOiJyb3VuZCIsMzoiYmV2ZWwifSxNYXRyaXg9ZnVuY3Rpb24oKXt2YXIgcz1NYXRoLmNvcyxhPU1hdGguc2luLG49TWF0aC50YW4saT1NYXRoLnJvdW5kO2Z1bmN0aW9uIHQoKXtyZXR1cm4gdGhpcy5wcm9wc1swXT0xLHRoaXMucHJvcHNbMV09MCx0aGlzLnByb3BzWzJdPTAsdGhpcy5wcm9wc1szXT0wLHRoaXMucHJvcHNbNF09MCx0aGlzLnByb3BzWzVdPTEsdGhpcy5wcm9wc1s2XT0wLHRoaXMucHJvcHNbN109MCx0aGlzLnByb3BzWzhdPTAsdGhpcy5wcm9wc1s5XT0wLHRoaXMucHJvcHNbMTBdPTEsdGhpcy5wcm9wc1sxMV09MCx0aGlzLnByb3BzWzEyXT0wLHRoaXMucHJvcHNbMTNdPTAsdGhpcy5wcm9wc1sxNF09MCx0aGlzLnByb3BzWzE1XT0xLHRoaXN9ZnVuY3Rpb24gZSh0KXtpZigwPT09dClyZXR1cm4gdGhpczt2YXIgZT1zKHQpLHI9YSh0KTtyZXR1cm4gdGhpcy5fdChlLC1yLDAsMCxyLGUsMCwwLDAsMCwxLDAsMCwwLDAsMSl9ZnVuY3Rpb24gcih0KXtpZigwPT09dClyZXR1cm4gdGhpczt2YXIgZT1zKHQpLHI9YSh0KTtyZXR1cm4gdGhpcy5fdCgxLDAsMCwwLDAsZSwtciwwLDAscixlLDAsMCwwLDAsMSl9ZnVuY3Rpb24gbyh0KXtpZigwPT09dClyZXR1cm4gdGhpczt2YXIgZT1zKHQpLHI9YSh0KTtyZXR1cm4gdGhpcy5fdChlLDAsciwwLDAsMSwwLDAsLXIsMCxlLDAsMCwwLDAsMSl9ZnVuY3Rpb24gaCh0KXtpZigwPT09dClyZXR1cm4gdGhpczt2YXIgZT1zKHQpLHI9YSh0KTtyZXR1cm4gdGhpcy5fdChlLC1yLDAsMCxyLGUsMCwwLDAsMCwxLDAsMCwwLDAsMSl9ZnVuY3Rpb24gbCh0LGUpe3JldHVybiB0aGlzLl90KDEsZSx0LDEsMCwwKX1mdW5jdGlvbiBwKHQsZSl7cmV0dXJuIHRoaXMuc2hlYXIobih0KSxuKGUpKX1mdW5jdGlvbiBtKHQsZSl7dmFyIHI9cyhlKSxpPWEoZSk7cmV0dXJuIHRoaXMuX3QocixpLDAsMCwtaSxyLDAsMCwwLDAsMSwwLDAsMCwwLDEpLl90KDEsMCwwLDAsbih0KSwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpLl90KHIsLWksMCwwLGksciwwLDAsMCwwLDEsMCwwLDAsMCwxKX1mdW5jdGlvbiBmKHQsZSxyKXtyZXR1cm4gcnx8MD09PXJ8fChyPTEpLDE9PT10JiYxPT09ZSYmMT09PXI/dGhpczp0aGlzLl90KHQsMCwwLDAsMCxlLDAsMCwwLDAsciwwLDAsMCwwLDEpfWZ1bmN0aW9uIGModCxlLHIsaSxzLGEsbixvLGgsbCxwLG0sZixjLGQsdSl7cmV0dXJuIHRoaXMucHJvcHNbMF09dCx0aGlzLnByb3BzWzFdPWUsdGhpcy5wcm9wc1syXT1yLHRoaXMucHJvcHNbM109aSx0aGlzLnByb3BzWzRdPXMsdGhpcy5wcm9wc1s1XT1hLHRoaXMucHJvcHNbNl09bix0aGlzLnByb3BzWzddPW8sdGhpcy5wcm9wc1s4XT1oLHRoaXMucHJvcHNbOV09bCx0aGlzLnByb3BzWzEwXT1wLHRoaXMucHJvcHNbMTFdPW0sdGhpcy5wcm9wc1sxMl09Zix0aGlzLnByb3BzWzEzXT1jLHRoaXMucHJvcHNbMTRdPWQsdGhpcy5wcm9wc1sxNV09dSx0aGlzfWZ1bmN0aW9uIGQodCxlLHIpe3JldHVybiByPXJ8fDAsMCE9PXR8fDAhPT1lfHwwIT09cj90aGlzLl90KDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLHQsZSxyLDEpOnRoaXN9ZnVuY3Rpb24gdSh0LGUscixpLHMsYSxuLG8saCxsLHAsbSxmLGMsZCx1KXt2YXIgeT10aGlzLnByb3BzO2lmKDE9PT10JiYwPT09ZSYmMD09PXImJjA9PT1pJiYwPT09cyYmMT09PWEmJjA9PT1uJiYwPT09byYmMD09PWgmJjA9PT1sJiYxPT09cCYmMD09PW0pcmV0dXJuIHlbMTJdPXlbMTJdKnQreVsxNV0qZix5WzEzXT15WzEzXSphK3lbMTVdKmMseVsxNF09eVsxNF0qcCt5WzE1XSpkLHlbMTVdKj11LHRoaXMuX2lkZW50aXR5Q2FsY3VsYXRlZD0hMSx0aGlzO3ZhciBnPXlbMF0sdj15WzFdLGI9eVsyXSxQPXlbM10sRT15WzRdLHg9eVs1XSxTPXlbNl0sQz15WzddLEE9eVs4XSxfPXlbOV0sVD15WzEwXSxrPXlbMTFdLEQ9eVsxMl0sTT15WzEzXSxGPXlbMTRdLHc9eVsxNV07cmV0dXJuIHlbMF09Zyp0K3YqcytiKmgrUCpmLHlbMV09ZyplK3YqYStiKmwrUCpjLHlbMl09ZypyK3YqbitiKnArUCpkLHlbM109ZyppK3YqbytiKm0rUCp1LHlbNF09RSp0K3gqcytTKmgrQypmLHlbNV09RSplK3gqYStTKmwrQypjLHlbNl09RSpyK3gqbitTKnArQypkLHlbN109RSppK3gqbytTKm0rQyp1LHlbOF09QSp0K18qcytUKmgraypmLHlbOV09QSplK18qYStUKmwraypjLHlbMTBdPUEqcitfKm4rVCpwK2sqZCx5WzExXT1BKmkrXypvK1QqbStrKnUseVsxMl09RCp0K00qcytGKmgrdypmLHlbMTNdPUQqZStNKmErRipsK3cqYyx5WzE0XT1EKnIrTSpuK0YqcCt3KmQseVsxNV09RCppK00qbytGKm0rdyp1LHRoaXMuX2lkZW50aXR5Q2FsY3VsYXRlZD0hMSx0aGlzfWZ1bmN0aW9uIHkoKXtyZXR1cm4gdGhpcy5faWRlbnRpdHlDYWxjdWxhdGVkfHwodGhpcy5faWRlbnRpdHk9ISgxIT09dGhpcy5wcm9wc1swXXx8MCE9PXRoaXMucHJvcHNbMV18fDAhPT10aGlzLnByb3BzWzJdfHwwIT09dGhpcy5wcm9wc1szXXx8MCE9PXRoaXMucHJvcHNbNF18fDEhPT10aGlzLnByb3BzWzVdfHwwIT09dGhpcy5wcm9wc1s2XXx8MCE9PXRoaXMucHJvcHNbN118fDAhPT10aGlzLnByb3BzWzhdfHwwIT09dGhpcy5wcm9wc1s5XXx8MSE9PXRoaXMucHJvcHNbMTBdfHwwIT09dGhpcy5wcm9wc1sxMV18fDAhPT10aGlzLnByb3BzWzEyXXx8MCE9PXRoaXMucHJvcHNbMTNdfHwwIT09dGhpcy5wcm9wc1sxNF18fDEhPT10aGlzLnByb3BzWzE1XSksdGhpcy5faWRlbnRpdHlDYWxjdWxhdGVkPSEwKSx0aGlzLl9pZGVudGl0eX1mdW5jdGlvbiBnKHQpe2Zvcih2YXIgZT0wO2U8MTY7KXtpZih0LnByb3BzW2VdIT09dGhpcy5wcm9wc1tlXSlyZXR1cm4hMTtlKz0xfXJldHVybiEwfWZ1bmN0aW9uIHYodCl7dmFyIGU7Zm9yKGU9MDtlPDE2O2UrPTEpdC5wcm9wc1tlXT10aGlzLnByb3BzW2VdO3JldHVybiB0fWZ1bmN0aW9uIGIodCl7dmFyIGU7Zm9yKGU9MDtlPDE2O2UrPTEpdGhpcy5wcm9wc1tlXT10W2VdfWZ1bmN0aW9uIFAodCxlLHIpe3JldHVybnt4OnQqdGhpcy5wcm9wc1swXStlKnRoaXMucHJvcHNbNF0rcip0aGlzLnByb3BzWzhdK3RoaXMucHJvcHNbMTJdLHk6dCp0aGlzLnByb3BzWzFdK2UqdGhpcy5wcm9wc1s1XStyKnRoaXMucHJvcHNbOV0rdGhpcy5wcm9wc1sxM10sejp0KnRoaXMucHJvcHNbMl0rZSp0aGlzLnByb3BzWzZdK3IqdGhpcy5wcm9wc1sxMF0rdGhpcy5wcm9wc1sxNF19fWZ1bmN0aW9uIEUodCxlLHIpe3JldHVybiB0KnRoaXMucHJvcHNbMF0rZSp0aGlzLnByb3BzWzRdK3IqdGhpcy5wcm9wc1s4XSt0aGlzLnByb3BzWzEyXX1mdW5jdGlvbiB4KHQsZSxyKXtyZXR1cm4gdCp0aGlzLnByb3BzWzFdK2UqdGhpcy5wcm9wc1s1XStyKnRoaXMucHJvcHNbOV0rdGhpcy5wcm9wc1sxM119ZnVuY3Rpb24gUyh0LGUscil7cmV0dXJuIHQqdGhpcy5wcm9wc1syXStlKnRoaXMucHJvcHNbNl0rcip0aGlzLnByb3BzWzEwXSt0aGlzLnByb3BzWzE0XX1mdW5jdGlvbiBDKCl7dmFyIHQ9dGhpcy5wcm9wc1swXSp0aGlzLnByb3BzWzVdLXRoaXMucHJvcHNbMV0qdGhpcy5wcm9wc1s0XSxlPXRoaXMucHJvcHNbNV0vdCxyPS10aGlzLnByb3BzWzFdL3QsaT0tdGhpcy5wcm9wc1s0XS90LHM9dGhpcy5wcm9wc1swXS90LGE9KHRoaXMucHJvcHNbNF0qdGhpcy5wcm9wc1sxM10tdGhpcy5wcm9wc1s1XSp0aGlzLnByb3BzWzEyXSkvdCxuPS0odGhpcy5wcm9wc1swXSp0aGlzLnByb3BzWzEzXS10aGlzLnByb3BzWzFdKnRoaXMucHJvcHNbMTJdKS90LG89bmV3IE1hdHJpeDtyZXR1cm4gby5wcm9wc1swXT1lLG8ucHJvcHNbMV09cixvLnByb3BzWzRdPWksby5wcm9wc1s1XT1zLG8ucHJvcHNbMTJdPWEsby5wcm9wc1sxM109bixvfWZ1bmN0aW9uIEEodCl7cmV0dXJuIHRoaXMuZ2V0SW52ZXJzZU1hdHJpeCgpLmFwcGx5VG9Qb2ludEFycmF5KHRbMF0sdFsxXSx0WzJdfHwwKX1mdW5jdGlvbiBfKHQpe3ZhciBlLHI9dC5sZW5ndGgsaT1bXTtmb3IoZT0wO2U8cjtlKz0xKWlbZV09QSh0W2VdKTtyZXR1cm4gaX1mdW5jdGlvbiBUKHQsZSxyKXt2YXIgaT1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIiw2KTtpZih0aGlzLmlzSWRlbnRpdHkoKSlpWzBdPXRbMF0saVsxXT10WzFdLGlbMl09ZVswXSxpWzNdPWVbMV0saVs0XT1yWzBdLGlbNV09clsxXTtlbHNle3ZhciBzPXRoaXMucHJvcHNbMF0sYT10aGlzLnByb3BzWzFdLG49dGhpcy5wcm9wc1s0XSxvPXRoaXMucHJvcHNbNV0saD10aGlzLnByb3BzWzEyXSxsPXRoaXMucHJvcHNbMTNdO2lbMF09dFswXSpzK3RbMV0qbitoLGlbMV09dFswXSphK3RbMV0qbytsLGlbMl09ZVswXSpzK2VbMV0qbitoLGlbM109ZVswXSphK2VbMV0qbytsLGlbNF09clswXSpzK3JbMV0qbitoLGlbNV09clswXSphK3JbMV0qbytsfXJldHVybiBpfWZ1bmN0aW9uIGsodCxlLHIpe3JldHVybiB0aGlzLmlzSWRlbnRpdHkoKT9bdCxlLHJdOlt0KnRoaXMucHJvcHNbMF0rZSp0aGlzLnByb3BzWzRdK3IqdGhpcy5wcm9wc1s4XSt0aGlzLnByb3BzWzEyXSx0KnRoaXMucHJvcHNbMV0rZSp0aGlzLnByb3BzWzVdK3IqdGhpcy5wcm9wc1s5XSt0aGlzLnByb3BzWzEzXSx0KnRoaXMucHJvcHNbMl0rZSp0aGlzLnByb3BzWzZdK3IqdGhpcy5wcm9wc1sxMF0rdGhpcy5wcm9wc1sxNF1dfWZ1bmN0aW9uIEQodCxlKXtpZih0aGlzLmlzSWRlbnRpdHkoKSlyZXR1cm4gdCsiLCIrZTt2YXIgcj10aGlzLnByb3BzO3JldHVybiBNYXRoLnJvdW5kKDEwMCoodCpyWzBdK2Uqcls0XStyWzEyXSkpLzEwMCsiLCIrTWF0aC5yb3VuZCgxMDAqKHQqclsxXStlKnJbNV0rclsxM10pKS8xMDB9ZnVuY3Rpb24gTSgpe2Zvcih2YXIgdD0wLGU9dGhpcy5wcm9wcyxyPSJtYXRyaXgzZCgiO3Q8MTY7KXIrPWkoMWU0KmVbdF0pLzFlNCxyKz0xNT09PXQ/IikiOiIsIix0Kz0xO3JldHVybiByfWZ1bmN0aW9uIEYodCl7cmV0dXJuIHQ8MWUtNiYmMDx0fHwtMWUtNjx0JiZ0PDA/aSgxZTQqdCkvMWU0OnR9ZnVuY3Rpb24gdygpe3ZhciB0PXRoaXMucHJvcHM7cmV0dXJuIm1hdHJpeCgiK0YodFswXSkrIiwiK0YodFsxXSkrIiwiK0YodFs0XSkrIiwiK0YodFs1XSkrIiwiK0YodFsxMl0pKyIsIitGKHRbMTNdKSsiKSJ9cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5yZXNldD10LHRoaXMucm90YXRlPWUsdGhpcy5yb3RhdGVYPXIsdGhpcy5yb3RhdGVZPW8sdGhpcy5yb3RhdGVaPWgsdGhpcy5za2V3PXAsdGhpcy5za2V3RnJvbUF4aXM9bSx0aGlzLnNoZWFyPWwsdGhpcy5zY2FsZT1mLHRoaXMuc2V0VHJhbnNmb3JtPWMsdGhpcy50cmFuc2xhdGU9ZCx0aGlzLnRyYW5zZm9ybT11LHRoaXMuYXBwbHlUb1BvaW50PVAsdGhpcy5hcHBseVRvWD1FLHRoaXMuYXBwbHlUb1k9eCx0aGlzLmFwcGx5VG9aPVMsdGhpcy5hcHBseVRvUG9pbnRBcnJheT1rLHRoaXMuYXBwbHlUb1RyaXBsZVBvaW50cz1ULHRoaXMuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQ9RCx0aGlzLnRvQ1NTPU0sdGhpcy50bzJkQ1NTPXcsdGhpcy5jbG9uZT12LHRoaXMuY2xvbmVGcm9tUHJvcHM9Yix0aGlzLmVxdWFscz1nLHRoaXMuaW52ZXJzZVBvaW50cz1fLHRoaXMuaW52ZXJzZVBvaW50PUEsdGhpcy5nZXRJbnZlcnNlTWF0cml4PUMsdGhpcy5fdD10aGlzLnRyYW5zZm9ybSx0aGlzLmlzSWRlbnRpdHk9eSx0aGlzLl9pZGVudGl0eT0hMCx0aGlzLl9pZGVudGl0eUNhbGN1bGF0ZWQ9ITEsdGhpcy5wcm9wcz1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIiwxNiksdGhpcy5yZXNldCgpfX0oKTshZnVuY3Rpb24obyxoKXt2YXIgbCxwPXRoaXMsbT0yNTYsZj02LGM9InJhbmRvbSIsZD1oLnBvdyhtLGYpLHU9aC5wb3coMiw1MikseT0yKnUsZz1tLTE7ZnVuY3Rpb24gdih0KXt2YXIgZSxyPXQubGVuZ3RoLG49dGhpcyxpPTAscz1uLmk9bi5qPTAsYT1uLlM9W107Zm9yKHJ8fCh0PVtyKytdKTtpPG07KWFbaV09aSsrO2ZvcihpPTA7aTxtO2krKylhW2ldPWFbcz1nJnMrdFtpJXJdKyhlPWFbaV0pXSxhW3NdPWU7bi5nPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTAsaT1uLmkscz1uLmosYT1uLlM7dC0tOyllPWFbaT1nJmkrMV0scj1yKm0rYVtnJihhW2ldPWFbcz1nJnMrZV0pKyhhW3NdPWUpXTtyZXR1cm4gbi5pPWksbi5qPXMscn19ZnVuY3Rpb24gYih0LGUpe3JldHVybiBlLmk9dC5pLGUuaj10LmosZS5TPXQuUy5zbGljZSgpLGV9ZnVuY3Rpb24gUCh0LGUpe2Zvcih2YXIgcixpPXQrIiIscz0wO3M8aS5sZW5ndGg7KWVbZyZzXT1nJihyXj0xOSplW2cmc10pK2kuY2hhckNvZGVBdChzKyspO3JldHVybiBFKGUpfWZ1bmN0aW9uIEUodCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoMCx0KX1oWyJzZWVkIitjXT1mdW5jdGlvbih0LGUscil7dmFyIGk9W10scz1QKGZ1bmN0aW9uIHQoZSxyKXt2YXIgaSxzPVtdLGE9dHlwZW9mIGU7aWYociYmIm9iamVjdCI9PWEpZm9yKGkgaW4gZSl0cnl7cy5wdXNoKHQoZVtpXSxyLTEpKX1jYXRjaCh0KXt9cmV0dXJuIHMubGVuZ3RoP3M6InN0cmluZyI9PWE/ZTplKyJcMCJ9KChlPSEwPT09ZT97ZW50cm9weTohMH06ZXx8e30pLmVudHJvcHk/W3QsRShvKV06bnVsbD09PXQ/ZnVuY3Rpb24oKXt0cnl7aWYobClyZXR1cm4gRShsLnJhbmRvbUJ5dGVzKG0pKTt2YXIgdD1uZXcgVWludDhBcnJheShtKTtyZXR1cm4ocC5jcnlwdG98fHAubXNDcnlwdG8pLmdldFJhbmRvbVZhbHVlcyh0KSxFKHQpfWNhdGNoKHQpe3ZhciBlPXAubmF2aWdhdG9yLHI9ZSYmZS5wbHVnaW5zO3JldHVyblsrbmV3IERhdGUscCxyLHAuc2NyZWVuLEUobyldfX0oKTp0LDMpLGkpLGE9bmV3IHYoaSksbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1hLmcoZiksZT1kLHI9MDt0PHU7KXQ9KHQrcikqbSxlKj1tLHI9YS5nKDEpO2Zvcig7eTw9dDspdC89MixlLz0yLHI+Pj49MTtyZXR1cm4odCtyKS9lfTtyZXR1cm4gbi5pbnQzMj1mdW5jdGlvbigpe3JldHVybiAwfGEuZyg0KX0sbi5xdWljaz1mdW5jdGlvbigpe3JldHVybiBhLmcoNCkvNDI5NDk2NzI5Nn0sbi5kb3VibGU9bixQKEUoYS5TKSxvKSwoZS5wYXNzfHxyfHxmdW5jdGlvbih0LGUscixpKXtyZXR1cm4gaSYmKGkuUyYmYihpLGEpLHQuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gYihhLHt9KX0pLHI/KGhbY109dCxlKTp0fSkobixzLCJnbG9iYWwiaW4gZT9lLmdsb2JhbDp0aGlzPT1oLGUuc3RhdGUpfSxQKGgucmFuZG9tKCksbyl9KFtdLEJNTWF0aCk7dmFyIEJlemllckZhY3Rvcnk9ZnVuY3Rpb24oKXt2YXIgdD17Z2V0QmV6aWVyRWFzaW5nOmZ1bmN0aW9uKHQsZSxyLGkscyl7dmFyIGE9c3x8KCJiZXpfIit0KyJfIitlKyJfIityKyJfIitpKS5yZXBsYWNlKC9cLi9nLCJwIik7aWYob1thXSlyZXR1cm4gb1thXTt2YXIgbj1uZXcgaChbdCxlLHIsaV0pO3JldHVybiBvW2FdPW59fSxvPXt9O3ZhciBsPTExLHA9MS8obC0xKSxlPSJmdW5jdGlvbiI9PXR5cGVvZiBGbG9hdDMyQXJyYXk7ZnVuY3Rpb24gaSh0LGUpe3JldHVybiAxLTMqZSszKnR9ZnVuY3Rpb24gcyh0LGUpe3JldHVybiAzKmUtNip0fWZ1bmN0aW9uIGEodCl7cmV0dXJuIDMqdH1mdW5jdGlvbiBtKHQsZSxyKXtyZXR1cm4oKGkoZSxyKSp0K3MoZSxyKSkqdCthKGUpKSp0fWZ1bmN0aW9uIGYodCxlLHIpe3JldHVybiAzKmkoZSxyKSp0KnQrMipzKGUscikqdCthKGUpfWZ1bmN0aW9uIGgodCl7dGhpcy5fcD10LHRoaXMuX21TYW1wbGVWYWx1ZXM9ZT9uZXcgRmxvYXQzMkFycmF5KGwpOm5ldyBBcnJheShsKSx0aGlzLl9wcmVjb21wdXRlZD0hMSx0aGlzLmdldD10aGlzLmdldC5iaW5kKHRoaXMpfXJldHVybiBoLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BbMF0scj10aGlzLl9wWzFdLGk9dGhpcy5fcFsyXSxzPXRoaXMuX3BbM107cmV0dXJuIHRoaXMuX3ByZWNvbXB1dGVkfHx0aGlzLl9wcmVjb21wdXRlKCksZT09PXImJmk9PT1zP3Q6MD09PXQ/MDoxPT09dD8xOm0odGhpcy5fZ2V0VEZvclgodCkscixzKX0sX3ByZWNvbXB1dGU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wWzBdLGU9dGhpcy5fcFsxXSxyPXRoaXMuX3BbMl0saT10aGlzLl9wWzNdO3RoaXMuX3ByZWNvbXB1dGVkPSEwLHQ9PT1lJiZyPT09aXx8dGhpcy5fY2FsY1NhbXBsZVZhbHVlcygpfSxfY2FsY1NhbXBsZVZhbHVlczpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLl9wWzBdLGU9dGhpcy5fcFsyXSxyPTA7cjxsOysrcil0aGlzLl9tU2FtcGxlVmFsdWVzW3JdPW0ocipwLHQsZSl9LF9nZXRURm9yWDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5fcFswXSxyPXRoaXMuX3BbMl0saT10aGlzLl9tU2FtcGxlVmFsdWVzLHM9MCxhPTEsbj1sLTE7YSE9PW4mJmlbYV08PXQ7KythKXMrPXA7dmFyIG89cysodC1pWy0tYV0pLyhpW2ErMV0taVthXSkqcCxoPWYobyxlLHIpO3JldHVybi4wMDE8PWg/ZnVuY3Rpb24odCxlLHIsaSl7Zm9yKHZhciBzPTA7czw0Oysrcyl7dmFyIGE9ZihlLHIsaSk7aWYoMD09PWEpcmV0dXJuIGU7ZS09KG0oZSxyLGkpLXQpL2F9cmV0dXJuIGV9KHQsbyxlLHIpOjA9PT1oP286ZnVuY3Rpb24odCxlLHIsaSxzKXtmb3IodmFyIGEsbixvPTA7MDwoYT1tKG49ZSsoci1lKS8yLGkscyktdCk/cj1uOmU9biwxZS03PE1hdGguYWJzKGEpJiYrK288MTA7KTtyZXR1cm4gbn0odCxzLHMrcCxlLHIpfX0sdH0oKTtmdW5jdGlvbiBleHRlbmRQcm90b3R5cGUodCxlKXt2YXIgcixpLHM9dC5sZW5ndGg7Zm9yKHI9MDtyPHM7cis9MSlmb3IodmFyIGEgaW4gaT10W3JdLnByb3RvdHlwZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaSxhKSYmKGUucHJvdG90eXBlW2FdPWlbYV0pfWZ1bmN0aW9uIGdldERlc2NyaXB0b3IodCxlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpfWZ1bmN0aW9uIGNyZWF0ZVByb3h5RnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe31yZXR1cm4gZS5wcm90b3R5cGU9dCxlfWZ1bmN0aW9uIGJlekZ1bmN0aW9uKCl7dmFyIEQ9TWF0aDtmdW5jdGlvbiB5KHQsZSxyLGkscyxhKXt2YXIgbj10KmkrZSpzK3IqYS1zKmktYSp0LXIqZTtyZXR1cm4tLjAwMTxuJiZuPC4wMDF9dmFyIHA9ZnVuY3Rpb24odCxlLHIsaSl7dmFyIHMsYSxuLG8saCxsLHA9ZGVmYXVsdEN1cnZlU2VnbWVudHMsbT0wLGY9W10sYz1bXSxkPWJlemllckxlbmd0aFBvb2wubmV3RWxlbWVudCgpO2ZvcihuPXIubGVuZ3RoLHM9MDtzPHA7cys9MSl7Zm9yKGg9cy8ocC0xKSxhPWw9MDthPG47YSs9MSlvPWJtUG93KDEtaCwzKSp0W2FdKzMqYm1Qb3coMS1oLDIpKmgqclthXSszKigxLWgpKmJtUG93KGgsMikqaVthXStibVBvdyhoLDMpKmVbYV0sZlthXT1vLG51bGwhPT1jW2FdJiYobCs9Ym1Qb3coZlthXS1jW2FdLDIpKSxjW2FdPWZbYV07bCYmKG0rPWw9Ym1TcXJ0KGwpKSxkLnBlcmNlbnRzW3NdPWgsZC5sZW5ndGhzW3NdPW19cmV0dXJuIGQuYWRkZWRMZW5ndGg9bSxkfTtmdW5jdGlvbiBnKHQpe3RoaXMuc2VnbWVudExlbmd0aD0wLHRoaXMucG9pbnRzPW5ldyBBcnJheSh0KX1mdW5jdGlvbiB2KHQsZSl7dGhpcy5wYXJ0aWFsTGVuZ3RoPXQsdGhpcy5wb2ludD1lfXZhciBiLHQ9KGI9e30sZnVuY3Rpb24odCxlLHIsaSl7dmFyIHM9KHRbMF0rIl8iK3RbMV0rIl8iK2VbMF0rIl8iK2VbMV0rIl8iK3JbMF0rIl8iK3JbMV0rIl8iK2lbMF0rIl8iK2lbMV0pLnJlcGxhY2UoL1wuL2csInAiKTtpZighYltzXSl7dmFyIGEsbixvLGgsbCxwLG0sZj1kZWZhdWx0Q3VydmVTZWdtZW50cyxjPTAsZD1udWxsOzI9PT10Lmxlbmd0aCYmKHRbMF0hPT1lWzBdfHx0WzFdIT09ZVsxXSkmJnkodFswXSx0WzFdLGVbMF0sZVsxXSx0WzBdK3JbMF0sdFsxXStyWzFdKSYmeSh0WzBdLHRbMV0sZVswXSxlWzFdLGVbMF0raVswXSxlWzFdK2lbMV0pJiYoZj0yKTt2YXIgdT1uZXcgZyhmKTtmb3Iobz1yLmxlbmd0aCxhPTA7YTxmO2ErPTEpe2ZvcihtPWNyZWF0ZVNpemVkQXJyYXkobyksbD1hLyhmLTEpLG49cD0wO248bztuKz0xKWg9Ym1Qb3coMS1sLDMpKnRbbl0rMypibVBvdygxLWwsMikqbCoodFtuXStyW25dKSszKigxLWwpKmJtUG93KGwsMikqKGVbbl0raVtuXSkrYm1Qb3cobCwzKSplW25dLG1bbl09aCxudWxsIT09ZCYmKHArPWJtUG93KG1bbl0tZFtuXSwyKSk7Yys9cD1ibVNxcnQocCksdS5wb2ludHNbYV09bmV3IHYocCxtKSxkPW19dS5zZWdtZW50TGVuZ3RoPWMsYltzXT11fXJldHVybiBiW3NdfSk7ZnVuY3Rpb24gTSh0LGUpe3ZhciByPWUucGVyY2VudHMsaT1lLmxlbmd0aHMscz1yLmxlbmd0aCxhPWJtRmxvb3IoKHMtMSkqdCksbj10KmUuYWRkZWRMZW5ndGgsbz0wO2lmKGE9PT1zLTF8fDA9PT1hfHxuPT09aVthXSlyZXR1cm4gclthXTtmb3IodmFyIGg9aVthXT5uPy0xOjEsbD0hMDtsOylpZihpW2FdPD1uJiZpW2ErMV0+bj8obz0obi1pW2FdKS8oaVthKzFdLWlbYV0pLGw9ITEpOmErPWgsYTwwfHxzLTE8PWEpe2lmKGE9PT1zLTEpcmV0dXJuIHJbYV07bD0hMX1yZXR1cm4gclthXSsoclthKzFdLXJbYV0pKm99dmFyIEY9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIsOCk7cmV0dXJue2dldFNlZ21lbnRzTGVuZ3RoOmZ1bmN0aW9uKHQpe3ZhciBlLHI9c2VnbWVudHNMZW5ndGhQb29sLm5ld0VsZW1lbnQoKSxpPXQuYyxzPXQudixhPXQubyxuPXQuaSxvPXQuX2xlbmd0aCxoPXIubGVuZ3RocyxsPTA7Zm9yKGU9MDtlPG8tMTtlKz0xKWhbZV09cChzW2VdLHNbZSsxXSxhW2VdLG5bZSsxXSksbCs9aFtlXS5hZGRlZExlbmd0aDtyZXR1cm4gaSYmbyYmKGhbZV09cChzW2VdLHNbMF0sYVtlXSxuWzBdKSxsKz1oW2VdLmFkZGVkTGVuZ3RoKSxyLnRvdGFsTGVuZ3RoPWwscn0sZ2V0TmV3U2VnbWVudDpmdW5jdGlvbih0LGUscixpLHMsYSxuKXtzPDA/cz0wOjE8cyYmKHM9MSk7dmFyIG8saD1NKHMsbiksbD1NKGE9MTxhPzE6YSxuKSxwPXQubGVuZ3RoLG09MS1oLGY9MS1sLGM9bSptKm0sZD1oKm0qbSozLHU9aCpoKm0qMyx5PWgqaCpoLGc9bSptKmYsdj1oKm0qZittKmgqZittKm0qbCxiPWgqaCpmK20qaCpsK2gqbSpsLFA9aCpoKmwsRT1tKmYqZix4PWgqZipmK20qbCpmK20qZipsLFM9aCpsKmYrbSpsKmwraCpmKmwsQz1oKmwqbCxBPWYqZipmLF89bCpmKmYrZipsKmYrZipmKmwsVD1sKmwqZitmKmwqbCtsKmYqbCxrPWwqbCpsO2ZvcihvPTA7bzxwO28rPTEpRls0Km9dPUQucm91bmQoMWUzKihjKnRbb10rZCpyW29dK3UqaVtvXSt5KmVbb10pKS8xZTMsRls0Km8rMV09RC5yb3VuZCgxZTMqKGcqdFtvXSt2KnJbb10rYippW29dK1AqZVtvXSkpLzFlMyxGWzQqbysyXT1ELnJvdW5kKDFlMyooRSp0W29dK3gqcltvXStTKmlbb10rQyplW29dKSkvMWUzLEZbNCpvKzNdPUQucm91bmQoMWUzKihBKnRbb10rXypyW29dK1QqaVtvXStrKmVbb10pKS8xZTM7cmV0dXJuIEZ9LGdldFBvaW50SW5TZWdtZW50OmZ1bmN0aW9uKHQsZSxyLGkscyxhKXt2YXIgbj1NKHMsYSksbz0xLW47cmV0dXJuW0Qucm91bmQoMWUzKihvKm8qbyp0WzBdKyhuKm8qbytvKm4qbytvKm8qbikqclswXSsobipuKm8rbypuKm4rbipvKm4pKmlbMF0rbipuKm4qZVswXSkpLzFlMyxELnJvdW5kKDFlMyoobypvKm8qdFsxXSsobipvKm8rbypuKm8rbypvKm4pKnJbMV0rKG4qbipvK28qbipuK24qbypuKSppWzFdK24qbipuKmVbMV0pKS8xZTNdfSxidWlsZEJlemllckRhdGE6dCxwb2ludE9uTGluZTJEOnkscG9pbnRPbkxpbmUzRDpmdW5jdGlvbih0LGUscixpLHMsYSxuLG8saCl7aWYoMD09PXImJjA9PT1hJiYwPT09aClyZXR1cm4geSh0LGUsaSxzLG4sbyk7dmFyIGwscD1ELnNxcnQoRC5wb3coaS10LDIpK0QucG93KHMtZSwyKStELnBvdyhhLXIsMikpLG09RC5zcXJ0KEQucG93KG4tdCwyKStELnBvdyhvLWUsMikrRC5wb3coaC1yLDIpKSxmPUQuc3FydChELnBvdyhuLWksMikrRC5wb3coby1zLDIpK0QucG93KGgtYSwyKSk7cmV0dXJuLTFlLTQ8KGw9bTxwP2Y8cD9wLW0tZjpmLW0tcDptPGY/Zi1tLXA6bS1wLWYpJiZsPDFlLTR9fX0hZnVuY3Rpb24oKXtmb3IodmFyIHM9MCx0PVsibXMiLCJtb3oiLCJ3ZWJraXQiLCJvIl0sZT0wO2U8dC5sZW5ndGgmJiF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOysrZSl3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lPXdpbmRvd1t0W2VdKyJSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9d2luZG93W3RbZV0rIkNhbmNlbEFuaW1hdGlvbkZyYW1lIl18fHdpbmRvd1t0W2VdKyJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiXTt3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHwod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT1mdW5jdGlvbih0KXt2YXIgZT0obmV3IERhdGUpLmdldFRpbWUoKSxyPU1hdGgubWF4KDAsMTYtKGUtcykpLGk9c2V0VGltZW91dChmdW5jdGlvbigpe3QoZStyKX0scik7cmV0dXJuIHM9ZStyLGl9KSx3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fCh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24odCl7Y2xlYXJUaW1lb3V0KHQpfSl9KCk7dmFyIGJlej1iZXpGdW5jdGlvbigpLGRhdGFNYW5hZ2VyPWZ1bmN0aW9uKCl7dmFyIGkscyxhPTEsbj1bXSxvPXtvbm1lc3NhZ2U6ZnVuY3Rpb24oKXt9LHBvc3RNZXNzYWdlOmZ1bmN0aW9uKHQpe2koe2RhdGE6dH0pfX0scj17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24odCl7by5vbm1lc3NhZ2Uoe2RhdGE6dH0pfX07ZnVuY3Rpb24gaCgpe3N8fCgocz1mdW5jdGlvbih0KXtpZih3aW5kb3cuV29ya2VyJiZ3aW5kb3cuQmxvYiYmX3VzZVdlYldvcmtlcil7dmFyIGU9bmV3IEJsb2IoWyJ2YXIgX3dvcmtlclNlbGYgPSBzZWxmOyBzZWxmLm9ubWVzc2FnZSA9ICIsdC50b1N0cmluZygpXSx7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pLHI9VVJMLmNyZWF0ZU9iamVjdFVSTChlKTtyZXR1cm4gbmV3IFdvcmtlcihyKX1yZXR1cm4gaT10LG99KGZ1bmN0aW9uKGUpe2lmKHIuZGF0YU1hbmFnZXJ8fChyLmRhdGFNYW5hZ2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbSh0LGUpe3ZhciByLGkscyxhLG4sbyxoLGw9dC5sZW5ndGg7Zm9yKGk9MDtpPGw7aSs9MSlpZigia3MiaW4ocj10W2ldKSYmIXIuY29tcGxldGVkKXtpZihyLmNvbXBsZXRlZD0hMCxyLnR0JiYodFtpLTFdLnRkPXIudHQpLHIuaGFzTWFzayl7dmFyIHA9ci5tYXNrc1Byb3BlcnRpZXM7Zm9yKGE9cC5sZW5ndGgscz0wO3M8YTtzKz0xKWlmKHBbc10ucHQuay5pKWQocFtzXS5wdC5rKTtlbHNlIGZvcihvPXBbc10ucHQuay5sZW5ndGgsbj0wO248bztuKz0xKXBbc10ucHQua1tuXS5zJiZkKHBbc10ucHQua1tuXS5zWzBdKSxwW3NdLnB0Lmtbbl0uZSYmZChwW3NdLnB0Lmtbbl0uZVswXSl9MD09PXIudHk/KHIubGF5ZXJzPWYoci5yZWZJZCxlKSxtKHIubGF5ZXJzLGUpKTo0PT09ci50eT9jKHIuc2hhcGVzKTo1PT09ci50eSYmKDAhPT0oaD1yKS50LmEubGVuZ3RofHwibSJpbiBoLnQucHx8KGguc2luZ2xlU2hhcGU9ITApKX19ZnVuY3Rpb24gZih0LGUpe2Zvcih2YXIgcj0wLGk9ZS5sZW5ndGg7cjxpOyl7aWYoZVtyXS5pZD09PXQpcmV0dXJuIGVbcl0ubGF5ZXJzLl9fdXNlZD9KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGVbcl0ubGF5ZXJzKSk6KGVbcl0ubGF5ZXJzLl9fdXNlZD0hMCxlW3JdLmxheWVycyk7cis9MX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBjKHQpe3ZhciBlLHIsaTtmb3IoZT10Lmxlbmd0aC0xOzA8PWU7ZS09MSlpZigic2giPT09dFtlXS50eSlpZih0W2VdLmtzLmsuaSlkKHRbZV0ua3Muayk7ZWxzZSBmb3IoaT10W2VdLmtzLmsubGVuZ3RoLHI9MDtyPGk7cis9MSl0W2VdLmtzLmtbcl0ucyYmZCh0W2VdLmtzLmtbcl0uc1swXSksdFtlXS5rcy5rW3JdLmUmJmQodFtlXS5rcy5rW3JdLmVbMF0pO2Vsc2UiZ3IiPT09dFtlXS50eSYmYyh0W2VdLml0KX1mdW5jdGlvbiBkKHQpe3ZhciBlLHI9dC5pLmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXQuaVtlXVswXSs9dC52W2VdWzBdLHQuaVtlXVsxXSs9dC52W2VdWzFdLHQub1tlXVswXSs9dC52W2VdWzBdLHQub1tlXVsxXSs9dC52W2VdWzFdfWZ1bmN0aW9uIG8odCxlKXt2YXIgcj1lP2Uuc3BsaXQoIi4iKTpbMTAwLDEwMCwxMDBdO3JldHVybiB0WzBdPnJbMF18fCEoclswXT50WzBdKSYmKHRbMV0+clsxXXx8IShyWzFdPnRbMV0pJiYodFsyXT5yWzJdfHwhKHJbMl0+dFsyXSkmJm51bGwpKX12YXIgaCxlPWZ1bmN0aW9uKCl7dmFyIGk9WzQsNCwxNF07ZnVuY3Rpb24gcyh0KXt2YXIgZSxyLGkscz10Lmxlbmd0aDtmb3IoZT0wO2U8cztlKz0xKTU9PT10W2VdLnR5JiYocj10W2VdLGk9ci50LmQsci50LmQ9e2s6W3tzOmksdDowfV19KX1yZXR1cm4gZnVuY3Rpb24odCl7aWYobyhpLHQudikmJihzKHQubGF5ZXJzKSx0LmFzc2V0cykpe3ZhciBlLHI9dC5hc3NldHMubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTEpdC5hc3NldHNbZV0ubGF5ZXJzJiZzKHQuYXNzZXRzW2VdLmxheWVycyl9fX0oKSxyPShoPVs0LDcsOTldLGZ1bmN0aW9uKHQpe2lmKHQuY2hhcnMmJiFvKGgsdC52KSl7dmFyIGUscixpLHMsYSxuPXQuY2hhcnMubGVuZ3RoO2ZvcihlPTA7ZTxuO2UrPTEpaWYodC5jaGFyc1tlXS5kYXRhJiZ0LmNoYXJzW2VdLmRhdGEuc2hhcGVzKWZvcihpPShhPXQuY2hhcnNbZV0uZGF0YS5zaGFwZXNbMF0uaXQpLmxlbmd0aCxyPTA7cjxpO3IrPTEpKHM9YVtyXS5rcy5rKS5fX2NvbnZlcnRlZHx8KGQoYVtyXS5rcy5rKSxzLl9fY29udmVydGVkPSEwKX19KSxpPWZ1bmN0aW9uKCl7dmFyIGk9WzUsNywxNV07ZnVuY3Rpb24gcyh0KXt2YXIgZSxyLGkscz10Lmxlbmd0aDtmb3IoZT0wO2U8cztlKz0xKTU9PT10W2VdLnR5JiYocj10W2VdLGk9dm9pZCAwLCJudW1iZXIiPT10eXBlb2YoaT1yLnQucCkuYSYmKGkuYT17YTowLGs6aS5hfSksIm51bWJlciI9PXR5cGVvZiBpLnAmJihpLnA9e2E6MCxrOmkucH0pLCJudW1iZXIiPT10eXBlb2YgaS5yJiYoaS5yPXthOjAsazppLnJ9KSl9cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKG8oaSx0LnYpJiYocyh0LmxheWVycyksdC5hc3NldHMpKXt2YXIgZSxyPXQuYXNzZXRzLmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXQuYXNzZXRzW2VdLmxheWVycyYmcyh0LmFzc2V0c1tlXS5sYXllcnMpfX19KCkscz1mdW5jdGlvbigpe3ZhciBpPVs0LDEsOV07ZnVuY3Rpb24gYSh0KXt2YXIgZSxyLGkscz10Lmxlbmd0aDtmb3IoZT0wO2U8cztlKz0xKWlmKCJnciI9PT10W2VdLnR5KWEodFtlXS5pdCk7ZWxzZSBpZigiZmwiPT09dFtlXS50eXx8InN0Ij09PXRbZV0udHkpaWYodFtlXS5jLmsmJnRbZV0uYy5rWzBdLmkpZm9yKGk9dFtlXS5jLmsubGVuZ3RoLHI9MDtyPGk7cis9MSl0W2VdLmMua1tyXS5zJiYodFtlXS5jLmtbcl0uc1swXS89MjU1LHRbZV0uYy5rW3JdLnNbMV0vPTI1NSx0W2VdLmMua1tyXS5zWzJdLz0yNTUsdFtlXS5jLmtbcl0uc1szXS89MjU1KSx0W2VdLmMua1tyXS5lJiYodFtlXS5jLmtbcl0uZVswXS89MjU1LHRbZV0uYy5rW3JdLmVbMV0vPTI1NSx0W2VdLmMua1tyXS5lWzJdLz0yNTUsdFtlXS5jLmtbcl0uZVszXS89MjU1KTtlbHNlIHRbZV0uYy5rWzBdLz0yNTUsdFtlXS5jLmtbMV0vPTI1NSx0W2VdLmMua1syXS89MjU1LHRbZV0uYy5rWzNdLz0yNTV9ZnVuY3Rpb24gcyh0KXt2YXIgZSxyPXQubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTEpND09PXRbZV0udHkmJmEodFtlXS5zaGFwZXMpfXJldHVybiBmdW5jdGlvbih0KXtpZihvKGksdC52KSYmKHModC5sYXllcnMpLHQuYXNzZXRzKSl7dmFyIGUscj10LmFzc2V0cy5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSl0LmFzc2V0c1tlXS5sYXllcnMmJnModC5hc3NldHNbZV0ubGF5ZXJzKX19fSgpLGE9ZnVuY3Rpb24oKXt2YXIgaT1bNCw0LDE4XTtmdW5jdGlvbiBsKHQpe3ZhciBlLHIsaTtmb3IoZT10Lmxlbmd0aC0xOzA8PWU7ZS09MSlpZigic2giPT09dFtlXS50eSlpZih0W2VdLmtzLmsuaSl0W2VdLmtzLmsuYz10W2VdLmNsb3NlZDtlbHNlIGZvcihpPXRbZV0ua3Muay5sZW5ndGgscj0wO3I8aTtyKz0xKXRbZV0ua3Mua1tyXS5zJiYodFtlXS5rcy5rW3JdLnNbMF0uYz10W2VdLmNsb3NlZCksdFtlXS5rcy5rW3JdLmUmJih0W2VdLmtzLmtbcl0uZVswXS5jPXRbZV0uY2xvc2VkKTtlbHNlImdyIj09PXRbZV0udHkmJmwodFtlXS5pdCl9ZnVuY3Rpb24gcyh0KXt2YXIgZSxyLGkscyxhLG4sbz10Lmxlbmd0aDtmb3Iocj0wO3I8bztyKz0xKXtpZigoZT10W3JdKS5oYXNNYXNrKXt2YXIgaD1lLm1hc2tzUHJvcGVydGllcztmb3Iocz1oLmxlbmd0aCxpPTA7aTxzO2krPTEpaWYoaFtpXS5wdC5rLmkpaFtpXS5wdC5rLmM9aFtpXS5jbDtlbHNlIGZvcihuPWhbaV0ucHQuay5sZW5ndGgsYT0wO2E8bjthKz0xKWhbaV0ucHQua1thXS5zJiYoaFtpXS5wdC5rW2FdLnNbMF0uYz1oW2ldLmNsKSxoW2ldLnB0LmtbYV0uZSYmKGhbaV0ucHQua1thXS5lWzBdLmM9aFtpXS5jbCl9ND09PWUudHkmJmwoZS5zaGFwZXMpfX1yZXR1cm4gZnVuY3Rpb24odCl7aWYobyhpLHQudikmJihzKHQubGF5ZXJzKSx0LmFzc2V0cykpe3ZhciBlLHI9dC5hc3NldHMubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTEpdC5hc3NldHNbZV0ubGF5ZXJzJiZzKHQuYXNzZXRzW2VdLmxheWVycyl9fX0oKTt2YXIgdD17Y29tcGxldGVEYXRhOmZ1bmN0aW9uKHQpe3QuX19jb21wbGV0ZXx8KHModCksZSh0KSxyKHQpLGkodCksYSh0KSxtKHQubGF5ZXJzLHQuYXNzZXRzKSx0Ll9fY29tcGxldGU9ITApfX07cmV0dXJuIHQuY2hlY2tDb2xvcnM9cyx0LmNoZWNrQ2hhcnM9cix0LmNoZWNrUGF0aFByb3BlcnRpZXM9aSx0LmNoZWNrU2hhcGVzPWEsdC5jb21wbGV0ZUxheWVycz1tLHR9KCkpLHIuYXNzZXRMb2FkZXJ8fChyLmFzc2V0TG9hZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0KXt2YXIgZT10LmdldFJlc3BvbnNlSGVhZGVyKCJjb250ZW50LXR5cGUiKTtyZXR1cm4gZSYmImpzb24iPT09dC5yZXNwb25zZVR5cGUmJi0xIT09ZS5pbmRleE9mKCJqc29uIik/dC5yZXNwb25zZTp0LnJlc3BvbnNlJiYib2JqZWN0Ij09dHlwZW9mIHQucmVzcG9uc2U/dC5yZXNwb25zZTp0LnJlc3BvbnNlJiYic3RyaW5nIj09dHlwZW9mIHQucmVzcG9uc2U/SlNPTi5wYXJzZSh0LnJlc3BvbnNlKTp0LnJlc3BvbnNlVGV4dD9KU09OLnBhcnNlKHQucmVzcG9uc2VUZXh0KTpudWxsfXJldHVybntsb2FkOmZ1bmN0aW9uKGUscix0LGkpe3ZhciBzLGE9bmV3IFhNTEh0dHBSZXF1ZXN0O3RyeXthLnJlc3BvbnNlVHlwZT0ianNvbiJ9Y2F0Y2godCl7fWEub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoND09PWEucmVhZHlTdGF0ZSlpZigyMDA9PT1hLnN0YXR1cylzPW4oYSksdChzKTtlbHNlIHRyeXtzPW4oYSksdChzKX1jYXRjaCh0KXtpJiZpKHQpfX07dHJ5e2Eub3BlbigiR0VUIixlLCEwKX1jYXRjaCh0KXthLm9wZW4oIkdFVCIscisiLyIrZSwhMCl9YS5zZW5kKCl9fX0oKSksImxvYWRBbmltYXRpb24iPT09ZS5kYXRhLnR5cGUpci5hc3NldExvYWRlci5sb2FkKGUuZGF0YS5wYXRoLGUuZGF0YS5mdWxsUGF0aCxmdW5jdGlvbih0KXtyLmRhdGFNYW5hZ2VyLmNvbXBsZXRlRGF0YSh0KSxyLnBvc3RNZXNzYWdlKHtpZDplLmRhdGEuaWQscGF5bG9hZDp0LHN0YXR1czoic3VjY2VzcyJ9KX0sZnVuY3Rpb24oKXtyLnBvc3RNZXNzYWdlKHtpZDplLmRhdGEuaWQsc3RhdHVzOiJlcnJvciJ9KX0pO2Vsc2UgaWYoImNvbXBsZXRlIj09PWUuZGF0YS50eXBlKXt2YXIgdD1lLmRhdGEuYW5pbWF0aW9uO3IuZGF0YU1hbmFnZXIuY29tcGxldGVEYXRhKHQpLHIucG9zdE1lc3NhZ2Uoe2lkOmUuZGF0YS5pZCxwYXlsb2FkOnQsc3RhdHVzOiJzdWNjZXNzIn0pfWVsc2UibG9hZERhdGEiPT09ZS5kYXRhLnR5cGUmJnIuYXNzZXRMb2FkZXIubG9hZChlLmRhdGEucGF0aCxlLmRhdGEuZnVsbFBhdGgsZnVuY3Rpb24odCl7ci5wb3N0TWVzc2FnZSh7aWQ6ZS5kYXRhLmlkLHBheWxvYWQ6dCxzdGF0dXM6InN1Y2Nlc3MifSl9LGZ1bmN0aW9uKCl7ci5wb3N0TWVzc2FnZSh7aWQ6ZS5kYXRhLmlkLHN0YXR1czoiZXJyb3IifSl9KX0pKS5vbm1lc3NhZ2U9ZnVuY3Rpb24odCl7dmFyIGU9dC5kYXRhLHI9ZS5pZCxpPW5bcl07bltyXT1udWxsLCJzdWNjZXNzIj09PWUuc3RhdHVzP2kub25Db21wbGV0ZShlLnBheWxvYWQpOmkub25FcnJvciYmaS5vbkVycm9yKCl9KX1mdW5jdGlvbiBsKHQsZSl7dmFyIHI9InByb2Nlc3NJZF8iKyhhKz0xKTtyZXR1cm4gbltyXT17b25Db21wbGV0ZTp0LG9uRXJyb3I6ZX0scn1yZXR1cm57bG9hZEFuaW1hdGlvbjpmdW5jdGlvbih0LGUscil7aCgpO3ZhciBpPWwoZSxyKTtzLnBvc3RNZXNzYWdlKHt0eXBlOiJsb2FkQW5pbWF0aW9uIixwYXRoOnQsZnVsbFBhdGg6d2luZG93LmxvY2F0aW9uLm9yaWdpbit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsaWQ6aX0pfSxsb2FkRGF0YTpmdW5jdGlvbih0LGUscil7aCgpO3ZhciBpPWwoZSxyKTtzLnBvc3RNZXNzYWdlKHt0eXBlOiJsb2FkRGF0YSIscGF0aDp0LGZ1bGxQYXRoOndpbmRvdy5sb2NhdGlvbi5vcmlnaW4rd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLGlkOml9KX0sY29tcGxldGVBbmltYXRpb246ZnVuY3Rpb24odCxlLHIpe2goKTt2YXIgaT1sKGUscik7cy5wb3N0TWVzc2FnZSh7dHlwZToiY29tcGxldGUiLGFuaW1hdGlvbjp0LGlkOml9KX19fSgpO2Z1bmN0aW9uIGdldEZvbnRQcm9wZXJ0aWVzKHQpe2Zvcih2YXIgZT10LmZTdHlsZT90LmZTdHlsZS5zcGxpdCgiICIpOltdLHI9Im5vcm1hbCIsaT0ibm9ybWFsIixzPWUubGVuZ3RoLGE9MDthPHM7YSs9MSlzd2l0Y2goZVthXS50b0xvd2VyQ2FzZSgpKXtjYXNlIml0YWxpYyI6aT0iaXRhbGljIjticmVhaztjYXNlImJvbGQiOnI9IjcwMCI7YnJlYWs7Y2FzZSJibGFjayI6cj0iOTAwIjticmVhaztjYXNlIm1lZGl1bSI6cj0iNTAwIjticmVhaztjYXNlInJlZ3VsYXIiOmNhc2Uibm9ybWFsIjpyPSI0MDAiO2JyZWFrO2Nhc2UibGlnaHQiOmNhc2UidGhpbiI6cj0iMjAwIn1yZXR1cm57c3R5bGU6aSx3ZWlnaHQ6dC5mV2VpZ2h0fHxyfX12YXIgRm9udE1hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgYT17dzowLHNpemU6MCxzaGFwZXM6W119LGU9W107ZT1lLmNvbmNhdChbMjMwNCwyMzA1LDIzMDYsMjMwNywyMzYyLDIzNjMsMjM2NCwyMzY0LDIzNjYsMjM2NywyMzY4LDIzNjksMjM3MCwyMzcxLDIzNzIsMjM3MywyMzc0LDIzNzUsMjM3NiwyMzc3LDIzNzgsMjM3OSwyMzgwLDIzODEsMjM4MiwyMzgzLDIzODcsMjM4OCwyMzg5LDIzOTAsMjM5MSwyNDAyLDI0MDNdKTt2YXIgaT1bImQ4M2NkZmZiIiwiZDgzY2RmZmMiLCJkODNjZGZmZCIsImQ4M2NkZmZlIiwiZDgzY2RmZmYiXSxyPVs2NTAzOSw4MjA1XTtmdW5jdGlvbiBmKHQsZSl7dmFyIHI9Y3JlYXRlVGFnKCJzcGFuIik7ci5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCksci5zdHlsZS5mb250RmFtaWx5PWU7dmFyIGk9Y3JlYXRlVGFnKCJzcGFuIik7aS5pbm5lclRleHQ9ImdpSXRUMVdReUAhLS8jIixyLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSIsci5zdHlsZS5sZWZ0PSItMTAwMDBweCIsci5zdHlsZS50b3A9Ii0xMDAwMHB4IixyLnN0eWxlLmZvbnRTaXplPSIzMDBweCIsci5zdHlsZS5mb250VmFyaWFudD0ibm9ybWFsIixyLnN0eWxlLmZvbnRTdHlsZT0ibm9ybWFsIixyLnN0eWxlLmZvbnRXZWlnaHQ9Im5vcm1hbCIsci5zdHlsZS5sZXR0ZXJTcGFjaW5nPSIwIixyLmFwcGVuZENoaWxkKGkpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocik7dmFyIHM9aS5vZmZzZXRXaWR0aDtyZXR1cm4gaS5zdHlsZS5mb250RmFtaWx5PWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5zcGxpdCgiLCIpLGk9ci5sZW5ndGgscz1bXTtmb3IoZT0wO2U8aTtlKz0xKSJzYW5zLXNlcmlmIiE9PXJbZV0mJiJtb25vc3BhY2UiIT09cltlXSYmcy5wdXNoKHJbZV0pO3JldHVybiBzLmpvaW4oIiwiKX0odCkrIiwgIitlLHtub2RlOmksdzpzLHBhcmVudDpyfX1mdW5jdGlvbiBjKHQsZSl7dmFyIHI9Y3JlYXRlTlMoInRleHQiKTtyLnN0eWxlLmZvbnRTaXplPSIxMDBweCI7dmFyIGk9Z2V0Rm9udFByb3BlcnRpZXMoZSk7cmV0dXJuIHIuc2V0QXR0cmlidXRlKCJmb250LWZhbWlseSIsZS5mRmFtaWx5KSxyLnNldEF0dHJpYnV0ZSgiZm9udC1zdHlsZSIsaS5zdHlsZSksci5zZXRBdHRyaWJ1dGUoImZvbnQtd2VpZ2h0IixpLndlaWdodCksci50ZXh0Q29udGVudD0iMSIsZS5mQ2xhc3M/KHIuc3R5bGUuZm9udEZhbWlseT0iaW5oZXJpdCIsci5zZXRBdHRyaWJ1dGUoImNsYXNzIixlLmZDbGFzcykpOnIuc3R5bGUuZm9udEZhbWlseT1lLmZGYW1pbHksdC5hcHBlbmRDaGlsZChyKSxjcmVhdGVUYWcoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIikuZm9udD1lLmZXZWlnaHQrIiAiK2UuZlN0eWxlKyIgMTAwcHggIitlLmZGYW1pbHkscn12YXIgdD1mdW5jdGlvbigpe3RoaXMuZm9udHM9W10sdGhpcy5jaGFycz1udWxsLHRoaXMudHlwZWtpdExvYWRlZD0wLHRoaXMuaXNMb2FkZWQ9ITEsdGhpcy5fd2FybmVkPSExLHRoaXMuaW5pdFRpbWU9RGF0ZS5ub3coKSx0aGlzLnNldElzTG9hZGVkQmluZGVkPXRoaXMuc2V0SXNMb2FkZWQuYmluZCh0aGlzKSx0aGlzLmNoZWNrTG9hZGVkRm9udHNCaW5kZWQ9dGhpcy5jaGVja0xvYWRlZEZvbnRzLmJpbmQodGhpcyl9O3JldHVybiB0LmlzTW9kaWZpZXI9ZnVuY3Rpb24odCxlKXt2YXIgcj10LnRvU3RyaW5nKDE2KStlLnRvU3RyaW5nKDE2KTtyZXR1cm4tMSE9PWkuaW5kZXhPZihyKX0sdC5pc1plcm9XaWR0aEpvaW5lcj1mdW5jdGlvbih0LGUpe3JldHVybiBlP3Q9PT1yWzBdJiZlPT09clsxXTp0PT09clsxXX0sdC5pc0NvbWJpbmVkQ2hhcmFjdGVyPWZ1bmN0aW9uKHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQpfSx0LnByb3RvdHlwZT17YWRkQ2hhcnM6ZnVuY3Rpb24odCl7aWYodCl7dmFyIGU7dGhpcy5jaGFyc3x8KHRoaXMuY2hhcnM9W10pO3ZhciByLGkscz10Lmxlbmd0aCxhPXRoaXMuY2hhcnMubGVuZ3RoO2ZvcihlPTA7ZTxzO2UrPTEpe2ZvcihyPTAsaT0hMTtyPGE7KXRoaXMuY2hhcnNbcl0uc3R5bGU9PT10W2VdLnN0eWxlJiZ0aGlzLmNoYXJzW3JdLmZGYW1pbHk9PT10W2VdLmZGYW1pbHkmJnRoaXMuY2hhcnNbcl0uY2g9PT10W2VdLmNoJiYoaT0hMCkscis9MTtpfHwodGhpcy5jaGFycy5wdXNoKHRbZV0pLGErPTEpfX19LGFkZEZvbnRzOmZ1bmN0aW9uKHQsZSl7aWYodCl7aWYodGhpcy5jaGFycylyZXR1cm4gdGhpcy5pc0xvYWRlZD0hMCx2b2lkKHRoaXMuZm9udHM9dC5saXN0KTt2YXIgcixpPXQubGlzdCxzPWkubGVuZ3RoLGE9cztmb3Iocj0wO3I8cztyKz0xKXt2YXIgbixvLGg9ITA7aWYoaVtyXS5sb2FkZWQ9ITEsaVtyXS5tb25vQ2FzZT1mKGlbcl0uZkZhbWlseSwibW9ub3NwYWNlIiksaVtyXS5zYW5zQ2FzZT1mKGlbcl0uZkZhbWlseSwic2Fucy1zZXJpZiIpLGlbcl0uZlBhdGgpe2lmKCJwIj09PWlbcl0uZk9yaWdpbnx8Mz09PWlbcl0ub3JpZ2luKXtpZigwPChuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N0eWxlW2YtZm9yaWdpbj0icCJdW2YtZmFtaWx5PSInK2lbcl0uZkZhbWlseSsnIl0sIHN0eWxlW2Ytb3JpZ2luPSIzIl1bZi1mYW1pbHk9IicraVtyXS5mRmFtaWx5KyciXScpKS5sZW5ndGgmJihoPSExKSxoKXt2YXIgbD1jcmVhdGVUYWcoInN0eWxlIik7bC5zZXRBdHRyaWJ1dGUoImYtZm9yaWdpbiIsaVtyXS5mT3JpZ2luKSxsLnNldEF0dHJpYnV0ZSgiZi1vcmlnaW4iLGlbcl0ub3JpZ2luKSxsLnNldEF0dHJpYnV0ZSgiZi1mYW1pbHkiLGlbcl0uZkZhbWlseSksbC50eXBlPSJ0ZXh0L2NzcyIsbC5pbm5lclRleHQ9IkBmb250LWZhY2Uge2ZvbnQtZmFtaWx5OiAiK2lbcl0uZkZhbWlseSsiOyBmb250LXN0eWxlOiBub3JtYWw7IHNyYzogdXJsKCciK2lbcl0uZlBhdGgrIicpO30iLGUuYXBwZW5kQ2hpbGQobCl9fWVsc2UgaWYoImciPT09aVtyXS5mT3JpZ2lufHwxPT09aVtyXS5vcmlnaW4pe2ZvcihuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbZi1mb3JpZ2luPSJnIl0sIGxpbmtbZi1vcmlnaW49IjEiXScpLG89MDtvPG4ubGVuZ3RoO28rPTEpLTEhPT1uW29dLmhyZWYuaW5kZXhPZihpW3JdLmZQYXRoKSYmKGg9ITEpO2lmKGgpe3ZhciBwPWNyZWF0ZVRhZygibGluayIpO3Auc2V0QXR0cmlidXRlKCJmLWZvcmlnaW4iLGlbcl0uZk9yaWdpbikscC5zZXRBdHRyaWJ1dGUoImYtb3JpZ2luIixpW3JdLm9yaWdpbikscC50eXBlPSJ0ZXh0L2NzcyIscC5yZWw9InN0eWxlc2hlZXQiLHAuaHJlZj1pW3JdLmZQYXRoLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocCl9fWVsc2UgaWYoInQiPT09aVtyXS5mT3JpZ2lufHwyPT09aVtyXS5vcmlnaW4pe2ZvcihuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdFtmLWZvcmlnaW49InQiXSwgc2NyaXB0W2Ytb3JpZ2luPSIyIl0nKSxvPTA7bzxuLmxlbmd0aDtvKz0xKWlbcl0uZlBhdGg9PT1uW29dLnNyYyYmKGg9ITEpO2lmKGgpe3ZhciBtPWNyZWF0ZVRhZygibGluayIpO20uc2V0QXR0cmlidXRlKCJmLWZvcmlnaW4iLGlbcl0uZk9yaWdpbiksbS5zZXRBdHRyaWJ1dGUoImYtb3JpZ2luIixpW3JdLm9yaWdpbiksbS5zZXRBdHRyaWJ1dGUoInJlbCIsInN0eWxlc2hlZXQiKSxtLnNldEF0dHJpYnV0ZSgiaHJlZiIsaVtyXS5mUGF0aCksZS5hcHBlbmRDaGlsZChtKX19fWVsc2UgaVtyXS5sb2FkZWQ9ITAsYS09MTtpW3JdLmhlbHBlcj1jKGUsaVtyXSksaVtyXS5jYWNoZT17fSx0aGlzLmZvbnRzLnB1c2goaVtyXSl9MD09PWE/dGhpcy5pc0xvYWRlZD0hMDpzZXRUaW1lb3V0KHRoaXMuY2hlY2tMb2FkZWRGb250cy5iaW5kKHRoaXMpLDEwMCl9ZWxzZSB0aGlzLmlzTG9hZGVkPSEwfSxnZXRDaGFyRGF0YTpmdW5jdGlvbih0LGUscil7Zm9yKHZhciBpPTAscz10aGlzLmNoYXJzLmxlbmd0aDtpPHM7KXtpZih0aGlzLmNoYXJzW2ldLmNoPT09dCYmdGhpcy5jaGFyc1tpXS5zdHlsZT09PWUmJnRoaXMuY2hhcnNbaV0uZkZhbWlseT09PXIpcmV0dXJuIHRoaXMuY2hhcnNbaV07aSs9MX1yZXR1cm4oInN0cmluZyI9PXR5cGVvZiB0JiYxMyE9PXQuY2hhckNvZGVBdCgwKXx8IXQpJiZjb25zb2xlJiZjb25zb2xlLndhcm4mJiF0aGlzLl93YXJuZWQmJih0aGlzLl93YXJuZWQ9ITAsY29uc29sZS53YXJuKCJNaXNzaW5nIGNoYXJhY3RlciBmcm9tIGV4cG9ydGVkIGNoYXJhY3RlcnMgbGlzdDogIix0LGUscikpLGF9LGdldEZvbnRCeU5hbWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLmZvbnRzLmxlbmd0aDtlPHI7KXtpZih0aGlzLmZvbnRzW2VdLmZOYW1lPT09dClyZXR1cm4gdGhpcy5mb250c1tlXTtlKz0xfXJldHVybiB0aGlzLmZvbnRzWzBdfSxtZWFzdXJlVGV4dDpmdW5jdGlvbih0LGUscil7dmFyIGk9dGhpcy5nZXRGb250QnlOYW1lKGUpLHM9dC5jaGFyQ29kZUF0KDApO2lmKCFpLmNhY2hlW3MrMV0pe3ZhciBhPWkuaGVscGVyO2lmKCIgIj09PXQpe2EudGV4dENvbnRlbnQ9InwiK3QrInwiO3ZhciBuPWEuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCk7YS50ZXh0Q29udGVudD0ifHwiO3ZhciBvPWEuZ2V0Q29tcHV0ZWRUZXh0TGVuZ3RoKCk7aS5jYWNoZVtzKzFdPShuLW8pLzEwMH1lbHNlIGEudGV4dENvbnRlbnQ9dCxpLmNhY2hlW3MrMV09YS5nZXRDb21wdXRlZFRleHRMZW5ndGgoKS8xMDB9cmV0dXJuIGkuY2FjaGVbcysxXSpyfSxjaGVja0xvYWRlZEZvbnRzOmZ1bmN0aW9uKCl7dmFyIHQsZSxyLGk9dGhpcy5mb250cy5sZW5ndGgscz1pO2Zvcih0PTA7dDxpO3QrPTEpdGhpcy5mb250c1t0XS5sb2FkZWQ/cy09MToibiI9PT10aGlzLmZvbnRzW3RdLmZPcmlnaW58fDA9PT10aGlzLmZvbnRzW3RdLm9yaWdpbj90aGlzLmZvbnRzW3RdLmxvYWRlZD0hMDooZT10aGlzLmZvbnRzW3RdLm1vbm9DYXNlLm5vZGUscj10aGlzLmZvbnRzW3RdLm1vbm9DYXNlLncsZS5vZmZzZXRXaWR0aCE9PXI/KHMtPTEsdGhpcy5mb250c1t0XS5sb2FkZWQ9ITApOihlPXRoaXMuZm9udHNbdF0uc2Fuc0Nhc2Uubm9kZSxyPXRoaXMuZm9udHNbdF0uc2Fuc0Nhc2UudyxlLm9mZnNldFdpZHRoIT09ciYmKHMtPTEsdGhpcy5mb250c1t0XS5sb2FkZWQ9ITApKSx0aGlzLmZvbnRzW3RdLmxvYWRlZCYmKHRoaXMuZm9udHNbdF0uc2Fuc0Nhc2UucGFyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb250c1t0XS5zYW5zQ2FzZS5wYXJlbnQpLHRoaXMuZm9udHNbdF0ubW9ub0Nhc2UucGFyZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5mb250c1t0XS5tb25vQ2FzZS5wYXJlbnQpKSk7MCE9PXMmJkRhdGUubm93KCktdGhpcy5pbml0VGltZTw1ZTM/c2V0VGltZW91dCh0aGlzLmNoZWNrTG9hZGVkRm9udHNCaW5kZWQsMjApOnNldFRpbWVvdXQodGhpcy5zZXRJc0xvYWRlZEJpbmRlZCwxMCl9LHNldElzTG9hZGVkOmZ1bmN0aW9uKCl7dGhpcy5pc0xvYWRlZD0hMH19LHR9KCksUHJvcGVydHlGYWN0b3J5PWZ1bmN0aW9uKCl7dmFyIG09aW5pdGlhbERlZmF1bHRGcmFtZSxzPU1hdGguYWJzO2Z1bmN0aW9uIGYodCxlKXt2YXIgcixpPXRoaXMub2Zmc2V0VGltZTsibXVsdGlkaW1lbnNpb25hbCI9PT10aGlzLnByb3BUeXBlJiYocj1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIix0aGlzLnB2Lmxlbmd0aCkpO2Zvcih2YXIgcyxhLG4sbyxoLGwscCxtLGYsYz1lLmxhc3RJbmRleCxkPWMsdT10aGlzLmtleWZyYW1lcy5sZW5ndGgtMSx5PSEwO3k7KXtpZihzPXRoaXMua2V5ZnJhbWVzW2RdLGE9dGhpcy5rZXlmcmFtZXNbZCsxXSxkPT09dS0xJiZ0Pj1hLnQtaSl7cy5oJiYocz1hKSxjPTA7YnJlYWt9aWYoYS50LWk+dCl7Yz1kO2JyZWFrfWQ8dS0xP2QrPTE6KGM9MCx5PSExKX1uPXRoaXMua2V5ZnJhbWVzTWV0YWRhdGFbZF18fHt9O3ZhciBnLHYsYixQLEUseCxTLEMsQSxfLFQ9YS50LWksaz1zLnQtaTtpZihzLnRvKXtuLmJlemllckRhdGF8fChuLmJlemllckRhdGE9YmV6LmJ1aWxkQmV6aWVyRGF0YShzLnMsYS5zfHxzLmUscy50byxzLnRpKSk7dmFyIEQ9bi5iZXppZXJEYXRhO2lmKFQ8PXR8fHQ8ayl7dmFyIE09VDw9dD9ELnBvaW50cy5sZW5ndGgtMTowO2ZvcihoPUQucG9pbnRzW01dLnBvaW50Lmxlbmd0aCxvPTA7bzxoO28rPTEpcltvXT1ELnBvaW50c1tNXS5wb2ludFtvXX1lbHNle24uX19mbmN0P2Y9bi5fX2ZuY3Q6KGY9QmV6aWVyRmFjdG9yeS5nZXRCZXppZXJFYXNpbmcocy5vLngscy5vLnkscy5pLngscy5pLnkscy5uKS5nZXQsbi5fX2ZuY3Q9ZiksbD1mKCh0LWspLyhULWspKTt2YXIgRix3PUQuc2VnbWVudExlbmd0aCpsLEk9ZS5sYXN0RnJhbWU8dCYmZS5fbGFzdEtleWZyYW1lSW5kZXg9PT1kP2UuX2xhc3RBZGRlZExlbmd0aDowO2ZvcihtPWUubGFzdEZyYW1lPHQmJmUuX2xhc3RLZXlmcmFtZUluZGV4PT09ZD9lLl9sYXN0UG9pbnQ6MCx5PSEwLHA9RC5wb2ludHMubGVuZ3RoO3k7KXtpZihJKz1ELnBvaW50c1ttXS5wYXJ0aWFsTGVuZ3RoLDA9PT13fHwwPT09bHx8bT09PUQucG9pbnRzLmxlbmd0aC0xKXtmb3IoaD1ELnBvaW50c1ttXS5wb2ludC5sZW5ndGgsbz0wO288aDtvKz0xKXJbb109RC5wb2ludHNbbV0ucG9pbnRbb107YnJlYWt9aWYoSTw9dyYmdzxJK0QucG9pbnRzW20rMV0ucGFydGlhbExlbmd0aCl7Zm9yKEY9KHctSSkvRC5wb2ludHNbbSsxXS5wYXJ0aWFsTGVuZ3RoLGg9RC5wb2ludHNbbV0ucG9pbnQubGVuZ3RoLG89MDtvPGg7bys9MSlyW29dPUQucG9pbnRzW21dLnBvaW50W29dKyhELnBvaW50c1ttKzFdLnBvaW50W29dLUQucG9pbnRzW21dLnBvaW50W29dKSpGO2JyZWFrfW08cC0xP20rPTE6eT0hMX1lLl9sYXN0UG9pbnQ9bSxlLl9sYXN0QWRkZWRMZW5ndGg9SS1ELnBvaW50c1ttXS5wYXJ0aWFsTGVuZ3RoLGUuX2xhc3RLZXlmcmFtZUluZGV4PWR9fWVsc2V7dmFyIFYsUixCLEwsRztpZih1PXMucy5sZW5ndGgsZz1hLnN8fHMuZSx0aGlzLnNoJiYxIT09cy5oKWlmKFQ8PXQpclswXT1nWzBdLHJbMV09Z1sxXSxyWzJdPWdbMl07ZWxzZSBpZih0PD1rKXJbMF09cy5zWzBdLHJbMV09cy5zWzFdLHJbMl09cy5zWzJdO2Vsc2V7dmFyIHo9TyhzLnMpLE49TyhnKTt2PXIsYj1mdW5jdGlvbih0LGUscil7dmFyIGkscyxhLG4sbyxoPVtdLGw9dFswXSxwPXRbMV0sbT10WzJdLGY9dFszXSxjPWVbMF0sZD1lWzFdLHU9ZVsyXSx5PWVbM107KHM9bCpjK3AqZCttKnUrZip5KTwwJiYocz0tcyxjPS1jLGQ9LWQsdT0tdSx5PS15KTtvPTFlLTY8MS1zPyhpPU1hdGguYWNvcyhzKSxhPU1hdGguc2luKGkpLG49TWF0aC5zaW4oKDEtcikqaSkvYSxNYXRoLnNpbihyKmkpL2EpOihuPTEtcixyKTtyZXR1cm4gaFswXT1uKmwrbypjLGhbMV09bipwK28qZCxoWzJdPW4qbStvKnUsaFszXT1uKmYrbyp5LGh9KHosTiwodC1rKS8oVC1rKSksUD1iWzBdLEU9YlsxXSx4PWJbMl0sUz1iWzNdLEM9TWF0aC5hdGFuMigyKkUqUy0yKlAqeCwxLTIqRSpFLTIqeCp4KSxBPU1hdGguYXNpbigyKlAqRSsyKngqUyksXz1NYXRoLmF0YW4yKDIqUCpTLTIqRSp4LDEtMipQKlAtMip4KngpLHZbMF09Qy9kZWdUb1JhZHMsdlsxXT1BL2RlZ1RvUmFkcyx2WzJdPV8vZGVnVG9SYWRzfWVsc2UgZm9yKGQ9MDtkPHU7ZCs9MSkxIT09cy5oJiYobD1UPD10PzE6dDxrPzA6KHMuby54LmNvbnN0cnVjdG9yPT09QXJyYXk/KG4uX19mbmN0fHwobi5fX2ZuY3Q9W10pLG4uX19mbmN0W2RdP2Y9bi5fX2ZuY3RbZF06KFY9dm9pZCAwPT09cy5vLnhbZF0/cy5vLnhbMF06cy5vLnhbZF0sUj12b2lkIDA9PT1zLm8ueVtkXT9zLm8ueVswXTpzLm8ueVtkXSxCPXZvaWQgMD09PXMuaS54W2RdP3MuaS54WzBdOnMuaS54W2RdLEw9dm9pZCAwPT09cy5pLnlbZF0/cy5pLnlbMF06cy5pLnlbZF0sZj1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyhWLFIsQixMKS5nZXQsbi5fX2ZuY3RbZF09ZikpOm4uX19mbmN0P2Y9bi5fX2ZuY3Q6KFY9cy5vLngsUj1zLm8ueSxCPXMuaS54LEw9cy5pLnksZj1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyhWLFIsQixMKS5nZXQscy5rZXlmcmFtZU1ldGFkYXRhPWYpLGYoKHQtaykvKFQtaykpKSksZz1hLnN8fHMuZSxHPTE9PT1zLmg/cy5zW2RdOnMuc1tkXSsoZ1tkXS1zLnNbZF0pKmwsIm11bHRpZGltZW5zaW9uYWwiPT09dGhpcy5wcm9wVHlwZT9yW2RdPUc6cj1HfXJldHVybiBlLmxhc3RJbmRleD1jLHJ9ZnVuY3Rpb24gTyh0KXt2YXIgZT10WzBdKmRlZ1RvUmFkcyxyPXRbMV0qZGVnVG9SYWRzLGk9dFsyXSpkZWdUb1JhZHMscz1NYXRoLmNvcyhlLzIpLGE9TWF0aC5jb3Moci8yKSxuPU1hdGguY29zKGkvMiksbz1NYXRoLnNpbihlLzIpLGg9TWF0aC5zaW4oci8yKSxsPU1hdGguc2luKGkvMik7cmV0dXJuW28qaCpuK3MqYSpsLG8qYSpuK3MqaCpsLHMqaCpuLW8qYSpsLHMqYSpuLW8qaCpsXX1mdW5jdGlvbiBjKCl7dmFyIHQ9dGhpcy5jb21wLnJlbmRlcmVkRnJhbWUtdGhpcy5vZmZzZXRUaW1lLGU9dGhpcy5rZXlmcmFtZXNbMF0udC10aGlzLm9mZnNldFRpbWUscj10aGlzLmtleWZyYW1lc1t0aGlzLmtleWZyYW1lcy5sZW5ndGgtMV0udC10aGlzLm9mZnNldFRpbWU7aWYoISh0PT09dGhpcy5fY2FjaGluZy5sYXN0RnJhbWV8fHRoaXMuX2NhY2hpbmcubGFzdEZyYW1lIT09bSYmKHRoaXMuX2NhY2hpbmcubGFzdEZyYW1lPj1yJiZyPD10fHx0aGlzLl9jYWNoaW5nLmxhc3RGcmFtZTxlJiZ0PGUpKSl7dGhpcy5fY2FjaGluZy5sYXN0RnJhbWU+PXQmJih0aGlzLl9jYWNoaW5nLl9sYXN0S2V5ZnJhbWVJbmRleD0tMSx0aGlzLl9jYWNoaW5nLmxhc3RJbmRleD0wKTt2YXIgaT10aGlzLmludGVycG9sYXRlVmFsdWUodCx0aGlzLl9jYWNoaW5nKTt0aGlzLnB2PWl9cmV0dXJuIHRoaXMuX2NhY2hpbmcubGFzdEZyYW1lPXQsdGhpcy5wdn1mdW5jdGlvbiBkKHQpe3ZhciBlO2lmKCJ1bmlkaW1lbnNpb25hbCI9PT10aGlzLnByb3BUeXBlKWU9dCp0aGlzLm11bHQsMWUtNTxzKHRoaXMudi1lKSYmKHRoaXMudj1lLHRoaXMuX21kZj0hMCk7ZWxzZSBmb3IodmFyIHI9MCxpPXRoaXMudi5sZW5ndGg7cjxpOyllPXRbcl0qdGhpcy5tdWx0LDFlLTU8cyh0aGlzLnZbcl0tZSkmJih0aGlzLnZbcl09ZSx0aGlzLl9tZGY9ITApLHIrPTF9ZnVuY3Rpb24gdSgpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQmJnRoaXMuZWZmZWN0c1NlcXVlbmNlLmxlbmd0aClpZih0aGlzLmxvY2spdGhpcy5zZXRWVmFsdWUodGhpcy5wdik7ZWxzZXt2YXIgdDt0aGlzLmxvY2s9ITAsdGhpcy5fbWRmPXRoaXMuX2lzRmlyc3RGcmFtZTt2YXIgZT10aGlzLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGgscj10aGlzLmtmP3RoaXMucHY6dGhpcy5kYXRhLms7Zm9yKHQ9MDt0PGU7dCs9MSlyPXRoaXMuZWZmZWN0c1NlcXVlbmNlW3RdKHIpO3RoaXMuc2V0VlZhbHVlKHIpLHRoaXMuX2lzRmlyc3RGcmFtZT0hMSx0aGlzLmxvY2s9ITEsdGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWR9fWZ1bmN0aW9uIHkodCl7dGhpcy5lZmZlY3RzU2VxdWVuY2UucHVzaCh0KSx0aGlzLmNvbnRhaW5lci5hZGREeW5hbWljUHJvcGVydHkodGhpcyl9ZnVuY3Rpb24gbih0LGUscixpKXt0aGlzLnByb3BUeXBlPSJ1bmlkaW1lbnNpb25hbCIsdGhpcy5tdWx0PXJ8fDEsdGhpcy5kYXRhPWUsdGhpcy52PXI/ZS5rKnI6ZS5rLHRoaXMucHY9ZS5rLHRoaXMuX21kZj0hMSx0aGlzLmVsZW09dCx0aGlzLmNvbnRhaW5lcj1pLHRoaXMuY29tcD10LmNvbXAsdGhpcy5rPSExLHRoaXMua2Y9ITEsdGhpcy52ZWw9MCx0aGlzLmVmZmVjdHNTZXF1ZW5jZT1bXSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5nZXRWYWx1ZT11LHRoaXMuc2V0VlZhbHVlPWQsdGhpcy5hZGRFZmZlY3Q9eX1mdW5jdGlvbiBvKHQsZSxyLGkpe3ZhciBzO3RoaXMucHJvcFR5cGU9Im11bHRpZGltZW5zaW9uYWwiLHRoaXMubXVsdD1yfHwxLHRoaXMuZGF0YT1lLHRoaXMuX21kZj0hMSx0aGlzLmVsZW09dCx0aGlzLmNvbnRhaW5lcj1pLHRoaXMuY29tcD10LmNvbXAsdGhpcy5rPSExLHRoaXMua2Y9ITEsdGhpcy5mcmFtZUlkPS0xO3ZhciBhPWUuay5sZW5ndGg7Zm9yKHRoaXMudj1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixhKSx0aGlzLnB2PWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLGEpLHRoaXMudmVsPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLGEpLHM9MDtzPGE7cys9MSl0aGlzLnZbc109ZS5rW3NdKnRoaXMubXVsdCx0aGlzLnB2W3NdPWUua1tzXTt0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5lZmZlY3RzU2VxdWVuY2U9W10sdGhpcy5nZXRWYWx1ZT11LHRoaXMuc2V0VlZhbHVlPWQsdGhpcy5hZGRFZmZlY3Q9eX1mdW5jdGlvbiBoKHQsZSxyLGkpe3RoaXMucHJvcFR5cGU9InVuaWRpbWVuc2lvbmFsIix0aGlzLmtleWZyYW1lcz1lLmssdGhpcy5rZXlmcmFtZXNNZXRhZGF0YT1bXSx0aGlzLm9mZnNldFRpbWU9dC5kYXRhLnN0LHRoaXMuZnJhbWVJZD0tMSx0aGlzLl9jYWNoaW5nPXtsYXN0RnJhbWU6bSxsYXN0SW5kZXg6MCx2YWx1ZTowLF9sYXN0S2V5ZnJhbWVJbmRleDotMX0sdGhpcy5rPSEwLHRoaXMua2Y9ITAsdGhpcy5kYXRhPWUsdGhpcy5tdWx0PXJ8fDEsdGhpcy5lbGVtPXQsdGhpcy5jb250YWluZXI9aSx0aGlzLmNvbXA9dC5jb21wLHRoaXMudj1tLHRoaXMucHY9bSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5nZXRWYWx1ZT11LHRoaXMuc2V0VlZhbHVlPWQsdGhpcy5pbnRlcnBvbGF0ZVZhbHVlPWYsdGhpcy5lZmZlY3RzU2VxdWVuY2U9W2MuYmluZCh0aGlzKV0sdGhpcy5hZGRFZmZlY3Q9eX1mdW5jdGlvbiBsKHQsZSxyLGkpe3ZhciBzO3RoaXMucHJvcFR5cGU9Im11bHRpZGltZW5zaW9uYWwiO3ZhciBhLG4sbyxoLGw9ZS5rLmxlbmd0aDtmb3Iocz0wO3M8bC0xO3MrPTEpZS5rW3NdLnRvJiZlLmtbc10ucyYmZS5rW3MrMV0mJmUua1tzKzFdLnMmJihhPWUua1tzXS5zLG49ZS5rW3MrMV0ucyxvPWUua1tzXS50byxoPWUua1tzXS50aSwoMj09PWEubGVuZ3RoJiYoYVswXSE9PW5bMF18fGFbMV0hPT1uWzFdKSYmYmV6LnBvaW50T25MaW5lMkQoYVswXSxhWzFdLG5bMF0sblsxXSxhWzBdK29bMF0sYVsxXStvWzFdKSYmYmV6LnBvaW50T25MaW5lMkQoYVswXSxhWzFdLG5bMF0sblsxXSxuWzBdK2hbMF0sblsxXStoWzFdKXx8Mz09PWEubGVuZ3RoJiYoYVswXSE9PW5bMF18fGFbMV0hPT1uWzFdfHxhWzJdIT09blsyXSkmJmJlei5wb2ludE9uTGluZTNEKGFbMF0sYVsxXSxhWzJdLG5bMF0sblsxXSxuWzJdLGFbMF0rb1swXSxhWzFdK29bMV0sYVsyXStvWzJdKSYmYmV6LnBvaW50T25MaW5lM0QoYVswXSxhWzFdLGFbMl0sblswXSxuWzFdLG5bMl0sblswXStoWzBdLG5bMV0raFsxXSxuWzJdK2hbMl0pKSYmKGUua1tzXS50bz1udWxsLGUua1tzXS50aT1udWxsKSxhWzBdPT09blswXSYmYVsxXT09PW5bMV0mJjA9PT1vWzBdJiYwPT09b1sxXSYmMD09PWhbMF0mJjA9PT1oWzFdJiYoMj09PWEubGVuZ3RofHxhWzJdPT09blsyXSYmMD09PW9bMl0mJjA9PT1oWzJdKSYmKGUua1tzXS50bz1udWxsLGUua1tzXS50aT1udWxsKSk7dGhpcy5lZmZlY3RzU2VxdWVuY2U9W2MuYmluZCh0aGlzKV0sdGhpcy5kYXRhPWUsdGhpcy5rZXlmcmFtZXM9ZS5rLHRoaXMua2V5ZnJhbWVzTWV0YWRhdGE9W10sdGhpcy5vZmZzZXRUaW1lPXQuZGF0YS5zdCx0aGlzLms9ITAsdGhpcy5rZj0hMCx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5tdWx0PXJ8fDEsdGhpcy5lbGVtPXQsdGhpcy5jb250YWluZXI9aSx0aGlzLmNvbXA9dC5jb21wLHRoaXMuZ2V0VmFsdWU9dSx0aGlzLnNldFZWYWx1ZT1kLHRoaXMuaW50ZXJwb2xhdGVWYWx1ZT1mLHRoaXMuZnJhbWVJZD0tMTt2YXIgcD1lLmtbMF0ucy5sZW5ndGg7Zm9yKHRoaXMudj1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixwKSx0aGlzLnB2PWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLHApLHM9MDtzPHA7cys9MSl0aGlzLnZbc109bSx0aGlzLnB2W3NdPW07dGhpcy5fY2FjaGluZz17bGFzdEZyYW1lOm0sbGFzdEluZGV4OjAsdmFsdWU6Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIscCl9LHRoaXMuYWRkRWZmZWN0PXl9cmV0dXJue2dldFByb3A6ZnVuY3Rpb24odCxlLHIsaSxzKXt2YXIgYTtpZihlLmsubGVuZ3RoKWlmKCJudW1iZXIiPT10eXBlb2YgZS5rWzBdKWE9bmV3IG8odCxlLGkscyk7ZWxzZSBzd2l0Y2gocil7Y2FzZSAwOmE9bmV3IGgodCxlLGkscyk7YnJlYWs7Y2FzZSAxOmE9bmV3IGwodCxlLGkscyl9ZWxzZSBhPW5ldyBuKHQsZSxpLHMpO3JldHVybiBhLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGgmJnMuYWRkRHluYW1pY1Byb3BlcnR5KGEpLGF9fX0oKSxUcmFuc2Zvcm1Qcm9wZXJ0eUZhY3Rvcnk9ZnVuY3Rpb24oKXt2YXIgbj1bMCwwXTtmdW5jdGlvbiBpKHQsZSxyKXtpZih0aGlzLmVsZW09dCx0aGlzLmZyYW1lSWQ9LTEsdGhpcy5wcm9wVHlwZT0idHJhbnNmb3JtIix0aGlzLmRhdGE9ZSx0aGlzLnY9bmV3IE1hdHJpeCx0aGlzLnByZT1uZXcgTWF0cml4LHRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9ucz0wLHRoaXMuaW5pdER5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcihyfHx0KSxlLnAmJmUucC5zPyh0aGlzLnB4PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5wLngsMCwwLHRoaXMpLHRoaXMucHk9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLnAueSwwLDAsdGhpcyksZS5wLnomJih0aGlzLnB6PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5wLnosMCwwLHRoaXMpKSk6dGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5wfHx7azpbMCwwLDBdfSwxLDAsdGhpcyksZS5yeCl7aWYodGhpcy5yeD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucngsMCxkZWdUb1JhZHMsdGhpcyksdGhpcy5yeT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucnksMCxkZWdUb1JhZHMsdGhpcyksdGhpcy5yej1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucnosMCxkZWdUb1JhZHMsdGhpcyksZS5vci5rWzBdLnRpKXt2YXIgaSxzPWUub3Iuay5sZW5ndGg7Zm9yKGk9MDtpPHM7aSs9MSllLm9yLmtbaV0udG89bnVsbCxlLm9yLmtbaV0udGk9bnVsbH10aGlzLm9yPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5vciwxLGRlZ1RvUmFkcyx0aGlzKSx0aGlzLm9yLnNoPSEwfWVsc2UgdGhpcy5yPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5yfHx7azowfSwwLGRlZ1RvUmFkcyx0aGlzKTtlLnNrJiYodGhpcy5zaz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuc2ssMCxkZWdUb1JhZHMsdGhpcyksdGhpcy5zYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuc2EsMCxkZWdUb1JhZHMsdGhpcykpLHRoaXMuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuYXx8e2s6WzAsMCwwXX0sMSwwLHRoaXMpLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuc3x8e2s6WzEwMCwxMDAsMTAwXX0sMSwuMDEsdGhpcyksZS5vP3RoaXMubz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUubywwLC4wMSx0KTp0aGlzLm89e19tZGY6ITEsdjoxfSx0aGlzLl9pc0RpcnR5PSEwLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLmdldFZhbHVlKCEwKX1yZXR1cm4gaS5wcm90b3R5cGU9e2FwcGx5VG9NYXRyaXg6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fbWRmO3RoaXMuaXRlcmF0ZUR5bmFtaWNQcm9wZXJ0aWVzKCksdGhpcy5fbWRmPXRoaXMuX21kZnx8ZSx0aGlzLmEmJnQudHJhbnNsYXRlKC10aGlzLmEudlswXSwtdGhpcy5hLnZbMV0sdGhpcy5hLnZbMl0pLHRoaXMucyYmdC5zY2FsZSh0aGlzLnMudlswXSx0aGlzLnMudlsxXSx0aGlzLnMudlsyXSksdGhpcy5zayYmdC5za2V3RnJvbUF4aXMoLXRoaXMuc2sudix0aGlzLnNhLnYpLHRoaXMucj90LnJvdGF0ZSgtdGhpcy5yLnYpOnQucm90YXRlWigtdGhpcy5yei52KS5yb3RhdGVZKHRoaXMucnkudikucm90YXRlWCh0aGlzLnJ4LnYpLnJvdGF0ZVooLXRoaXMub3IudlsyXSkucm90YXRlWSh0aGlzLm9yLnZbMV0pLnJvdGF0ZVgodGhpcy5vci52WzBdKSx0aGlzLmRhdGEucC5zP3RoaXMuZGF0YS5wLno/dC50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwtdGhpcy5wei52KTp0LnRyYW5zbGF0ZSh0aGlzLnB4LnYsdGhpcy5weS52LDApOnQudHJhbnNsYXRlKHRoaXMucC52WzBdLHRoaXMucC52WzFdLC10aGlzLnAudlsyXSl9LGdldFZhbHVlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQpe2lmKHRoaXMuX2lzRGlydHkmJih0aGlzLnByZWNhbGN1bGF0ZU1hdHJpeCgpLHRoaXMuX2lzRGlydHk9ITEpLHRoaXMuaXRlcmF0ZUR5bmFtaWNQcm9wZXJ0aWVzKCksdGhpcy5fbWRmfHx0KXt2YXIgZTtpZih0aGlzLnYuY2xvbmVGcm9tUHJvcHModGhpcy5wcmUucHJvcHMpLHRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9uczwxJiZ0aGlzLnYudHJhbnNsYXRlKC10aGlzLmEudlswXSwtdGhpcy5hLnZbMV0sdGhpcy5hLnZbMl0pLHRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9uczwyJiZ0aGlzLnYuc2NhbGUodGhpcy5zLnZbMF0sdGhpcy5zLnZbMV0sdGhpcy5zLnZbMl0pLHRoaXMuc2smJnRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9uczwzJiZ0aGlzLnYuc2tld0Zyb21BeGlzKC10aGlzLnNrLnYsdGhpcy5zYS52KSx0aGlzLnImJnRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9uczw0P3RoaXMudi5yb3RhdGUoLXRoaXMuci52KTohdGhpcy5yJiZ0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM8NCYmdGhpcy52LnJvdGF0ZVooLXRoaXMucnoudikucm90YXRlWSh0aGlzLnJ5LnYpLnJvdGF0ZVgodGhpcy5yeC52KS5yb3RhdGVaKC10aGlzLm9yLnZbMl0pLnJvdGF0ZVkodGhpcy5vci52WzFdKS5yb3RhdGVYKHRoaXMub3IudlswXSksdGhpcy5hdXRvT3JpZW50ZWQpe3ZhciByLGk7aWYoZT10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZVJhdGUsdGhpcy5wJiZ0aGlzLnAua2V5ZnJhbWVzJiZ0aGlzLnAuZ2V0VmFsdWVBdFRpbWUpaT10aGlzLnAuX2NhY2hpbmcubGFzdEZyYW1lK3RoaXMucC5vZmZzZXRUaW1lPD10aGlzLnAua2V5ZnJhbWVzWzBdLnQ/KHI9dGhpcy5wLmdldFZhbHVlQXRUaW1lKCh0aGlzLnAua2V5ZnJhbWVzWzBdLnQrLjAxKS9lLDApLHRoaXMucC5nZXRWYWx1ZUF0VGltZSh0aGlzLnAua2V5ZnJhbWVzWzBdLnQvZSwwKSk6dGhpcy5wLl9jYWNoaW5nLmxhc3RGcmFtZSt0aGlzLnAub2Zmc2V0VGltZT49dGhpcy5wLmtleWZyYW1lc1t0aGlzLnAua2V5ZnJhbWVzLmxlbmd0aC0xXS50PyhyPXRoaXMucC5nZXRWYWx1ZUF0VGltZSh0aGlzLnAua2V5ZnJhbWVzW3RoaXMucC5rZXlmcmFtZXMubGVuZ3RoLTFdLnQvZSwwKSx0aGlzLnAuZ2V0VmFsdWVBdFRpbWUoKHRoaXMucC5rZXlmcmFtZXNbdGhpcy5wLmtleWZyYW1lcy5sZW5ndGgtMV0udC0uMDUpL2UsMCkpOihyPXRoaXMucC5wdix0aGlzLnAuZ2V0VmFsdWVBdFRpbWUoKHRoaXMucC5fY2FjaGluZy5sYXN0RnJhbWUrdGhpcy5wLm9mZnNldFRpbWUtLjAxKS9lLHRoaXMucC5vZmZzZXRUaW1lKSk7ZWxzZSBpZih0aGlzLnB4JiZ0aGlzLnB4LmtleWZyYW1lcyYmdGhpcy5weS5rZXlmcmFtZXMmJnRoaXMucHguZ2V0VmFsdWVBdFRpbWUmJnRoaXMucHkuZ2V0VmFsdWVBdFRpbWUpe3I9W10saT1bXTt2YXIgcz10aGlzLnB4LGE9dGhpcy5weTtzLl9jYWNoaW5nLmxhc3RGcmFtZStzLm9mZnNldFRpbWU8PXMua2V5ZnJhbWVzWzBdLnQ/KHJbMF09cy5nZXRWYWx1ZUF0VGltZSgocy5rZXlmcmFtZXNbMF0udCsuMDEpL2UsMCksclsxXT1hLmdldFZhbHVlQXRUaW1lKChhLmtleWZyYW1lc1swXS50Ky4wMSkvZSwwKSxpWzBdPXMuZ2V0VmFsdWVBdFRpbWUocy5rZXlmcmFtZXNbMF0udC9lLDApLGlbMV09YS5nZXRWYWx1ZUF0VGltZShhLmtleWZyYW1lc1swXS50L2UsMCkpOnMuX2NhY2hpbmcubGFzdEZyYW1lK3Mub2Zmc2V0VGltZT49cy5rZXlmcmFtZXNbcy5rZXlmcmFtZXMubGVuZ3RoLTFdLnQ/KHJbMF09cy5nZXRWYWx1ZUF0VGltZShzLmtleWZyYW1lc1tzLmtleWZyYW1lcy5sZW5ndGgtMV0udC9lLDApLHJbMV09YS5nZXRWYWx1ZUF0VGltZShhLmtleWZyYW1lc1thLmtleWZyYW1lcy5sZW5ndGgtMV0udC9lLDApLGlbMF09cy5nZXRWYWx1ZUF0VGltZSgocy5rZXlmcmFtZXNbcy5rZXlmcmFtZXMubGVuZ3RoLTFdLnQtLjAxKS9lLDApLGlbMV09YS5nZXRWYWx1ZUF0VGltZSgoYS5rZXlmcmFtZXNbYS5rZXlmcmFtZXMubGVuZ3RoLTFdLnQtLjAxKS9lLDApKToocj1bcy5wdixhLnB2XSxpWzBdPXMuZ2V0VmFsdWVBdFRpbWUoKHMuX2NhY2hpbmcubGFzdEZyYW1lK3Mub2Zmc2V0VGltZS0uMDEpL2Uscy5vZmZzZXRUaW1lKSxpWzFdPWEuZ2V0VmFsdWVBdFRpbWUoKGEuX2NhY2hpbmcubGFzdEZyYW1lK2Eub2Zmc2V0VGltZS0uMDEpL2UsYS5vZmZzZXRUaW1lKSl9ZWxzZSByPWk9bjt0aGlzLnYucm90YXRlKC1NYXRoLmF0YW4yKHJbMV0taVsxXSxyWzBdLWlbMF0pKX10aGlzLmRhdGEucCYmdGhpcy5kYXRhLnAucz90aGlzLmRhdGEucC56P3RoaXMudi50cmFuc2xhdGUodGhpcy5weC52LHRoaXMucHkudiwtdGhpcy5wei52KTp0aGlzLnYudHJhbnNsYXRlKHRoaXMucHgudix0aGlzLnB5LnYsMCk6dGhpcy52LnRyYW5zbGF0ZSh0aGlzLnAudlswXSx0aGlzLnAudlsxXSwtdGhpcy5wLnZbMl0pfXRoaXMuZnJhbWVJZD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkfX0scHJlY2FsY3VsYXRlTWF0cml4OmZ1bmN0aW9uKCl7aWYoIXRoaXMuYS5rJiYodGhpcy5wcmUudHJhbnNsYXRlKC10aGlzLmEudlswXSwtdGhpcy5hLnZbMV0sdGhpcy5hLnZbMl0pLHRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9ucz0xLCF0aGlzLnMuZWZmZWN0c1NlcXVlbmNlLmxlbmd0aCkpe2lmKHRoaXMucHJlLnNjYWxlKHRoaXMucy52WzBdLHRoaXMucy52WzFdLHRoaXMucy52WzJdKSx0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM9Mix0aGlzLnNrKXtpZih0aGlzLnNrLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh8fHRoaXMuc2EuZWZmZWN0c1NlcXVlbmNlLmxlbmd0aClyZXR1cm47dGhpcy5wcmUuc2tld0Zyb21BeGlzKC10aGlzLnNrLnYsdGhpcy5zYS52KSx0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM9M310aGlzLnI/dGhpcy5yLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh8fCh0aGlzLnByZS5yb3RhdGUoLXRoaXMuci52KSx0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM9NCk6dGhpcy5yei5lZmZlY3RzU2VxdWVuY2UubGVuZ3RofHx0aGlzLnJ5LmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh8fHRoaXMucnguZWZmZWN0c1NlcXVlbmNlLmxlbmd0aHx8dGhpcy5vci5lZmZlY3RzU2VxdWVuY2UubGVuZ3RofHwodGhpcy5wcmUucm90YXRlWigtdGhpcy5yei52KS5yb3RhdGVZKHRoaXMucnkudikucm90YXRlWCh0aGlzLnJ4LnYpLnJvdGF0ZVooLXRoaXMub3IudlsyXSkucm90YXRlWSh0aGlzLm9yLnZbMV0pLnJvdGF0ZVgodGhpcy5vci52WzBdKSx0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM9NCl9fSxhdXRvT3JpZW50OmZ1bmN0aW9uKCl7fX0sZXh0ZW5kUHJvdG90eXBlKFtEeW5hbWljUHJvcGVydHlDb250YWluZXJdLGkpLGkucHJvdG90eXBlLmFkZER5bmFtaWNQcm9wZXJ0eT1mdW5jdGlvbih0KXt0aGlzLl9hZGREeW5hbWljUHJvcGVydHkodCksdGhpcy5lbGVtLmFkZER5bmFtaWNQcm9wZXJ0eSh0KSx0aGlzLl9pc0RpcnR5PSEwfSxpLnByb3RvdHlwZS5fYWRkRHluYW1pY1Byb3BlcnR5PUR5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lci5wcm90b3R5cGUuYWRkRHluYW1pY1Byb3BlcnR5LHtnZXRUcmFuc2Zvcm1Qcm9wZXJ0eTpmdW5jdGlvbih0LGUscil7cmV0dXJuIG5ldyBpKHQsZSxyKX19fSgpO2Z1bmN0aW9uIFNoYXBlUGF0aCgpe3RoaXMuYz0hMSx0aGlzLl9sZW5ndGg9MCx0aGlzLl9tYXhMZW5ndGg9OCx0aGlzLnY9Y3JlYXRlU2l6ZWRBcnJheSh0aGlzLl9tYXhMZW5ndGgpLHRoaXMubz1jcmVhdGVTaXplZEFycmF5KHRoaXMuX21heExlbmd0aCksdGhpcy5pPWNyZWF0ZVNpemVkQXJyYXkodGhpcy5fbWF4TGVuZ3RoKX1TaGFwZVBhdGgucHJvdG90eXBlLnNldFBhdGhEYXRhPWZ1bmN0aW9uKHQsZSl7dGhpcy5jPXQsdGhpcy5zZXRMZW5ndGgoZSk7Zm9yKHZhciByPTA7cjxlOyl0aGlzLnZbcl09cG9pbnRQb29sLm5ld0VsZW1lbnQoKSx0aGlzLm9bcl09cG9pbnRQb29sLm5ld0VsZW1lbnQoKSx0aGlzLmlbcl09cG9pbnRQb29sLm5ld0VsZW1lbnQoKSxyKz0xfSxTaGFwZVBhdGgucHJvdG90eXBlLnNldExlbmd0aD1mdW5jdGlvbih0KXtmb3IoO3RoaXMuX21heExlbmd0aDx0Oyl0aGlzLmRvdWJsZUFycmF5TGVuZ3RoKCk7dGhpcy5fbGVuZ3RoPXR9LFNoYXBlUGF0aC5wcm90b3R5cGUuZG91YmxlQXJyYXlMZW5ndGg9ZnVuY3Rpb24oKXt0aGlzLnY9dGhpcy52LmNvbmNhdChjcmVhdGVTaXplZEFycmF5KHRoaXMuX21heExlbmd0aCkpLHRoaXMuaT10aGlzLmkuY29uY2F0KGNyZWF0ZVNpemVkQXJyYXkodGhpcy5fbWF4TGVuZ3RoKSksdGhpcy5vPXRoaXMuby5jb25jYXQoY3JlYXRlU2l6ZWRBcnJheSh0aGlzLl9tYXhMZW5ndGgpKSx0aGlzLl9tYXhMZW5ndGgqPTJ9LFNoYXBlUGF0aC5wcm90b3R5cGUuc2V0WFlBdD1mdW5jdGlvbih0LGUscixpLHMpe3ZhciBhO3N3aXRjaCh0aGlzLl9sZW5ndGg9TWF0aC5tYXgodGhpcy5fbGVuZ3RoLGkrMSksdGhpcy5fbGVuZ3RoPj10aGlzLl9tYXhMZW5ndGgmJnRoaXMuZG91YmxlQXJyYXlMZW5ndGgoKSxyKXtjYXNlInYiOmE9dGhpcy52O2JyZWFrO2Nhc2UiaSI6YT10aGlzLmk7YnJlYWs7Y2FzZSJvIjphPXRoaXMubzticmVhaztkZWZhdWx0OmE9W119KCFhW2ldfHxhW2ldJiYhcykmJihhW2ldPXBvaW50UG9vbC5uZXdFbGVtZW50KCkpLGFbaV1bMF09dCxhW2ldWzFdPWV9LFNoYXBlUGF0aC5wcm90b3R5cGUuc2V0VHJpcGxlQXQ9ZnVuY3Rpb24odCxlLHIsaSxzLGEsbixvKXt0aGlzLnNldFhZQXQodCxlLCJ2IixuLG8pLHRoaXMuc2V0WFlBdChyLGksIm8iLG4sbyksdGhpcy5zZXRYWUF0KHMsYSwiaSIsbixvKX0sU2hhcGVQYXRoLnByb3RvdHlwZS5yZXZlcnNlPWZ1bmN0aW9uKCl7dmFyIHQ9bmV3IFNoYXBlUGF0aDt0LnNldFBhdGhEYXRhKHRoaXMuYyx0aGlzLl9sZW5ndGgpO3ZhciBlPXRoaXMudixyPXRoaXMubyxpPXRoaXMuaSxzPTA7dGhpcy5jJiYodC5zZXRUcmlwbGVBdChlWzBdWzBdLGVbMF1bMV0saVswXVswXSxpWzBdWzFdLHJbMF1bMF0sclswXVsxXSwwLCExKSxzPTEpO3ZhciBhLG49dGhpcy5fbGVuZ3RoLTEsbz10aGlzLl9sZW5ndGg7Zm9yKGE9czthPG87YSs9MSl0LnNldFRyaXBsZUF0KGVbbl1bMF0sZVtuXVsxXSxpW25dWzBdLGlbbl1bMV0scltuXVswXSxyW25dWzFdLGEsITEpLG4tPTE7cmV0dXJuIHR9O3ZhciBTaGFwZVByb3BlcnR5RmFjdG9yeT1mdW5jdGlvbigpe3ZhciBzPS05OTk5OTk7ZnVuY3Rpb24gdCh0LGUscil7dmFyIGkscyxhLG4sbyxoLGwscCxtLGY9ci5sYXN0SW5kZXgsYz10aGlzLmtleWZyYW1lcztpZih0PGNbMF0udC10aGlzLm9mZnNldFRpbWUpaT1jWzBdLnNbMF0sYT0hMCxmPTA7ZWxzZSBpZih0Pj1jW2MubGVuZ3RoLTFdLnQtdGhpcy5vZmZzZXRUaW1lKWk9Y1tjLmxlbmd0aC0xXS5zP2NbYy5sZW5ndGgtMV0uc1swXTpjW2MubGVuZ3RoLTJdLmVbMF0sYT0hMDtlbHNle2Zvcih2YXIgZCx1LHksZz1mLHY9Yy5sZW5ndGgtMSxiPSEwO2ImJihkPWNbZ10sISgodT1jW2crMV0pLnQtdGhpcy5vZmZzZXRUaW1lPnQpKTspZzx2LTE/Zys9MTpiPSExO2lmKHk9dGhpcy5rZXlmcmFtZXNNZXRhZGF0YVtnXXx8e30sZj1nLCEoYT0xPT09ZC5oKSl7aWYodD49dS50LXRoaXMub2Zmc2V0VGltZSlwPTE7ZWxzZSBpZih0PGQudC10aGlzLm9mZnNldFRpbWUpcD0wO2Vsc2V7dmFyIFA7eS5fX2ZuY3Q/UD15Ll9fZm5jdDooUD1CZXppZXJGYWN0b3J5LmdldEJlemllckVhc2luZyhkLm8ueCxkLm8ueSxkLmkueCxkLmkueSkuZ2V0LHkuX19mbmN0PVApLHA9UCgodC0oZC50LXRoaXMub2Zmc2V0VGltZSkpLyh1LnQtdGhpcy5vZmZzZXRUaW1lLShkLnQtdGhpcy5vZmZzZXRUaW1lKSkpfXM9dS5zP3Uuc1swXTpkLmVbMF19aT1kLnNbMF19Zm9yKGg9ZS5fbGVuZ3RoLGw9aS5pWzBdLmxlbmd0aCxyLmxhc3RJbmRleD1mLG49MDtuPGg7bis9MSlmb3Iobz0wO288bDtvKz0xKW09YT9pLmlbbl1bb106aS5pW25dW29dKyhzLmlbbl1bb10taS5pW25dW29dKSpwLGUuaVtuXVtvXT1tLG09YT9pLm9bbl1bb106aS5vW25dW29dKyhzLm9bbl1bb10taS5vW25dW29dKSpwLGUub1tuXVtvXT1tLG09YT9pLnZbbl1bb106aS52W25dW29dKyhzLnZbbl1bb10taS52W25dW29dKSpwLGUudltuXVtvXT1tfWZ1bmN0aW9uIGEoKXt0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb259ZnVuY3Rpb24gZSh0KXsoZnVuY3Rpb24odCxlKXtpZih0Ll9sZW5ndGghPT1lLl9sZW5ndGh8fHQuYyE9PWUuYylyZXR1cm4hMTt2YXIgcixpPXQuX2xlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKWlmKHQudltyXVswXSE9PWUudltyXVswXXx8dC52W3JdWzFdIT09ZS52W3JdWzFdfHx0Lm9bcl1bMF0hPT1lLm9bcl1bMF18fHQub1tyXVsxXSE9PWUub1tyXVsxXXx8dC5pW3JdWzBdIT09ZS5pW3JdWzBdfHx0Lmlbcl1bMV0hPT1lLmlbcl1bMV0pcmV0dXJuITE7cmV0dXJuITB9KSh0aGlzLnYsdCl8fCh0aGlzLnY9c2hhcGVQb29sLmNsb25lKHQpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24ucmVsZWFzZVNoYXBlcygpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUodGhpcy52KSx0aGlzLl9tZGY9ITAsdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uKX1mdW5jdGlvbiByKCl7aWYodGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuZnJhbWVJZClpZih0aGlzLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGgpaWYodGhpcy5sb2NrKXRoaXMuc2V0VlZhbHVlKHRoaXMucHYpO2Vsc2V7dmFyIHQsZTt0aGlzLmxvY2s9ITAsdGhpcy5fbWRmPSExLHQ9dGhpcy5rZj90aGlzLnB2OnRoaXMuZGF0YS5rcz90aGlzLmRhdGEua3Muazp0aGlzLmRhdGEucHQuazt2YXIgcj10aGlzLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSl0PXRoaXMuZWZmZWN0c1NlcXVlbmNlW2VdKHQpO3RoaXMuc2V0VlZhbHVlKHQpLHRoaXMubG9jaz0hMSx0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZH1lbHNlIHRoaXMuX21kZj0hMX1mdW5jdGlvbiBuKHQsZSxyKXt0aGlzLnByb3BUeXBlPSJzaGFwZSIsdGhpcy5jb21wPXQuY29tcCx0aGlzLmNvbnRhaW5lcj10LHRoaXMuZWxlbT10LHRoaXMuZGF0YT1lLHRoaXMuaz0hMSx0aGlzLmtmPSExLHRoaXMuX21kZj0hMTt2YXIgaT0zPT09cj9lLnB0Lms6ZS5rcy5rO3RoaXMudj1zaGFwZVBvb2wuY2xvbmUoaSksdGhpcy5wdj1zaGFwZVBvb2wuY2xvbmUodGhpcy52KSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvblBvb2wubmV3U2hhcGVDb2xsZWN0aW9uKCksdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMucGF0aHMuYWRkU2hhcGUodGhpcy52KSx0aGlzLnJlc2V0PWEsdGhpcy5lZmZlY3RzU2VxdWVuY2U9W119ZnVuY3Rpb24gaSh0KXt0aGlzLmVmZmVjdHNTZXF1ZW5jZS5wdXNoKHQpLHRoaXMuY29udGFpbmVyLmFkZER5bmFtaWNQcm9wZXJ0eSh0aGlzKX1mdW5jdGlvbiBvKHQsZSxyKXt0aGlzLnByb3BUeXBlPSJzaGFwZSIsdGhpcy5jb21wPXQuY29tcCx0aGlzLmVsZW09dCx0aGlzLmNvbnRhaW5lcj10LHRoaXMub2Zmc2V0VGltZT10LmRhdGEuc3QsdGhpcy5rZXlmcmFtZXM9Mz09PXI/ZS5wdC5rOmUua3Muayx0aGlzLmtleWZyYW1lc01ldGFkYXRhPVtdLHRoaXMuaz0hMCx0aGlzLmtmPSEwO3ZhciBpPXRoaXMua2V5ZnJhbWVzWzBdLnNbMF0uaS5sZW5ndGg7dGhpcy52PXNoYXBlUG9vbC5uZXdFbGVtZW50KCksdGhpcy52LnNldFBhdGhEYXRhKHRoaXMua2V5ZnJhbWVzWzBdLnNbMF0uYyxpKSx0aGlzLnB2PXNoYXBlUG9vbC5jbG9uZSh0aGlzLnYpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb249c2hhcGVDb2xsZWN0aW9uUG9vbC5uZXdTaGFwZUNvbGxlY3Rpb24oKSx0aGlzLnBhdGhzPXRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24sdGhpcy5wYXRocy5hZGRTaGFwZSh0aGlzLnYpLHRoaXMubGFzdEZyYW1lPXMsdGhpcy5yZXNldD1hLHRoaXMuX2NhY2hpbmc9e2xhc3RGcmFtZTpzLGxhc3RJbmRleDowfSx0aGlzLmVmZmVjdHNTZXF1ZW5jZT1bZnVuY3Rpb24oKXt2YXIgdD10aGlzLmNvbXAucmVuZGVyZWRGcmFtZS10aGlzLm9mZnNldFRpbWUsZT10aGlzLmtleWZyYW1lc1swXS50LXRoaXMub2Zmc2V0VGltZSxyPXRoaXMua2V5ZnJhbWVzW3RoaXMua2V5ZnJhbWVzLmxlbmd0aC0xXS50LXRoaXMub2Zmc2V0VGltZSxpPXRoaXMuX2NhY2hpbmcubGFzdEZyYW1lO3JldHVybiBpIT09cyYmKGk8ZSYmdDxlfHxyPGkmJnI8dCl8fCh0aGlzLl9jYWNoaW5nLmxhc3RJbmRleD1pPHQ/dGhpcy5fY2FjaGluZy5sYXN0SW5kZXg6MCx0aGlzLmludGVycG9sYXRlU2hhcGUodCx0aGlzLnB2LHRoaXMuX2NhY2hpbmcpKSx0aGlzLl9jYWNoaW5nLmxhc3RGcmFtZT10LHRoaXMucHZ9LmJpbmQodGhpcyldfW4ucHJvdG90eXBlLmludGVycG9sYXRlU2hhcGU9dCxuLnByb3RvdHlwZS5nZXRWYWx1ZT1yLG4ucHJvdG90eXBlLnNldFZWYWx1ZT1lLG4ucHJvdG90eXBlLmFkZEVmZmVjdD1pLG8ucHJvdG90eXBlLmdldFZhbHVlPXIsby5wcm90b3R5cGUuaW50ZXJwb2xhdGVTaGFwZT10LG8ucHJvdG90eXBlLnNldFZWYWx1ZT1lLG8ucHJvdG90eXBlLmFkZEVmZmVjdD1pO3ZhciBoPWZ1bmN0aW9uKCl7dmFyIG49cm91bmRDb3JuZXI7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudj1zaGFwZVBvb2wubmV3RWxlbWVudCgpLHRoaXMudi5zZXRQYXRoRGF0YSghMCw0KSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uPXNoYXBlQ29sbGVjdGlvblBvb2wubmV3U2hhcGVDb2xsZWN0aW9uKCksdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb24uYWRkU2hhcGUodGhpcy52KSx0aGlzLmQ9ZS5kLHRoaXMuZWxlbT10LHRoaXMuY29tcD10LmNvbXAsdGhpcy5mcmFtZUlkPS0xLHRoaXMuaW5pdER5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcih0KSx0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLnAsMSwwLHRoaXMpLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucywxLDAsdGhpcyksdGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg/dGhpcy5rPSEwOih0aGlzLms9ITEsdGhpcy5jb252ZXJ0RWxsVG9QYXRoKCkpfXJldHVybiB0LnByb3RvdHlwZT17cmVzZXQ6YSxnZXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQmJih0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCx0aGlzLml0ZXJhdGVEeW5hbWljUHJvcGVydGllcygpLHRoaXMuX21kZiYmdGhpcy5jb252ZXJ0RWxsVG9QYXRoKCkpfSxjb252ZXJ0RWxsVG9QYXRoOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wLnZbMF0sZT10aGlzLnAudlsxXSxyPXRoaXMucy52WzBdLzIsaT10aGlzLnMudlsxXS8yLHM9MyE9PXRoaXMuZCxhPXRoaXMudjthLnZbMF1bMF09dCxhLnZbMF1bMV09ZS1pLGEudlsxXVswXT1zP3Qrcjp0LXIsYS52WzFdWzFdPWUsYS52WzJdWzBdPXQsYS52WzJdWzFdPWUraSxhLnZbM11bMF09cz90LXI6dCtyLGEudlszXVsxXT1lLGEuaVswXVswXT1zP3QtcipuOnQrcipuLGEuaVswXVsxXT1lLWksYS5pWzFdWzBdPXM/dCtyOnQtcixhLmlbMV1bMV09ZS1pKm4sYS5pWzJdWzBdPXM/dCtyKm46dC1yKm4sYS5pWzJdWzFdPWUraSxhLmlbM11bMF09cz90LXI6dCtyLGEuaVszXVsxXT1lK2kqbixhLm9bMF1bMF09cz90K3Iqbjp0LXIqbixhLm9bMF1bMV09ZS1pLGEub1sxXVswXT1zP3Qrcjp0LXIsYS5vWzFdWzFdPWUraSpuLGEub1syXVswXT1zP3QtcipuOnQrcipuLGEub1syXVsxXT1lK2ksYS5vWzNdWzBdPXM/dC1yOnQrcixhLm9bM11bMV09ZS1pKm59fSxleHRlbmRQcm90b3R5cGUoW0R5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcl0sdCksdH0oKSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudj1zaGFwZVBvb2wubmV3RWxlbWVudCgpLHRoaXMudi5zZXRQYXRoRGF0YSghMCwwKSx0aGlzLmVsZW09dCx0aGlzLmNvbXA9dC5jb21wLHRoaXMuZGF0YT1lLHRoaXMuZnJhbWVJZD0tMSx0aGlzLmQ9ZS5kLHRoaXMuaW5pdER5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcih0KSwxPT09ZS5zeT8odGhpcy5pcj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuaXIsMCwwLHRoaXMpLHRoaXMuaXM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLmlzLDAsLjAxLHRoaXMpLHRoaXMuY29udmVydFRvUGF0aD10aGlzLmNvbnZlcnRTdGFyVG9QYXRoKTp0aGlzLmNvbnZlcnRUb1BhdGg9dGhpcy5jb252ZXJ0UG9seWdvblRvUGF0aCx0aGlzLnB0PVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5wdCwwLDAsdGhpcyksdGhpcy5wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5wLDEsMCx0aGlzKSx0aGlzLnI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLnIsMCxkZWdUb1JhZHMsdGhpcyksdGhpcy5vcj1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUub3IsMCwwLHRoaXMpLHRoaXMub3M9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLm9zLDAsLjAxLHRoaXMpLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb249c2hhcGVDb2xsZWN0aW9uUG9vbC5uZXdTaGFwZUNvbGxlY3Rpb24oKSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLmFkZFNoYXBlKHRoaXMudiksdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP3RoaXMuaz0hMDoodGhpcy5rPSExLHRoaXMuY29udmVydFRvUGF0aCgpKX1yZXR1cm4gdC5wcm90b3R5cGU9e3Jlc2V0OmEsZ2V0VmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkJiYodGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQsdGhpcy5pdGVyYXRlRHluYW1pY1Byb3BlcnRpZXMoKSx0aGlzLl9tZGYmJnRoaXMuY29udmVydFRvUGF0aCgpKX0sY29udmVydFN0YXJUb1BhdGg6ZnVuY3Rpb24oKXt2YXIgdCxlLHIsaSxzPTIqTWF0aC5mbG9vcih0aGlzLnB0LnYpLGE9MipNYXRoLlBJL3Msbj0hMCxvPXRoaXMub3IudixoPXRoaXMuaXIudixsPXRoaXMub3MudixwPXRoaXMuaXMudixtPTIqTWF0aC5QSSpvLygyKnMpLGY9MipNYXRoLlBJKmgvKDIqcyksYz0tTWF0aC5QSS8yO2MrPXRoaXMuci52O3ZhciBkPTM9PT10aGlzLmRhdGEuZD8tMToxO2Zvcih0PXRoaXMudi5fbGVuZ3RoPTA7dDxzO3QrPTEpe3I9bj9sOnAsaT1uP206Zjt2YXIgdT0oZT1uP286aCkqTWF0aC5jb3MoYykseT1lKk1hdGguc2luKGMpLGc9MD09PXUmJjA9PT15PzA6eS9NYXRoLnNxcnQodSp1K3kqeSksdj0wPT09dSYmMD09PXk/MDotdS9NYXRoLnNxcnQodSp1K3kqeSk7dSs9K3RoaXMucC52WzBdLHkrPSt0aGlzLnAudlsxXSx0aGlzLnYuc2V0VHJpcGxlQXQodSx5LHUtZyppKnIqZCx5LXYqaSpyKmQsdStnKmkqcipkLHkrdippKnIqZCx0LCEwKSxuPSFuLGMrPWEqZH19LGNvbnZlcnRQb2x5Z29uVG9QYXRoOmZ1bmN0aW9uKCl7dmFyIHQsZT1NYXRoLmZsb29yKHRoaXMucHQudikscj0yKk1hdGguUEkvZSxpPXRoaXMub3IudixzPXRoaXMub3MudixhPTIqTWF0aC5QSSppLyg0KmUpLG49LjUqLU1hdGguUEksbz0zPT09dGhpcy5kYXRhLmQ/LTE6MTtmb3Iobis9dGhpcy5yLnYsdD10aGlzLnYuX2xlbmd0aD0wO3Q8ZTt0Kz0xKXt2YXIgaD1pKk1hdGguY29zKG4pLGw9aSpNYXRoLnNpbihuKSxwPTA9PT1oJiYwPT09bD8wOmwvTWF0aC5zcXJ0KGgqaCtsKmwpLG09MD09PWgmJjA9PT1sPzA6LWgvTWF0aC5zcXJ0KGgqaCtsKmwpO2grPSt0aGlzLnAudlswXSxsKz0rdGhpcy5wLnZbMV0sdGhpcy52LnNldFRyaXBsZUF0KGgsbCxoLXAqYSpzKm8sbC1tKmEqcypvLGgrcCphKnMqbyxsK20qYSpzKm8sdCwhMCksbis9cipvfXRoaXMucGF0aHMubGVuZ3RoPTAsdGhpcy5wYXRoc1swXT10aGlzLnZ9fSxleHRlbmRQcm90b3R5cGUoW0R5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcl0sdCksdH0oKSxwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3RoaXMudj1zaGFwZVBvb2wubmV3RWxlbWVudCgpLHRoaXMudi5jPSEwLHRoaXMubG9jYWxTaGFwZUNvbGxlY3Rpb249c2hhcGVDb2xsZWN0aW9uUG9vbC5uZXdTaGFwZUNvbGxlY3Rpb24oKSx0aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLmFkZFNoYXBlKHRoaXMudiksdGhpcy5wYXRocz10aGlzLmxvY2FsU2hhcGVDb2xsZWN0aW9uLHRoaXMuZWxlbT10LHRoaXMuY29tcD10LmNvbXAsdGhpcy5mcmFtZUlkPS0xLHRoaXMuZD1lLmQsdGhpcy5pbml0RHluYW1pY1Byb3BlcnR5Q29udGFpbmVyKHQpLHRoaXMucD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucCwxLDAsdGhpcyksdGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5zLDEsMCx0aGlzKSx0aGlzLnI9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLnIsMCwwLHRoaXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP3RoaXMuaz0hMDoodGhpcy5rPSExLHRoaXMuY29udmVydFJlY3RUb1BhdGgoKSl9cmV0dXJuIHQucHJvdG90eXBlPXtjb252ZXJ0UmVjdFRvUGF0aDpmdW5jdGlvbigpe3ZhciB0PXRoaXMucC52WzBdLGU9dGhpcy5wLnZbMV0scj10aGlzLnMudlswXS8yLGk9dGhpcy5zLnZbMV0vMixzPWJtTWluKHIsaSx0aGlzLnIudiksYT1zKigxLXJvdW5kQ29ybmVyKTt0aGlzLnYuX2xlbmd0aD0wLDI9PT10aGlzLmR8fDE9PT10aGlzLmQ/KHRoaXMudi5zZXRUcmlwbGVBdCh0K3IsZS1pK3MsdCtyLGUtaStzLHQrcixlLWkrYSwwLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodCtyLGUraS1zLHQrcixlK2ktYSx0K3IsZStpLXMsMSwhMCksMCE9PXM/KHRoaXMudi5zZXRUcmlwbGVBdCh0K3ItcyxlK2ksdCtyLXMsZStpLHQrci1hLGUraSwyLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yK3MsZStpLHQtcithLGUraSx0LXIrcyxlK2ksMywhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcixlK2ktcyx0LXIsZStpLXMsdC1yLGUraS1hLDQsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXIsZS1pK3MsdC1yLGUtaSthLHQtcixlLWkrcyw1LCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yK3MsZS1pLHQtcitzLGUtaSx0LXIrYSxlLWksNiwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQrci1zLGUtaSx0K3ItYSxlLWksdCtyLXMsZS1pLDcsITApKToodGhpcy52LnNldFRyaXBsZUF0KHQtcixlK2ksdC1yK2EsZStpLHQtcixlK2ksMiksdGhpcy52LnNldFRyaXBsZUF0KHQtcixlLWksdC1yLGUtaSthLHQtcixlLWksMykpKToodGhpcy52LnNldFRyaXBsZUF0KHQrcixlLWkrcyx0K3IsZS1pK2EsdCtyLGUtaStzLDAsITApLDAhPT1zPyh0aGlzLnYuc2V0VHJpcGxlQXQodCtyLXMsZS1pLHQrci1zLGUtaSx0K3ItYSxlLWksMSwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcitzLGUtaSx0LXIrYSxlLWksdC1yK3MsZS1pLDIsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0LXIsZS1pK3MsdC1yLGUtaStzLHQtcixlLWkrYSwzLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yLGUraS1zLHQtcixlK2ktYSx0LXIsZStpLXMsNCwhMCksdGhpcy52LnNldFRyaXBsZUF0KHQtcitzLGUraSx0LXIrcyxlK2ksdC1yK2EsZStpLDUsITApLHRoaXMudi5zZXRUcmlwbGVBdCh0K3ItcyxlK2ksdCtyLWEsZStpLHQrci1zLGUraSw2LCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodCtyLGUraS1zLHQrcixlK2ktcyx0K3IsZStpLWEsNywhMCkpOih0aGlzLnYuc2V0VHJpcGxlQXQodC1yLGUtaSx0LXIrYSxlLWksdC1yLGUtaSwxLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodC1yLGUraSx0LXIsZStpLWEsdC1yLGUraSwyLCEwKSx0aGlzLnYuc2V0VHJpcGxlQXQodCtyLGUraSx0K3ItYSxlK2ksdCtyLGUraSwzLCEwKSkpfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3RoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWQmJih0aGlzLmZyYW1lSWQ9dGhpcy5lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCx0aGlzLml0ZXJhdGVEeW5hbWljUHJvcGVydGllcygpLHRoaXMuX21kZiYmdGhpcy5jb252ZXJ0UmVjdFRvUGF0aCgpKX0scmVzZXQ6YX0sZXh0ZW5kUHJvdG90eXBlKFtEeW5hbWljUHJvcGVydHlDb250YWluZXJdLHQpLHR9KCk7dmFyIG09e2dldFNoYXBlUHJvcDpmdW5jdGlvbih0LGUscil7dmFyIGk7cmV0dXJuIDM9PT1yfHw0PT09cj9pPSgzPT09cj9lLnB0OmUua3MpLmsubGVuZ3RoP25ldyBvKHQsZSxyKTpuZXcgbih0LGUscik6NT09PXI/aT1uZXcgcCh0LGUpOjY9PT1yP2k9bmV3IGgodCxlKTo3PT09ciYmKGk9bmV3IGwodCxlKSksaS5rJiZ0LmFkZER5bmFtaWNQcm9wZXJ0eShpKSxpfSxnZXRDb25zdHJ1Y3RvckZ1bmN0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG59LGdldEtleWZyYW1lZENvbnN0cnVjdG9yRnVuY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gb319O3JldHVybiBtfSgpLFNoYXBlTW9kaWZpZXJzPSh0dD17fSx1dD17fSx0dC5yZWdpc3Rlck1vZGlmaWVyPWZ1bmN0aW9uKHQsZSl7dXRbdF18fCh1dFt0XT1lKX0sdHQuZ2V0TW9kaWZpZXI9ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuZXcgdXRbdF0oZSxyKX0sdHQpLHR0LHV0O2Z1bmN0aW9uIFNoYXBlTW9kaWZpZXIoKXt9ZnVuY3Rpb24gVHJpbU1vZGlmaWVyKCl7fWZ1bmN0aW9uIFJvdW5kQ29ybmVyc01vZGlmaWVyKCl7fWZ1bmN0aW9uIFB1Y2tlckFuZEJsb2F0TW9kaWZpZXIoKXt9ZnVuY3Rpb24gUmVwZWF0ZXJNb2RpZmllcigpe31mdW5jdGlvbiBTaGFwZUNvbGxlY3Rpb24oKXt0aGlzLl9sZW5ndGg9MCx0aGlzLl9tYXhMZW5ndGg9NCx0aGlzLnNoYXBlcz1jcmVhdGVTaXplZEFycmF5KHRoaXMuX21heExlbmd0aCl9ZnVuY3Rpb24gRGFzaFByb3BlcnR5KHQsZSxyLGkpe3ZhciBzO3RoaXMuZWxlbT10LHRoaXMuZnJhbWVJZD0tMSx0aGlzLmRhdGFQcm9wcz1jcmVhdGVTaXplZEFycmF5KGUubGVuZ3RoKSx0aGlzLnJlbmRlcmVyPXIsdGhpcy5rPSExLHRoaXMuZGFzaFN0cj0iIix0aGlzLmRhc2hBcnJheT1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixlLmxlbmd0aD9lLmxlbmd0aC0xOjApLHRoaXMuZGFzaG9mZnNldD1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIiwxKSx0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIoaSk7dmFyIGEsbj1lLmxlbmd0aHx8MDtmb3Iocz0wO3M8bjtzKz0xKWE9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlW3NdLnYsMCwwLHRoaXMpLHRoaXMuaz1hLmt8fHRoaXMuayx0aGlzLmRhdGFQcm9wc1tzXT17bjplW3NdLm4scDphfTt0aGlzLmt8fHRoaXMuZ2V0VmFsdWUoITApLHRoaXMuX2lzQW5pbWF0ZWQ9dGhpcy5rfWZ1bmN0aW9uIEdyYWRpZW50UHJvcGVydHkodCxlLHIpe3RoaXMuZGF0YT1lLHRoaXMuYz1jcmVhdGVUeXBlZEFycmF5KCJ1aW50OGMiLDQqZS5wKTt2YXIgaT1lLmsua1swXS5zP2Uuay5rWzBdLnMubGVuZ3RoLTQqZS5wOmUuay5rLmxlbmd0aC00KmUucDt0aGlzLm89Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIsaSksdGhpcy5fY21kZj0hMSx0aGlzLl9vbWRmPSExLHRoaXMuX2NvbGxhcHNhYmxlPXRoaXMuY2hlY2tDb2xsYXBzYWJsZSgpLHRoaXMuX2hhc09wYWNpdHk9aSx0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIociksdGhpcy5wcm9wPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5rLDEsbnVsbCx0aGlzKSx0aGlzLms9dGhpcy5wcm9wLmssdGhpcy5nZXRWYWx1ZSghMCl9U2hhcGVNb2RpZmllci5wcm90b3R5cGUuaW5pdE1vZGlmaWVyUHJvcGVydGllcz1mdW5jdGlvbigpe30sU2hhcGVNb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGVUb01vZGlmaWVyPWZ1bmN0aW9uKCl7fSxTaGFwZU1vZGlmaWVyLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbih0KXtpZighdGhpcy5jbG9zZWQpe3Quc2guY29udGFpbmVyLmFkZER5bmFtaWNQcm9wZXJ0eSh0LnNoKTt2YXIgZT17c2hhcGU6dC5zaCxkYXRhOnQsbG9jYWxTaGFwZUNvbGxlY3Rpb246c2hhcGVDb2xsZWN0aW9uUG9vbC5uZXdTaGFwZUNvbGxlY3Rpb24oKX07dGhpcy5zaGFwZXMucHVzaChlKSx0aGlzLmFkZFNoYXBlVG9Nb2RpZmllcihlKSx0aGlzLl9pc0FuaW1hdGVkJiZ0LnNldEFzQW5pbWF0ZWQoKX19LFNoYXBlTW9kaWZpZXIucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24odCxlKXt0aGlzLnNoYXBlcz1bXSx0aGlzLmVsZW09dCx0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIodCksdGhpcy5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzKHQsZSksdGhpcy5mcmFtZUlkPWluaXRpYWxEZWZhdWx0RnJhbWUsdGhpcy5jbG9zZWQ9ITEsdGhpcy5rPSExLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP3RoaXMuaz0hMDp0aGlzLmdldFZhbHVlKCEwKX0sU2hhcGVNb2RpZmllci5wcm90b3R5cGUucHJvY2Vzc0tleXM9ZnVuY3Rpb24oKXt0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkJiYodGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQsdGhpcy5pdGVyYXRlRHluYW1pY1Byb3BlcnRpZXMoKSl9LGV4dGVuZFByb3RvdHlwZShbRHluYW1pY1Byb3BlcnR5Q29udGFpbmVyXSxTaGFwZU1vZGlmaWVyKSxleHRlbmRQcm90b3R5cGUoW1NoYXBlTW9kaWZpZXJdLFRyaW1Nb2RpZmllciksVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzPWZ1bmN0aW9uKHQsZSl7dGhpcy5zPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5zLDAsLjAxLHRoaXMpLHRoaXMuZT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuZSwwLC4wMSx0aGlzKSx0aGlzLm89UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLm8sMCwwLHRoaXMpLHRoaXMuc1ZhbHVlPTAsdGhpcy5lVmFsdWU9MCx0aGlzLmdldFZhbHVlPXRoaXMucHJvY2Vzc0tleXMsdGhpcy5tPWUubSx0aGlzLl9pc0FuaW1hdGVkPSEhdGhpcy5zLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh8fCEhdGhpcy5lLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh8fCEhdGhpcy5vLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGVUb01vZGlmaWVyPWZ1bmN0aW9uKHQpe3QucGF0aHNEYXRhPVtdfSxUcmltTW9kaWZpZXIucHJvdG90eXBlLmNhbGN1bGF0ZVNoYXBlRWRnZXM9ZnVuY3Rpb24odCxlLHIsaSxzKXt2YXIgYT1bXTtlPD0xP2EucHVzaCh7czp0LGU6ZX0pOjE8PXQ/YS5wdXNoKHtzOnQtMSxlOmUtMX0pOihhLnB1c2goe3M6dCxlOjF9KSxhLnB1c2goe3M6MCxlOmUtMX0pKTt2YXIgbixvLGg9W10sbD1hLmxlbmd0aDtmb3Iobj0wO248bDtuKz0xKXt2YXIgcCxtO2lmKCEoKG89YVtuXSkuZSpzPGl8fG8ucypzPmkrcikpcD1vLnMqczw9aT8wOihvLnMqcy1pKS9yLG09by5lKnM+PWkrcj8xOihvLmUqcy1pKS9yLGgucHVzaChbcCxtXSl9cmV0dXJuIGgubGVuZ3RofHxoLnB1c2goWzAsMF0pLGh9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUucmVsZWFzZVBhdGhzRGF0YT1mdW5jdGlvbih0KXt2YXIgZSxyPXQubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTEpc2VnbWVudHNMZW5ndGhQb29sLnJlbGVhc2UodFtlXSk7cmV0dXJuIHQubGVuZ3RoPTAsdH0sVHJpbU1vZGlmaWVyLnByb3RvdHlwZS5wcm9jZXNzU2hhcGVzPWZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxzO2lmKHRoaXMuX21kZnx8dCl7dmFyIGE9dGhpcy5vLnYlMzYwLzM2MDtpZihhPDAmJihhKz0xKSxlPTE8dGhpcy5zLnY/MSthOnRoaXMucy52PDA/MCthOnRoaXMucy52K2EsKHI9MTx0aGlzLmUudj8xK2E6dGhpcy5lLnY8MD8wK2E6dGhpcy5lLnYrYSk8ZSl7dmFyIG49ZTtlPXIscj1ufWU9MWUtNCpNYXRoLnJvdW5kKDFlNCplKSxyPTFlLTQqTWF0aC5yb3VuZCgxZTQqciksdGhpcy5zVmFsdWU9ZSx0aGlzLmVWYWx1ZT1yfWVsc2UgZT10aGlzLnNWYWx1ZSxyPXRoaXMuZVZhbHVlO3ZhciBvLGgsbCxwLG0sZj10aGlzLnNoYXBlcy5sZW5ndGgsYz0wO2lmKHI9PT1lKWZvcihzPTA7czxmO3MrPTEpdGhpcy5zaGFwZXNbc10ubG9jYWxTaGFwZUNvbGxlY3Rpb24ucmVsZWFzZVNoYXBlcygpLHRoaXMuc2hhcGVzW3NdLnNoYXBlLl9tZGY9ITAsdGhpcy5zaGFwZXNbc10uc2hhcGUucGF0aHM9dGhpcy5zaGFwZXNbc10ubG9jYWxTaGFwZUNvbGxlY3Rpb24sdGhpcy5fbWRmJiYodGhpcy5zaGFwZXNbc10ucGF0aHNEYXRhLmxlbmd0aD0wKTtlbHNlIGlmKDE9PT1yJiYwPT09ZXx8MD09PXImJjE9PT1lKXtpZih0aGlzLl9tZGYpZm9yKHM9MDtzPGY7cys9MSl0aGlzLnNoYXBlc1tzXS5wYXRoc0RhdGEubGVuZ3RoPTAsdGhpcy5zaGFwZXNbc10uc2hhcGUuX21kZj0hMH1lbHNle3ZhciBkLHUseT1bXTtmb3Iocz0wO3M8ZjtzKz0xKWlmKChkPXRoaXMuc2hhcGVzW3NdKS5zaGFwZS5fbWRmfHx0aGlzLl9tZGZ8fHR8fDI9PT10aGlzLm0pe2lmKGg9KGk9ZC5zaGFwZS5wYXRocykuX2xlbmd0aCxtPTAsIWQuc2hhcGUuX21kZiYmZC5wYXRoc0RhdGEubGVuZ3RoKW09ZC50b3RhbFNoYXBlTGVuZ3RoO2Vsc2V7Zm9yKGw9dGhpcy5yZWxlYXNlUGF0aHNEYXRhKGQucGF0aHNEYXRhKSxvPTA7bzxoO28rPTEpcD1iZXouZ2V0U2VnbWVudHNMZW5ndGgoaS5zaGFwZXNbb10pLGwucHVzaChwKSxtKz1wLnRvdGFsTGVuZ3RoO2QudG90YWxTaGFwZUxlbmd0aD1tLGQucGF0aHNEYXRhPWx9Yys9bSxkLnNoYXBlLl9tZGY9ITB9ZWxzZSBkLnNoYXBlLnBhdGhzPWQubG9jYWxTaGFwZUNvbGxlY3Rpb247dmFyIGcsdj1lLGI9cixQPTA7Zm9yKHM9Zi0xOzA8PXM7cy09MSlpZigoZD10aGlzLnNoYXBlc1tzXSkuc2hhcGUuX21kZil7Zm9yKCh1PWQubG9jYWxTaGFwZUNvbGxlY3Rpb24pLnJlbGVhc2VTaGFwZXMoKSwyPT09dGhpcy5tJiYxPGY/KGc9dGhpcy5jYWxjdWxhdGVTaGFwZUVkZ2VzKGUscixkLnRvdGFsU2hhcGVMZW5ndGgsUCxjKSxQKz1kLnRvdGFsU2hhcGVMZW5ndGgpOmc9W1t2LGJdXSxoPWcubGVuZ3RoLG89MDtvPGg7bys9MSl7dj1nW29dWzBdLGI9Z1tvXVsxXSx5Lmxlbmd0aD0wLGI8PTE/eS5wdXNoKHtzOmQudG90YWxTaGFwZUxlbmd0aCp2LGU6ZC50b3RhbFNoYXBlTGVuZ3RoKmJ9KToxPD12P3kucHVzaCh7czpkLnRvdGFsU2hhcGVMZW5ndGgqKHYtMSksZTpkLnRvdGFsU2hhcGVMZW5ndGgqKGItMSl9KTooeS5wdXNoKHtzOmQudG90YWxTaGFwZUxlbmd0aCp2LGU6ZC50b3RhbFNoYXBlTGVuZ3RofSkseS5wdXNoKHtzOjAsZTpkLnRvdGFsU2hhcGVMZW5ndGgqKGItMSl9KSk7dmFyIEU9dGhpcy5hZGRTaGFwZXMoZCx5WzBdKTtpZih5WzBdLnMhPT15WzBdLmUpe2lmKDE8eS5sZW5ndGgpaWYoZC5zaGFwZS5wYXRocy5zaGFwZXNbZC5zaGFwZS5wYXRocy5fbGVuZ3RoLTFdLmMpe3ZhciB4PUUucG9wKCk7dGhpcy5hZGRQYXRocyhFLHUpLEU9dGhpcy5hZGRTaGFwZXMoZCx5WzFdLHgpfWVsc2UgdGhpcy5hZGRQYXRocyhFLHUpLEU9dGhpcy5hZGRTaGFwZXMoZCx5WzFdKTt0aGlzLmFkZFBhdGhzKEUsdSl9fWQuc2hhcGUucGF0aHM9dX19fSxUcmltTW9kaWZpZXIucHJvdG90eXBlLmFkZFBhdGhzPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaT10Lmxlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKWUuYWRkU2hhcGUodFtyXSl9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuYWRkU2VnbWVudD1mdW5jdGlvbih0LGUscixpLHMsYSxuKXtzLnNldFhZQXQoZVswXSxlWzFdLCJvIixhKSxzLnNldFhZQXQoclswXSxyWzFdLCJpIixhKzEpLG4mJnMuc2V0WFlBdCh0WzBdLHRbMV0sInYiLGEpLHMuc2V0WFlBdChpWzBdLGlbMV0sInYiLGErMSl9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuYWRkU2VnbWVudEZyb21BcnJheT1mdW5jdGlvbih0LGUscixpKXtlLnNldFhZQXQodFsxXSx0WzVdLCJvIixyKSxlLnNldFhZQXQodFsyXSx0WzZdLCJpIixyKzEpLGkmJmUuc2V0WFlBdCh0WzBdLHRbNF0sInYiLHIpLGUuc2V0WFlBdCh0WzNdLHRbN10sInYiLHIrMSl9LFRyaW1Nb2RpZmllci5wcm90b3R5cGUuYWRkU2hhcGVzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaSxzLGEsbixvLGgsbCxwLG09dC5wYXRoc0RhdGEsZj10LnNoYXBlLnBhdGhzLnNoYXBlcyxjPXQuc2hhcGUucGF0aHMuX2xlbmd0aCxkPTAsdT1bXSx5PSEwO2ZvcihwPXI/KG89ci5fbGVuZ3RoLHIuX2xlbmd0aCk6KHI9c2hhcGVQb29sLm5ld0VsZW1lbnQoKSxvPTApLHUucHVzaChyKSxpPTA7aTxjO2krPTEpe2ZvcihoPW1baV0ubGVuZ3RocyxyLmM9ZltpXS5jLGE9ZltpXS5jP2gubGVuZ3RoOmgubGVuZ3RoKzEscz0xO3M8YTtzKz0xKWlmKGQrKG49aFtzLTFdKS5hZGRlZExlbmd0aDxlLnMpZCs9bi5hZGRlZExlbmd0aCxyLmM9ITE7ZWxzZXtpZihkPmUuZSl7ci5jPSExO2JyZWFrfWUuczw9ZCYmZS5lPj1kK24uYWRkZWRMZW5ndGg/KHRoaXMuYWRkU2VnbWVudChmW2ldLnZbcy0xXSxmW2ldLm9bcy0xXSxmW2ldLmlbc10sZltpXS52W3NdLHIsbyx5KSx5PSExKToobD1iZXouZ2V0TmV3U2VnbWVudChmW2ldLnZbcy0xXSxmW2ldLnZbc10sZltpXS5vW3MtMV0sZltpXS5pW3NdLChlLnMtZCkvbi5hZGRlZExlbmd0aCwoZS5lLWQpL24uYWRkZWRMZW5ndGgsaFtzLTFdKSx0aGlzLmFkZFNlZ21lbnRGcm9tQXJyYXkobCxyLG8seSkseT0hMSxyLmM9ITEpLGQrPW4uYWRkZWRMZW5ndGgsbys9MX1pZihmW2ldLmMmJmgubGVuZ3RoKXtpZihuPWhbcy0xXSxkPD1lLmUpe3ZhciBnPWhbcy0xXS5hZGRlZExlbmd0aDtlLnM8PWQmJmUuZT49ZCtnPyh0aGlzLmFkZFNlZ21lbnQoZltpXS52W3MtMV0sZltpXS5vW3MtMV0sZltpXS5pWzBdLGZbaV0udlswXSxyLG8seSkseT0hMSk6KGw9YmV6LmdldE5ld1NlZ21lbnQoZltpXS52W3MtMV0sZltpXS52WzBdLGZbaV0ub1tzLTFdLGZbaV0uaVswXSwoZS5zLWQpL2csKGUuZS1kKS9nLGhbcy0xXSksdGhpcy5hZGRTZWdtZW50RnJvbUFycmF5KGwscixvLHkpLHk9ITEsci5jPSExKX1lbHNlIHIuYz0hMTtkKz1uLmFkZGVkTGVuZ3RoLG8rPTF9aWYoci5fbGVuZ3RoJiYoci5zZXRYWUF0KHIudltwXVswXSxyLnZbcF1bMV0sImkiLHApLHIuc2V0WFlBdChyLnZbci5fbGVuZ3RoLTFdWzBdLHIudltyLl9sZW5ndGgtMV1bMV0sIm8iLHIuX2xlbmd0aC0xKSksZD5lLmUpYnJlYWs7aTxjLTEmJihyPXNoYXBlUG9vbC5uZXdFbGVtZW50KCkseT0hMCx1LnB1c2gociksbz0wKX1yZXR1cm4gdX0sU2hhcGVNb2RpZmllcnMucmVnaXN0ZXJNb2RpZmllcigidG0iLFRyaW1Nb2RpZmllciksZXh0ZW5kUHJvdG90eXBlKFtTaGFwZU1vZGlmaWVyXSxSb3VuZENvcm5lcnNNb2RpZmllciksUm91bmRDb3JuZXJzTW9kaWZpZXIucHJvdG90eXBlLmluaXRNb2RpZmllclByb3BlcnRpZXM9ZnVuY3Rpb24odCxlKXt0aGlzLmdldFZhbHVlPXRoaXMucHJvY2Vzc0tleXMsdGhpcy5yZD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuciwwLG51bGwsdGhpcyksdGhpcy5faXNBbmltYXRlZD0hIXRoaXMucmQuZWZmZWN0c1NlcXVlbmNlLmxlbmd0aH0sUm91bmRDb3JuZXJzTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaT1zaGFwZVBvb2wubmV3RWxlbWVudCgpO2kuYz10LmM7dmFyIHMsYSxuLG8saCxsLHAsbSxmLGMsZCx1LHk9dC5fbGVuZ3RoLGc9MDtmb3Iocj0wO3I8eTtyKz0xKXM9dC52W3JdLG49dC5vW3JdLGE9dC5pW3JdLHNbMF09PT1uWzBdJiZzWzFdPT09blsxXSYmc1swXT09PWFbMF0mJnNbMV09PT1hWzFdPzAhPT1yJiZyIT09eS0xfHx0LmM/KG89MD09PXI/dC52W3ktMV06dC52W3ItMV0sbD0oaD1NYXRoLnNxcnQoTWF0aC5wb3coc1swXS1vWzBdLDIpK01hdGgucG93KHNbMV0tb1sxXSwyKSkpP01hdGgubWluKGgvMixlKS9oOjAscD1kPXNbMF0rKG9bMF0tc1swXSkqbCxtPXU9c1sxXS0oc1sxXS1vWzFdKSpsLGY9cC0ocC1zWzBdKSpyb3VuZENvcm5lcixjPW0tKG0tc1sxXSkqcm91bmRDb3JuZXIsaS5zZXRUcmlwbGVBdChwLG0sZixjLGQsdSxnKSxnKz0xLG89cj09PXktMT90LnZbMF06dC52W3IrMV0sbD0oaD1NYXRoLnNxcnQoTWF0aC5wb3coc1swXS1vWzBdLDIpK01hdGgucG93KHNbMV0tb1sxXSwyKSkpP01hdGgubWluKGgvMixlKS9oOjAscD1mPXNbMF0rKG9bMF0tc1swXSkqbCxtPWM9c1sxXSsob1sxXS1zWzFdKSpsLGQ9cC0ocC1zWzBdKSpyb3VuZENvcm5lcix1PW0tKG0tc1sxXSkqcm91bmRDb3JuZXIsaS5zZXRUcmlwbGVBdChwLG0sZixjLGQsdSxnKSk6aS5zZXRUcmlwbGVBdChzWzBdLHNbMV0sblswXSxuWzFdLGFbMF0sYVsxXSxnKTppLnNldFRyaXBsZUF0KHQudltyXVswXSx0LnZbcl1bMV0sdC5vW3JdWzBdLHQub1tyXVsxXSx0Lmlbcl1bMF0sdC5pW3JdWzFdLGcpLGcrPTE7cmV0dXJuIGl9LFJvdW5kQ29ybmVyc01vZGlmaWVyLnByb3RvdHlwZS5wcm9jZXNzU2hhcGVzPWZ1bmN0aW9uKHQpe3ZhciBlLHIsaSxzLGEsbixvPXRoaXMuc2hhcGVzLmxlbmd0aCxoPXRoaXMucmQudjtpZigwIT09aClmb3Iocj0wO3I8bztyKz0xKXtpZihuPShhPXRoaXMuc2hhcGVzW3JdKS5sb2NhbFNoYXBlQ29sbGVjdGlvbixhLnNoYXBlLl9tZGZ8fHRoaXMuX21kZnx8dClmb3Iobi5yZWxlYXNlU2hhcGVzKCksYS5zaGFwZS5fbWRmPSEwLGU9YS5zaGFwZS5wYXRocy5zaGFwZXMscz1hLnNoYXBlLnBhdGhzLl9sZW5ndGgsaT0wO2k8cztpKz0xKW4uYWRkU2hhcGUodGhpcy5wcm9jZXNzUGF0aChlW2ldLGgpKTthLnNoYXBlLnBhdGhzPWEubG9jYWxTaGFwZUNvbGxlY3Rpb259dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGh8fCh0aGlzLl9tZGY9ITEpfSxTaGFwZU1vZGlmaWVycy5yZWdpc3Rlck1vZGlmaWVyKCJyZCIsUm91bmRDb3JuZXJzTW9kaWZpZXIpLGV4dGVuZFByb3RvdHlwZShbU2hhcGVNb2RpZmllcl0sUHVja2VyQW5kQmxvYXRNb2RpZmllciksUHVja2VyQW5kQmxvYXRNb2RpZmllci5wcm90b3R5cGUuaW5pdE1vZGlmaWVyUHJvcGVydGllcz1mdW5jdGlvbih0LGUpe3RoaXMuZ2V0VmFsdWU9dGhpcy5wcm9jZXNzS2V5cyx0aGlzLmFtb3VudD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuYSwwLG51bGwsdGhpcyksdGhpcy5faXNBbmltYXRlZD0hIXRoaXMuYW1vdW50LmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh9LFB1Y2tlckFuZEJsb2F0TW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9ZS8xMDAsaT1bMCwwXSxzPXQuX2xlbmd0aCxhPTA7Zm9yKGE9MDthPHM7YSs9MSlpWzBdKz10LnZbYV1bMF0saVsxXSs9dC52W2FdWzFdO2lbMF0vPXMsaVsxXS89czt2YXIgbixvLGgsbCxwLG0sZj1zaGFwZVBvb2wubmV3RWxlbWVudCgpO2ZvcihmLmM9dC5jLGE9MDthPHM7YSs9MSluPXQudlthXVswXSsoaVswXS10LnZbYV1bMF0pKnIsbz10LnZbYV1bMV0rKGlbMV0tdC52W2FdWzFdKSpyLGg9dC5vW2FdWzBdKyhpWzBdLXQub1thXVswXSkqLXIsbD10Lm9bYV1bMV0rKGlbMV0tdC5vW2FdWzFdKSotcixwPXQuaVthXVswXSsoaVswXS10LmlbYV1bMF0pKi1yLG09dC5pW2FdWzFdKyhpWzFdLXQuaVthXVsxXSkqLXIsZi5zZXRUcmlwbGVBdChuLG8saCxsLHAsbSxhKTtyZXR1cm4gZn0sUHVja2VyQW5kQmxvYXRNb2RpZmllci5wcm90b3R5cGUucHJvY2Vzc1NoYXBlcz1mdW5jdGlvbih0KXt2YXIgZSxyLGkscyxhLG4sbz10aGlzLnNoYXBlcy5sZW5ndGgsaD10aGlzLmFtb3VudC52O2lmKDAhPT1oKWZvcihyPTA7cjxvO3IrPTEpe2lmKG49KGE9dGhpcy5zaGFwZXNbcl0pLmxvY2FsU2hhcGVDb2xsZWN0aW9uLGEuc2hhcGUuX21kZnx8dGhpcy5fbWRmfHx0KWZvcihuLnJlbGVhc2VTaGFwZXMoKSxhLnNoYXBlLl9tZGY9ITAsZT1hLnNoYXBlLnBhdGhzLnNoYXBlcyxzPWEuc2hhcGUucGF0aHMuX2xlbmd0aCxpPTA7aTxzO2krPTEpbi5hZGRTaGFwZSh0aGlzLnByb2Nlc3NQYXRoKGVbaV0saCkpO2Euc2hhcGUucGF0aHM9YS5sb2NhbFNoYXBlQ29sbGVjdGlvbn10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aHx8KHRoaXMuX21kZj0hMSl9LFNoYXBlTW9kaWZpZXJzLnJlZ2lzdGVyTW9kaWZpZXIoInBiIixQdWNrZXJBbmRCbG9hdE1vZGlmaWVyKSxleHRlbmRQcm90b3R5cGUoW1NoYXBlTW9kaWZpZXJdLFJlcGVhdGVyTW9kaWZpZXIpLFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmluaXRNb2RpZmllclByb3BlcnRpZXM9ZnVuY3Rpb24odCxlKXt0aGlzLmdldFZhbHVlPXRoaXMucHJvY2Vzc0tleXMsdGhpcy5jPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5jLDAsbnVsbCx0aGlzKSx0aGlzLm89UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLm8sMCxudWxsLHRoaXMpLHRoaXMudHI9VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHQsZS50cix0aGlzKSx0aGlzLnNvPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS50ci5zbywwLC4wMSx0aGlzKSx0aGlzLmVvPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS50ci5lbywwLC4wMSx0aGlzKSx0aGlzLmRhdGE9ZSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmxlbmd0aHx8dGhpcy5nZXRWYWx1ZSghMCksdGhpcy5faXNBbmltYXRlZD0hIXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoLHRoaXMucE1hdHJpeD1uZXcgTWF0cml4LHRoaXMuck1hdHJpeD1uZXcgTWF0cml4LHRoaXMuc01hdHJpeD1uZXcgTWF0cml4LHRoaXMudE1hdHJpeD1uZXcgTWF0cml4LHRoaXMubWF0cml4PW5ldyBNYXRyaXh9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmFwcGx5VHJhbnNmb3Jtcz1mdW5jdGlvbih0LGUscixpLHMsYSl7dmFyIG49YT8tMToxLG89aS5zLnZbMF0rKDEtaS5zLnZbMF0pKigxLXMpLGg9aS5zLnZbMV0rKDEtaS5zLnZbMV0pKigxLXMpO3QudHJhbnNsYXRlKGkucC52WzBdKm4qcyxpLnAudlsxXSpuKnMsaS5wLnZbMl0pLGUudHJhbnNsYXRlKC1pLmEudlswXSwtaS5hLnZbMV0saS5hLnZbMl0pLGUucm90YXRlKC1pLnIudipuKnMpLGUudHJhbnNsYXRlKGkuYS52WzBdLGkuYS52WzFdLGkuYS52WzJdKSxyLnRyYW5zbGF0ZSgtaS5hLnZbMF0sLWkuYS52WzFdLGkuYS52WzJdKSxyLnNjYWxlKGE/MS9vOm8sYT8xL2g6aCksci50cmFuc2xhdGUoaS5hLnZbMF0saS5hLnZbMV0saS5hLnZbMl0pfSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHQsZSxyLGkpe2Zvcih0aGlzLmVsZW09dCx0aGlzLmFycj1lLHRoaXMucG9zPXIsdGhpcy5lbGVtc0RhdGE9aSx0aGlzLl9jdXJyZW50Q29waWVzPTAsdGhpcy5fZWxlbWVudHM9W10sdGhpcy5fZ3JvdXBzPVtdLHRoaXMuZnJhbWVJZD0tMSx0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIodCksdGhpcy5pbml0TW9kaWZpZXJQcm9wZXJ0aWVzKHQsZVtyXSk7MDxyOylyLT0xLHRoaXMuX2VsZW1lbnRzLnVuc2hpZnQoZVtyXSk7dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGg/dGhpcy5rPSEwOnRoaXMuZ2V0VmFsdWUoITApfSxSZXBlYXRlck1vZGlmaWVyLnByb3RvdHlwZS5yZXNldEVsZW1lbnRzPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSl0W2VdLl9wcm9jZXNzZWQ9ITEsImdyIj09PXRbZV0udHkmJnRoaXMucmVzZXRFbGVtZW50cyh0W2VdLml0KX0sUmVwZWF0ZXJNb2RpZmllci5wcm90b3R5cGUuY2xvbmVFbGVtZW50cz1mdW5jdGlvbih0KXt2YXIgZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHQpKTtyZXR1cm4gdGhpcy5yZXNldEVsZW1lbnRzKGUpLGV9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmNoYW5nZUdyb3VwUmVuZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaT10Lmxlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKXRbcl0uX3JlbmRlcj1lLCJnciI9PT10W3JdLnR5JiZ0aGlzLmNoYW5nZUdyb3VwUmVuZGVyKHRbcl0uaXQsZSl9LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLnByb2Nlc3NTaGFwZXM9ZnVuY3Rpb24odCl7dmFyIGUscixpLHMsYSxuPSExO2lmKHRoaXMuX21kZnx8dCl7dmFyIG8saD1NYXRoLmNlaWwodGhpcy5jLnYpO2lmKHRoaXMuX2dyb3Vwcy5sZW5ndGg8aCl7Zm9yKDt0aGlzLl9ncm91cHMubGVuZ3RoPGg7KXt2YXIgbD17aXQ6dGhpcy5jbG9uZUVsZW1lbnRzKHRoaXMuX2VsZW1lbnRzKSx0eToiZ3IifTtsLml0LnB1c2goe2E6e2E6MCxpeDoxLGs6WzAsMF19LG5tOiJUcmFuc2Zvcm0iLG86e2E6MCxpeDo3LGs6MTAwfSxwOnthOjAsaXg6MixrOlswLDBdfSxyOnthOjEsaXg6NixrOlt7czowLGU6MCx0OjB9LHtzOjAsZTowLHQ6MX1dfSxzOnthOjAsaXg6MyxrOlsxMDAsMTAwXX0sc2E6e2E6MCxpeDo1LGs6MH0sc2s6e2E6MCxpeDo0LGs6MH0sdHk6InRyIn0pLHRoaXMuYXJyLnNwbGljZSgwLDAsbCksdGhpcy5fZ3JvdXBzLnNwbGljZSgwLDAsbCksdGhpcy5fY3VycmVudENvcGllcys9MX10aGlzLmVsZW0ucmVsb2FkU2hhcGVzKCksbj0hMH1mb3IoaT1hPTA7aTw9dGhpcy5fZ3JvdXBzLmxlbmd0aC0xO2krPTEpe2lmKG89YTxoLHRoaXMuX2dyb3Vwc1tpXS5fcmVuZGVyPW8sdGhpcy5jaGFuZ2VHcm91cFJlbmRlcih0aGlzLl9ncm91cHNbaV0uaXQsbyksIW8pe3ZhciBwPXRoaXMuZWxlbXNEYXRhW2ldLml0LG09cFtwLmxlbmd0aC0xXTswIT09bS50cmFuc2Zvcm0ub3Audj8obS50cmFuc2Zvcm0ub3AuX21kZj0hMCxtLnRyYW5zZm9ybS5vcC52PTApOm0udHJhbnNmb3JtLm9wLl9tZGY9ITF9YSs9MX10aGlzLl9jdXJyZW50Q29waWVzPWg7dmFyIGY9dGhpcy5vLnYsYz1mJTEsZD0wPGY/TWF0aC5mbG9vcihmKTpNYXRoLmNlaWwoZiksdT10aGlzLnBNYXRyaXgucHJvcHMseT10aGlzLnJNYXRyaXgucHJvcHMsZz10aGlzLnNNYXRyaXgucHJvcHM7dGhpcy5wTWF0cml4LnJlc2V0KCksdGhpcy5yTWF0cml4LnJlc2V0KCksdGhpcy5zTWF0cml4LnJlc2V0KCksdGhpcy50TWF0cml4LnJlc2V0KCksdGhpcy5tYXRyaXgucmVzZXQoKTt2YXIgdixiLFA9MDtpZigwPGYpe2Zvcig7UDxkOyl0aGlzLmFwcGx5VHJhbnNmb3Jtcyh0aGlzLnBNYXRyaXgsdGhpcy5yTWF0cml4LHRoaXMuc01hdHJpeCx0aGlzLnRyLDEsITEpLFArPTE7YyYmKHRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsYywhMSksUCs9Yyl9ZWxzZSBpZihmPDApe2Zvcig7ZDxQOyl0aGlzLmFwcGx5VHJhbnNmb3Jtcyh0aGlzLnBNYXRyaXgsdGhpcy5yTWF0cml4LHRoaXMuc01hdHJpeCx0aGlzLnRyLDEsITApLFAtPTE7YyYmKHRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsLWMsITApLFAtPWMpfWZvcihpPTE9PT10aGlzLmRhdGEubT8wOnRoaXMuX2N1cnJlbnRDb3BpZXMtMSxzPTE9PT10aGlzLmRhdGEubT8xOi0xLGE9dGhpcy5fY3VycmVudENvcGllczthOyl7aWYoYj0ocj0oZT10aGlzLmVsZW1zRGF0YVtpXS5pdClbZS5sZW5ndGgtMV0udHJhbnNmb3JtLm1Qcm9wcy52LnByb3BzKS5sZW5ndGgsZVtlLmxlbmd0aC0xXS50cmFuc2Zvcm0ubVByb3BzLl9tZGY9ITAsZVtlLmxlbmd0aC0xXS50cmFuc2Zvcm0ub3AuX21kZj0hMCxlW2UubGVuZ3RoLTFdLnRyYW5zZm9ybS5vcC52PTE9PT10aGlzLl9jdXJyZW50Q29waWVzP3RoaXMuc28udjp0aGlzLnNvLnYrKHRoaXMuZW8udi10aGlzLnNvLnYpKihpLyh0aGlzLl9jdXJyZW50Q29waWVzLTEpKSwwIT09UCl7Zm9yKCgwIT09aSYmMT09PXN8fGkhPT10aGlzLl9jdXJyZW50Q29waWVzLTEmJi0xPT09cykmJnRoaXMuYXBwbHlUcmFuc2Zvcm1zKHRoaXMucE1hdHJpeCx0aGlzLnJNYXRyaXgsdGhpcy5zTWF0cml4LHRoaXMudHIsMSwhMSksdGhpcy5tYXRyaXgudHJhbnNmb3JtKHlbMF0seVsxXSx5WzJdLHlbM10seVs0XSx5WzVdLHlbNl0seVs3XSx5WzhdLHlbOV0seVsxMF0seVsxMV0seVsxMl0seVsxM10seVsxNF0seVsxNV0pLHRoaXMubWF0cml4LnRyYW5zZm9ybShnWzBdLGdbMV0sZ1syXSxnWzNdLGdbNF0sZ1s1XSxnWzZdLGdbN10sZ1s4XSxnWzldLGdbMTBdLGdbMTFdLGdbMTJdLGdbMTNdLGdbMTRdLGdbMTVdKSx0aGlzLm1hdHJpeC50cmFuc2Zvcm0odVswXSx1WzFdLHVbMl0sdVszXSx1WzRdLHVbNV0sdVs2XSx1WzddLHVbOF0sdVs5XSx1WzEwXSx1WzExXSx1WzEyXSx1WzEzXSx1WzE0XSx1WzE1XSksdj0wO3Y8Yjt2Kz0xKXJbdl09dGhpcy5tYXRyaXgucHJvcHNbdl07dGhpcy5tYXRyaXgucmVzZXQoKX1lbHNlIGZvcih0aGlzLm1hdHJpeC5yZXNldCgpLHY9MDt2PGI7dis9MSlyW3ZdPXRoaXMubWF0cml4LnByb3BzW3ZdO1ArPTEsYS09MSxpKz1zfX1lbHNlIGZvcihhPXRoaXMuX2N1cnJlbnRDb3BpZXMsaT0wLHM9MTthOylyPShlPXRoaXMuZWxlbXNEYXRhW2ldLml0KVtlLmxlbmd0aC0xXS50cmFuc2Zvcm0ubVByb3BzLnYucHJvcHMsZVtlLmxlbmd0aC0xXS50cmFuc2Zvcm0ubVByb3BzLl9tZGY9ITEsZVtlLmxlbmd0aC0xXS50cmFuc2Zvcm0ub3AuX21kZj0hMSxhLT0xLGkrPXM7cmV0dXJuIG59LFJlcGVhdGVyTW9kaWZpZXIucHJvdG90eXBlLmFkZFNoYXBlPWZ1bmN0aW9uKCl7fSxTaGFwZU1vZGlmaWVycy5yZWdpc3Rlck1vZGlmaWVyKCJycCIsUmVwZWF0ZXJNb2RpZmllciksU2hhcGVDb2xsZWN0aW9uLnByb3RvdHlwZS5hZGRTaGFwZT1mdW5jdGlvbih0KXt0aGlzLl9sZW5ndGg9PT10aGlzLl9tYXhMZW5ndGgmJih0aGlzLnNoYXBlcz10aGlzLnNoYXBlcy5jb25jYXQoY3JlYXRlU2l6ZWRBcnJheSh0aGlzLl9tYXhMZW5ndGgpKSx0aGlzLl9tYXhMZW5ndGgqPTIpLHRoaXMuc2hhcGVzW3RoaXMuX2xlbmd0aF09dCx0aGlzLl9sZW5ndGgrPTF9LFNoYXBlQ29sbGVjdGlvbi5wcm90b3R5cGUucmVsZWFzZVNoYXBlcz1mdW5jdGlvbigpe3ZhciB0O2Zvcih0PTA7dDx0aGlzLl9sZW5ndGg7dCs9MSlzaGFwZVBvb2wucmVsZWFzZSh0aGlzLnNoYXBlc1t0XSk7dGhpcy5fbGVuZ3RoPTB9LERhc2hQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7aWYoKHRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQhPT10aGlzLmZyYW1lSWR8fHQpJiYodGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQsdGhpcy5pdGVyYXRlRHluYW1pY1Byb3BlcnRpZXMoKSx0aGlzLl9tZGY9dGhpcy5fbWRmfHx0LHRoaXMuX21kZikpe3ZhciBlPTAscj10aGlzLmRhdGFQcm9wcy5sZW5ndGg7Zm9yKCJzdmciPT09dGhpcy5yZW5kZXJlciYmKHRoaXMuZGFzaFN0cj0iIiksZT0wO2U8cjtlKz0xKSJvIiE9PXRoaXMuZGF0YVByb3BzW2VdLm4/InN2ZyI9PT10aGlzLnJlbmRlcmVyP3RoaXMuZGFzaFN0cis9IiAiK3RoaXMuZGF0YVByb3BzW2VdLnAudjp0aGlzLmRhc2hBcnJheVtlXT10aGlzLmRhdGFQcm9wc1tlXS5wLnY6dGhpcy5kYXNob2Zmc2V0WzBdPXRoaXMuZGF0YVByb3BzW2VdLnAudn19LGV4dGVuZFByb3RvdHlwZShbRHluYW1pY1Byb3BlcnR5Q29udGFpbmVyXSxEYXNoUHJvcGVydHkpLEdyYWRpZW50UHJvcGVydHkucHJvdG90eXBlLmNvbXBhcmVQb2ludHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxpPXRoaXMuby5sZW5ndGgvMjtyPGk7KXtpZiguMDE8TWF0aC5hYnModFs0KnJdLXRbNCplKzIqcl0pKXJldHVybiExO3IrPTF9cmV0dXJuITB9LEdyYWRpZW50UHJvcGVydHkucHJvdG90eXBlLmNoZWNrQ29sbGFwc2FibGU9ZnVuY3Rpb24oKXtpZih0aGlzLm8ubGVuZ3RoLzIhPXRoaXMuYy5sZW5ndGgvNClyZXR1cm4hMTtpZih0aGlzLmRhdGEuay5rWzBdLnMpZm9yKHZhciB0PTAsZT10aGlzLmRhdGEuay5rLmxlbmd0aDt0PGU7KXtpZighdGhpcy5jb21wYXJlUG9pbnRzKHRoaXMuZGF0YS5rLmtbdF0ucyx0aGlzLmRhdGEucCkpcmV0dXJuITE7dCs9MX1lbHNlIGlmKCF0aGlzLmNvbXBhcmVQb2ludHModGhpcy5kYXRhLmsuayx0aGlzLmRhdGEucCkpcmV0dXJuITE7cmV0dXJuITB9LEdyYWRpZW50UHJvcGVydHkucHJvdG90eXBlLmdldFZhbHVlPWZ1bmN0aW9uKHQpe2lmKHRoaXMucHJvcC5nZXRWYWx1ZSgpLHRoaXMuX21kZj0hMSx0aGlzLl9jbWRmPSExLHRoaXMuX29tZGY9ITEsdGhpcy5wcm9wLl9tZGZ8fHQpe3ZhciBlLHIsaSxzPTQqdGhpcy5kYXRhLnA7Zm9yKGU9MDtlPHM7ZSs9MSlyPWUlND09MD8xMDA6MjU1LGk9TWF0aC5yb3VuZCh0aGlzLnByb3AudltlXSpyKSx0aGlzLmNbZV0hPT1pJiYodGhpcy5jW2VdPWksdGhpcy5fY21kZj0hdCk7aWYodGhpcy5vLmxlbmd0aClmb3Iocz10aGlzLnByb3Audi5sZW5ndGgsZT00KnRoaXMuZGF0YS5wO2U8cztlKz0xKXI9ZSUyPT0wPzEwMDoxLGk9ZSUyPT0wP01hdGgucm91bmQoMTAwKnRoaXMucHJvcC52W2VdKTp0aGlzLnByb3AudltlXSx0aGlzLm9bZS00KnRoaXMuZGF0YS5wXSE9PWkmJih0aGlzLm9bZS00KnRoaXMuZGF0YS5wXT1pLHRoaXMuX29tZGY9IXQpO3RoaXMuX21kZj0hdH19LGV4dGVuZFByb3RvdHlwZShbRHluYW1pY1Byb3BlcnR5Q29udGFpbmVyXSxHcmFkaWVudFByb3BlcnR5KTt2YXIgYnVpbGRTaGFwZVN0cmluZz1mdW5jdGlvbih0LGUscixpKXtpZigwPT09ZSlyZXR1cm4iIjt2YXIgcyxhPXQubyxuPXQuaSxvPXQudixoPSIgTSIraS5hcHBseVRvUG9pbnRTdHJpbmdpZmllZChvWzBdWzBdLG9bMF1bMV0pO2ZvcihzPTE7czxlO3MrPTEpaCs9IiBDIitpLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKGFbcy0xXVswXSxhW3MtMV1bMV0pKyIgIitpLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKG5bc11bMF0sbltzXVsxXSkrIiAiK2kuYXBwbHlUb1BvaW50U3RyaW5naWZpZWQob1tzXVswXSxvW3NdWzFdKTtyZXR1cm4gciYmZSYmKGgrPSIgQyIraS5hcHBseVRvUG9pbnRTdHJpbmdpZmllZChhW3MtMV1bMF0sYVtzLTFdWzFdKSsiICIraS5hcHBseVRvUG9pbnRTdHJpbmdpZmllZChuWzBdWzBdLG5bMF1bMV0pKyIgIitpLmFwcGx5VG9Qb2ludFN0cmluZ2lmaWVkKG9bMF1bMF0sb1swXVsxXSksaCs9InoiKSxofSxhdWRpb0NvbnRyb2xsZXJGYWN0b3J5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLmF1ZGlvcz1bXSx0aGlzLmF1ZGlvRmFjdG9yeT10LHRoaXMuX3ZvbHVtZT0xLHRoaXMuX2lzTXV0ZWQ9ITF9cmV0dXJuIHQucHJvdG90eXBlPXthZGRBdWRpbzpmdW5jdGlvbih0KXt0aGlzLmF1ZGlvcy5wdXNoKHQpfSxwYXVzZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5hdWRpb3MubGVuZ3RoO2Zvcih0PTA7dDxlO3QrPTEpdGhpcy5hdWRpb3NbdF0ucGF1c2UoKX0scmVzdW1lOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmF1ZGlvcy5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSl0aGlzLmF1ZGlvc1t0XS5yZXN1bWUoKX0sc2V0UmF0ZTpmdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMuYXVkaW9zLmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXRoaXMuYXVkaW9zW2VdLnNldFJhdGUodCl9LGNyZWF0ZUF1ZGlvOmZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmF1ZGlvRmFjdG9yeT90aGlzLmF1ZGlvRmFjdG9yeSh0KTpIb3dsP25ldyBIb3dsKHtzcmM6W3RdfSk6e2lzUGxheWluZzohMSxwbGF5OmZ1bmN0aW9uKCl7dGhpcy5pc1BsYXlpbmc9ITB9LHNlZWs6ZnVuY3Rpb24oKXt0aGlzLmlzUGxheWluZz0hMX0scGxheWluZzpmdW5jdGlvbigpe30scmF0ZTpmdW5jdGlvbigpe30sc2V0Vm9sdW1lOmZ1bmN0aW9uKCl7fX19LHNldEF1ZGlvRmFjdG9yeTpmdW5jdGlvbih0KXt0aGlzLmF1ZGlvRmFjdG9yeT10fSxzZXRWb2x1bWU6ZnVuY3Rpb24odCl7dGhpcy5fdm9sdW1lPXQsdGhpcy5fdXBkYXRlVm9sdW1lKCl9LG11dGU6ZnVuY3Rpb24oKXt0aGlzLl9pc011dGVkPSEwLHRoaXMuX3VwZGF0ZVZvbHVtZSgpfSx1bm11dGU6ZnVuY3Rpb24oKXt0aGlzLl9pc011dGVkPSExLHRoaXMuX3VwZGF0ZVZvbHVtZSgpfSxnZXRWb2x1bWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdm9sdW1lfSxfdXBkYXRlVm9sdW1lOmZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmF1ZGlvcy5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSl0aGlzLmF1ZGlvc1t0XS52b2x1bWUodGhpcy5fdm9sdW1lKih0aGlzLl9pc011dGVkPzA6MSkpfX0sZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHR9fSgpLEltYWdlUHJlbG9hZGVyPWZ1bmN0aW9uKCl7dmFyIHM9ZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVUYWcoImNhbnZhcyIpO3Qud2lkdGg9MSx0LmhlaWdodD0xO3ZhciBlPXQuZ2V0Q29udGV4dCgiMmQiKTtyZXR1cm4gZS5maWxsU3R5bGU9InJnYmEoMCwwLDAsMCkiLGUuZmlsbFJlY3QoMCwwLDEsMSksdH0oKTtmdW5jdGlvbiB0KCl7dGhpcy5sb2FkZWRBc3NldHMrPTEsdGhpcy5sb2FkZWRBc3NldHM9PT10aGlzLnRvdGFsSW1hZ2VzJiZ0aGlzLmxvYWRlZEZvb3RhZ2VzQ291bnQ9PT10aGlzLnRvdGFsRm9vdGFnZXMmJnRoaXMuaW1hZ2VzTG9hZGVkQ2ImJnRoaXMuaW1hZ2VzTG9hZGVkQ2IobnVsbCl9ZnVuY3Rpb24gZSgpe3RoaXMubG9hZGVkRm9vdGFnZXNDb3VudCs9MSx0aGlzLmxvYWRlZEFzc2V0cz09PXRoaXMudG90YWxJbWFnZXMmJnRoaXMubG9hZGVkRm9vdGFnZXNDb3VudD09PXRoaXMudG90YWxGb290YWdlcyYmdGhpcy5pbWFnZXNMb2FkZWRDYiYmdGhpcy5pbWFnZXNMb2FkZWRDYihudWxsKX1mdW5jdGlvbiBhKHQsZSxyKXt2YXIgaT0iIjtpZih0LmUpaT10LnA7ZWxzZSBpZihlKXt2YXIgcz10LnA7LTEhPT1zLmluZGV4T2YoImltYWdlcy8iKSYmKHM9cy5zcGxpdCgiLyIpWzFdKSxpPWUrc31lbHNlIGk9cixpKz10LnU/dC51OiIiLGkrPXQucDtyZXR1cm4gaX1mdW5jdGlvbiByKCl7dGhpcy5faW1hZ2VMb2FkZWQ9dC5iaW5kKHRoaXMpLHRoaXMuX2Zvb3RhZ2VMb2FkZWQ9ZS5iaW5kKHRoaXMpLHRoaXMudGVzdEltYWdlTG9hZGVkPWZ1bmN0aW9uKHQpe3ZhciBlPTAscj1zZXRJbnRlcnZhbChmdW5jdGlvbigpeyh0LmdldEJCb3goKS53aWR0aHx8NTAwPGUpJiYodGhpcy5faW1hZ2VMb2FkZWQoKSxjbGVhckludGVydmFsKHIpKSxlKz0xfS5iaW5kKHRoaXMpLDUwKX0uYmluZCh0aGlzKSx0aGlzLmNyZWF0ZUZvb3RhZ2VEYXRhPWZ1bmN0aW9uKHQpe3ZhciBlPXthc3NldERhdGE6dH0scj1hKHQsdGhpcy5hc3NldHNQYXRoLHRoaXMucGF0aCk7cmV0dXJuIGRhdGFNYW5hZ2VyLmxvYWREYXRhKHIsZnVuY3Rpb24odCl7ZS5pbWc9dCx0aGlzLl9mb290YWdlTG9hZGVkKCl9LmJpbmQodGhpcyksZnVuY3Rpb24oKXtlLmltZz17fSx0aGlzLl9mb290YWdlTG9hZGVkKCl9LmJpbmQodGhpcykpLGV9LmJpbmQodGhpcyksdGhpcy5hc3NldHNQYXRoPSIiLHRoaXMucGF0aD0iIix0aGlzLnRvdGFsSW1hZ2VzPTAsdGhpcy50b3RhbEZvb3RhZ2VzPTAsdGhpcy5sb2FkZWRBc3NldHM9MCx0aGlzLmxvYWRlZEZvb3RhZ2VzQ291bnQ9MCx0aGlzLmltYWdlc0xvYWRlZENiPW51bGwsdGhpcy5pbWFnZXM9W119cmV0dXJuIHIucHJvdG90eXBlPXtsb2FkQXNzZXRzOmZ1bmN0aW9uKHQsZSl7dmFyIHI7dGhpcy5pbWFnZXNMb2FkZWRDYj1lO3ZhciBpPXQubGVuZ3RoO2ZvcihyPTA7cjxpO3IrPTEpdFtyXS5sYXllcnN8fCh0W3JdLnQmJiJzZXEiIT09dFtyXS50PzM9PT10W3JdLnQmJih0aGlzLnRvdGFsRm9vdGFnZXMrPTEsdGhpcy5pbWFnZXMucHVzaCh0aGlzLmNyZWF0ZUZvb3RhZ2VEYXRhKHRbcl0pKSk6KHRoaXMudG90YWxJbWFnZXMrPTEsdGhpcy5pbWFnZXMucHVzaCh0aGlzLl9jcmVhdGVJbWFnZURhdGEodFtyXSkpKSl9LHNldEFzc2V0c1BhdGg6ZnVuY3Rpb24odCl7dGhpcy5hc3NldHNQYXRoPXR8fCIifSxzZXRQYXRoOmZ1bmN0aW9uKHQpe3RoaXMucGF0aD10fHwiIn0sbG9hZGVkSW1hZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG90YWxJbWFnZXM9PT10aGlzLmxvYWRlZEFzc2V0c30sbG9hZGVkRm9vdGFnZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3RhbEZvb3RhZ2VzPT09dGhpcy5sb2FkZWRGb290YWdlc0NvdW50fSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5pbWFnZXNMb2FkZWRDYj1udWxsLHRoaXMuaW1hZ2VzLmxlbmd0aD0wfSxnZXRBc3NldDpmdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuaW1hZ2VzLmxlbmd0aDtlPHI7KXtpZih0aGlzLmltYWdlc1tlXS5hc3NldERhdGE9PT10KXJldHVybiB0aGlzLmltYWdlc1tlXS5pbWc7ZSs9MX1yZXR1cm4gbnVsbH0sY3JlYXRlSW1nRGF0YTpmdW5jdGlvbih0KXt2YXIgZT1hKHQsdGhpcy5hc3NldHNQYXRoLHRoaXMucGF0aCkscj1jcmVhdGVUYWcoImltZyIpO3IuY3Jvc3NPcmlnaW49ImFub255bW91cyIsci5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0aGlzLl9pbWFnZUxvYWRlZCwhMSksci5hZGRFdmVudExpc3RlbmVyKCJlcnJvciIsZnVuY3Rpb24oKXtpLmltZz1zLHRoaXMuX2ltYWdlTG9hZGVkKCl9LmJpbmQodGhpcyksITEpLHIuc3JjPWU7dmFyIGk9e2ltZzpyLGFzc2V0RGF0YTp0fTtyZXR1cm4gaX0sY3JlYXRlSW1hZ2VEYXRhOmZ1bmN0aW9uKHQpe3ZhciBlPWEodCx0aGlzLmFzc2V0c1BhdGgsdGhpcy5wYXRoKSxyPWNyZWF0ZU5TKCJpbWFnZSIpO2lzU2FmYXJpP3RoaXMudGVzdEltYWdlTG9hZGVkKHIpOnIuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsdGhpcy5faW1hZ2VMb2FkZWQsITEpLHIuYWRkRXZlbnRMaXN0ZW5lcigiZXJyb3IiLGZ1bmN0aW9uKCl7aS5pbWc9cyx0aGlzLl9pbWFnZUxvYWRlZCgpfS5iaW5kKHRoaXMpLCExKSxyLnNldEF0dHJpYnV0ZU5TKCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiwiaHJlZiIsZSksdGhpcy5fZWxlbWVudEhlbHBlci5hcHBlbmQ/dGhpcy5fZWxlbWVudEhlbHBlci5hcHBlbmQocik6dGhpcy5fZWxlbWVudEhlbHBlci5hcHBlbmRDaGlsZChyKTt2YXIgaT17aW1nOnIsYXNzZXREYXRhOnR9O3JldHVybiBpfSxpbWFnZUxvYWRlZDp0LGZvb3RhZ2VMb2FkZWQ6ZSxzZXRDYWNoZVR5cGU6ZnVuY3Rpb24odCxlKXt0aGlzLl9jcmVhdGVJbWFnZURhdGE9InN2ZyI9PT10Pyh0aGlzLl9lbGVtZW50SGVscGVyPWUsdGhpcy5jcmVhdGVJbWFnZURhdGEuYmluZCh0aGlzKSk6dGhpcy5jcmVhdGVJbWdEYXRhLmJpbmQodGhpcyl9fSxyfSgpLGZlYXR1cmVTdXBwb3J0PShNeT17bWFza1R5cGU6ITB9LCgvTVNJRSAxMC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9NU0lFIDkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvcnY6MTEuMC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl8fC9FZGdlXC9cZC4vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSYmKE15Lm1hc2tUeXBlPSExKSxNeSksTXksZmlsdGVyc0ZhY3Rvcnk9KE55PXt9LE55LmNyZWF0ZUZpbHRlcj1mdW5jdGlvbih0LGUpe3ZhciByPWNyZWF0ZU5TKCJmaWx0ZXIiKTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoImlkIix0KSwhMCE9PWUmJihyLnNldEF0dHJpYnV0ZSgiZmlsdGVyVW5pdHMiLCJvYmplY3RCb3VuZGluZ0JveCIpLHIuc2V0QXR0cmlidXRlKCJ4IiwiMCUiKSxyLnNldEF0dHJpYnV0ZSgieSIsIjAlIiksci5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMTAwJSIpLHIuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMDAlIikpLHJ9LE55LmNyZWF0ZUFscGhhVG9MdW1pbmFuY2VGaWx0ZXI9ZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVOUygiZmVDb2xvck1hdHJpeCIpO3JldHVybiB0LnNldEF0dHJpYnV0ZSgidHlwZSIsIm1hdHJpeCIpLHQuc2V0QXR0cmlidXRlKCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMiLCJzUkdCIiksdC5zZXRBdHRyaWJ1dGUoInZhbHVlcyIsIjAgMCAwIDEgMCAgMCAwIDAgMSAwICAwIDAgMCAxIDAgIDAgMCAwIDEgMSIpLHR9LE55KSxOeTtmdW5jdGlvbiBUZXh0QW5pbWF0b3JQcm9wZXJ0eSh0LGUscil7dGhpcy5faXNGaXJzdEZyYW1lPSEwLHRoaXMuX2hhc01hc2tlZFBhdGg9ITEsdGhpcy5fZnJhbWVJZD0tMSx0aGlzLl90ZXh0RGF0YT10LHRoaXMuX3JlbmRlclR5cGU9ZSx0aGlzLl9lbGVtPXIsdGhpcy5fYW5pbWF0b3JzRGF0YT1jcmVhdGVTaXplZEFycmF5KHRoaXMuX3RleHREYXRhLmEubGVuZ3RoKSx0aGlzLl9wYXRoRGF0YT17fSx0aGlzLl9tb3JlT3B0aW9ucz17YWxpZ25tZW50Ont9fSx0aGlzLnJlbmRlcmVkTGV0dGVycz1bXSx0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZz0hMSx0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIocil9ZnVuY3Rpb24gVGV4dEFuaW1hdG9yRGF0YVByb3BlcnR5KHQsZSxyKXt2YXIgaT17cHJvcFR5cGU6ITF9LHM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AsYT1lLmE7dGhpcy5hPXtyOmEucj9zKHQsYS5yLDAsZGVnVG9SYWRzLHIpOmkscng6YS5yeD9zKHQsYS5yeCwwLGRlZ1RvUmFkcyxyKTppLHJ5OmEucnk/cyh0LGEucnksMCxkZWdUb1JhZHMscik6aSxzazphLnNrP3ModCxhLnNrLDAsZGVnVG9SYWRzLHIpOmksc2E6YS5zYT9zKHQsYS5zYSwwLGRlZ1RvUmFkcyxyKTppLHM6YS5zP3ModCxhLnMsMSwuMDEscik6aSxhOmEuYT9zKHQsYS5hLDEsMCxyKTppLG86YS5vP3ModCxhLm8sMCwuMDEscik6aSxwOmEucD9zKHQsYS5wLDEsMCxyKTppLHN3OmEuc3c/cyh0LGEuc3csMCwwLHIpOmksc2M6YS5zYz9zKHQsYS5zYywxLDAscik6aSxmYzphLmZjP3ModCxhLmZjLDEsMCxyKTppLGZoOmEuZmg/cyh0LGEuZmgsMCwwLHIpOmksZnM6YS5mcz9zKHQsYS5mcywwLC4wMSxyKTppLGZiOmEuZmI/cyh0LGEuZmIsMCwuMDEscik6aSx0OmEudD9zKHQsYS50LDAsMCxyKTppfSx0aGlzLnM9VGV4dFNlbGVjdG9yUHJvcC5nZXRUZXh0U2VsZWN0b3JQcm9wKHQsZS5zLHIpLHRoaXMucy50PWUucy50fWZ1bmN0aW9uIExldHRlclByb3BzKHQsZSxyLGkscyxhKXt0aGlzLm89dCx0aGlzLnN3PWUsdGhpcy5zYz1yLHRoaXMuZmM9aSx0aGlzLm09cyx0aGlzLnA9YSx0aGlzLl9tZGY9e286ITAsc3c6ISFlLHNjOiEhcixmYzohIWksbTohMCxwOiEwfX1mdW5jdGlvbiBUZXh0UHJvcGVydHkodCxlKXt0aGlzLl9mcmFtZUlkPWluaXRpYWxEZWZhdWx0RnJhbWUsdGhpcy5wdj0iIix0aGlzLnY9IiIsdGhpcy5rZj0hMSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5fbWRmPSExLHRoaXMuZGF0YT1lLHRoaXMuZWxlbT10LHRoaXMuY29tcD10aGlzLmVsZW0uY29tcCx0aGlzLmtleXNJbmRleD0wLHRoaXMuY2FuUmVzaXplPSExLHRoaXMubWluaW11bUZvbnRTaXplPTEsdGhpcy5lZmZlY3RzU2VxdWVuY2U9W10sdGhpcy5jdXJyZW50RGF0YT17YXNjZW50OjAsYm94V2lkdGg6dGhpcy5kZWZhdWx0Qm94V2lkdGgsZjoiIixmU3R5bGU6IiIsZldlaWdodDoiIixmYzoiIixqOiIiLGp1c3RpZnlPZmZzZXQ6IiIsbDpbXSxsaDowLGxpbmVXaWR0aHM6W10sbHM6IiIsb2Y6IiIsczoiIixzYzoiIixzdzowLHQ6MCx0cjowLHN6OjAscHM6bnVsbCxmaWxsQ29sb3JBbmltOiExLHN0cm9rZUNvbG9yQW5pbTohMSxzdHJva2VXaWR0aEFuaW06ITEseU9mZnNldDowLGZpbmFsU2l6ZTowLGZpbmFsVGV4dDpbXSxmaW5hbExpbmVIZWlnaHQ6MCxfX2NvbXBsZXRlOiExfSx0aGlzLmNvcHlEYXRhKHRoaXMuY3VycmVudERhdGEsdGhpcy5kYXRhLmQua1swXS5zKSx0aGlzLnNlYXJjaFByb3BlcnR5KCl8fHRoaXMuY29tcGxldGVUZXh0RGF0YSh0aGlzLmN1cnJlbnREYXRhKX1UZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUuc2VhcmNoUHJvcGVydGllcz1mdW5jdGlvbigpe3ZhciB0LGUscj10aGlzLl90ZXh0RGF0YS5hLmxlbmd0aCxpPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wO2Zvcih0PTA7dDxyO3QrPTEpZT10aGlzLl90ZXh0RGF0YS5hW3RdLHRoaXMuX2FuaW1hdG9yc0RhdGFbdF09bmV3IFRleHRBbmltYXRvckRhdGFQcm9wZXJ0eSh0aGlzLl9lbGVtLGUsdGhpcyk7dGhpcy5fdGV4dERhdGEucCYmIm0iaW4gdGhpcy5fdGV4dERhdGEucD8odGhpcy5fcGF0aERhdGE9e2E6aSh0aGlzLl9lbGVtLHRoaXMuX3RleHREYXRhLnAuYSwwLDAsdGhpcyksZjppKHRoaXMuX2VsZW0sdGhpcy5fdGV4dERhdGEucC5mLDAsMCx0aGlzKSxsOmkodGhpcy5fZWxlbSx0aGlzLl90ZXh0RGF0YS5wLmwsMCwwLHRoaXMpLHI6aSh0aGlzLl9lbGVtLHRoaXMuX3RleHREYXRhLnAuciwwLDAsdGhpcykscDppKHRoaXMuX2VsZW0sdGhpcy5fdGV4dERhdGEucC5wLDAsMCx0aGlzKSxtOnRoaXMuX2VsZW0ubWFza01hbmFnZXIuZ2V0TWFza1Byb3BlcnR5KHRoaXMuX3RleHREYXRhLnAubSl9LHRoaXMuX2hhc01hc2tlZFBhdGg9ITApOnRoaXMuX2hhc01hc2tlZFBhdGg9ITEsdGhpcy5fbW9yZU9wdGlvbnMuYWxpZ25tZW50PWkodGhpcy5fZWxlbSx0aGlzLl90ZXh0RGF0YS5tLmEsMSwwLHRoaXMpfSxUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0TWVhc3VyZXM9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZz1lLHRoaXMuX21kZnx8dGhpcy5faXNGaXJzdEZyYW1lfHxlfHx0aGlzLl9oYXNNYXNrZWRQYXRoJiZ0aGlzLl9wYXRoRGF0YS5tLl9tZGYpe3RoaXMuX2lzRmlyc3RGcmFtZT0hMTt2YXIgcixpLHMsYSxuLG8saCxsLHAsbSxmLGMsZCx1LHksZyx2LGIsUCxFPXRoaXMuX21vcmVPcHRpb25zLmFsaWdubWVudC52LHg9dGhpcy5fYW5pbWF0b3JzRGF0YSxTPXRoaXMuX3RleHREYXRhLEM9dGhpcy5tSGVscGVyLEE9dGhpcy5fcmVuZGVyVHlwZSxfPXRoaXMucmVuZGVyZWRMZXR0ZXJzLmxlbmd0aCxUPXQubDtpZih0aGlzLl9oYXNNYXNrZWRQYXRoKXtpZihQPXRoaXMuX3BhdGhEYXRhLm0sIXRoaXMuX3BhdGhEYXRhLm58fHRoaXMuX3BhdGhEYXRhLl9tZGYpe3ZhciBrLEQ9UC52O2Zvcih0aGlzLl9wYXRoRGF0YS5yLnYmJihEPUQucmV2ZXJzZSgpKSxuPXt0TGVuZ3RoOjAsc2VnbWVudHM6W119LGE9RC5fbGVuZ3RoLTEscz1nPTA7czxhO3MrPTEpaz1iZXouYnVpbGRCZXppZXJEYXRhKEQudltzXSxELnZbcysxXSxbRC5vW3NdWzBdLUQudltzXVswXSxELm9bc11bMV0tRC52W3NdWzFdXSxbRC5pW3MrMV1bMF0tRC52W3MrMV1bMF0sRC5pW3MrMV1bMV0tRC52W3MrMV1bMV1dKSxuLnRMZW5ndGgrPWsuc2VnbWVudExlbmd0aCxuLnNlZ21lbnRzLnB1c2goayksZys9ay5zZWdtZW50TGVuZ3RoO3M9YSxQLnYuYyYmKGs9YmV6LmJ1aWxkQmV6aWVyRGF0YShELnZbc10sRC52WzBdLFtELm9bc11bMF0tRC52W3NdWzBdLEQub1tzXVsxXS1ELnZbc11bMV1dLFtELmlbMF1bMF0tRC52WzBdWzBdLEQuaVswXVsxXS1ELnZbMF1bMV1dKSxuLnRMZW5ndGgrPWsuc2VnbWVudExlbmd0aCxuLnNlZ21lbnRzLnB1c2goayksZys9ay5zZWdtZW50TGVuZ3RoKSx0aGlzLl9wYXRoRGF0YS5waT1ufWlmKG49dGhpcy5fcGF0aERhdGEucGksbz10aGlzLl9wYXRoRGF0YS5mLnYsbT0xLHA9IShsPWY9MCksdT1uLnNlZ21lbnRzLG88MCYmUC52LmMpZm9yKG4udExlbmd0aDxNYXRoLmFicyhvKSYmKG89LU1hdGguYWJzKG8pJW4udExlbmd0aCksbT0oZD11W2Y9dS5sZW5ndGgtMV0ucG9pbnRzKS5sZW5ndGgtMTtvPDA7KW8rPWRbbV0ucGFydGlhbExlbmd0aCwobS09MSk8MCYmKG09KGQ9dVtmLT0xXS5wb2ludHMpLmxlbmd0aC0xKTtjPShkPXVbZl0ucG9pbnRzKVttLTFdLHk9KGg9ZFttXSkucGFydGlhbExlbmd0aH1hPVQubGVuZ3RoLGk9cj0wO3ZhciBNLEYsdyxJLFYsUj0xLjIqdC5maW5hbFNpemUqLjcxNCxCPSEwO3c9eC5sZW5ndGg7dmFyIEwsRyx6LE4sTyxILGoscSxXLFksWCxKLEs9LTEsWj1vLCQ9ZixVPW0sUT0tMSx0dD0iIixldD10aGlzLmRlZmF1bHRQcm9wc0FycmF5O2lmKDI9PT10Lmp8fDE9PT10Lmope3ZhciBydD0wLGl0PTAsc3Q9Mj09PXQuaj8tLjU6LTEsYXQ9MCxudD0hMDtmb3Iocz0wO3M8YTtzKz0xKWlmKFRbc10ubil7Zm9yKHJ0JiYocnQrPWl0KTthdDxzOylUW2F0XS5hbmltYXRvckp1c3RpZnlPZmZzZXQ9cnQsYXQrPTE7bnQ9IShydD0wKX1lbHNle2ZvcihGPTA7Rjx3O0YrPTEpKE09eFtGXS5hKS50LnByb3BUeXBlJiYobnQmJjI9PT10LmomJihpdCs9TS50LnYqc3QpLChWPXhbRl0ucy5nZXRNdWx0KFRbc10uYW5JbmRleGVzW0ZdLFMuYVtGXS5zLnRvdGFsQ2hhcnMpKS5sZW5ndGg/cnQrPU0udC52KlZbMF0qc3Q6cnQrPU0udC52KlYqc3QpO250PSExfWZvcihydCYmKHJ0Kz1pdCk7YXQ8czspVFthdF0uYW5pbWF0b3JKdXN0aWZ5T2Zmc2V0PXJ0LGF0Kz0xfWZvcihzPTA7czxhO3MrPTEpe2lmKEMucmVzZXQoKSxOPTEsVFtzXS5uKXI9MCxpKz10LnlPZmZzZXQsaSs9Qj8xOjAsbz1aLEI9ITEsdGhpcy5faGFzTWFza2VkUGF0aCYmKG09VSxjPShkPXVbZj0kXS5wb2ludHMpW20tMV0seT0oaD1kW21dKS5wYXJ0aWFsTGVuZ3RoLGw9MCksSj1XPVg9dHQ9IiIsZXQ9dGhpcy5kZWZhdWx0UHJvcHNBcnJheTtlbHNle2lmKHRoaXMuX2hhc01hc2tlZFBhdGgpe2lmKFEhPT1UW3NdLmxpbmUpe3N3aXRjaCh0Lmope2Nhc2UgMTpvKz1nLXQubGluZVdpZHRoc1tUW3NdLmxpbmVdO2JyZWFrO2Nhc2UgMjpvKz0oZy10LmxpbmVXaWR0aHNbVFtzXS5saW5lXSkvMn1RPVRbc10ubGluZX1LIT09VFtzXS5pbmQmJihUW0tdJiYobys9VFtLXS5leHRyYSksbys9VFtzXS5hbi8yLEs9VFtzXS5pbmQpLG8rPUVbMF0qVFtzXS5hbiouMDA1O3ZhciBvdD0wO2ZvcihGPTA7Rjx3O0YrPTEpKE09eFtGXS5hKS5wLnByb3BUeXBlJiYoKFY9eFtGXS5zLmdldE11bHQoVFtzXS5hbkluZGV4ZXNbRl0sUy5hW0ZdLnMudG90YWxDaGFycykpLmxlbmd0aD9vdCs9TS5wLnZbMF0qVlswXTpvdCs9TS5wLnZbMF0qViksTS5hLnByb3BUeXBlJiYoKFY9eFtGXS5zLmdldE11bHQoVFtzXS5hbkluZGV4ZXNbRl0sUy5hW0ZdLnMudG90YWxDaGFycykpLmxlbmd0aD9vdCs9TS5hLnZbMF0qVlswXTpvdCs9TS5hLnZbMF0qVik7Zm9yKHA9ITAsdGhpcy5fcGF0aERhdGEuYS52JiYobz0uNSpUWzBdLmFuKyhnLXRoaXMuX3BhdGhEYXRhLmYudi0uNSpUWzBdLmFuLS41KlRbVC5sZW5ndGgtMV0uYW4pKksvKGEtMSksbys9dGhpcy5fcGF0aERhdGEuZi52KTtwOylvK290PD1sK3l8fCFkPyh2PShvK290LWwpL2gucGFydGlhbExlbmd0aCxHPWMucG9pbnRbMF0rKGgucG9pbnRbMF0tYy5wb2ludFswXSkqdix6PWMucG9pbnRbMV0rKGgucG9pbnRbMV0tYy5wb2ludFsxXSkqdixDLnRyYW5zbGF0ZSgtRVswXSpUW3NdLmFuKi4wMDUsLUVbMV0qUiouMDEpLHA9ITEpOmQmJihsKz1oLnBhcnRpYWxMZW5ndGgsKG0rPTEpPj1kLmxlbmd0aCYmKG09MCxkPXVbZis9MV0/dVtmXS5wb2ludHM6UC52LmM/dVtmPW09MF0ucG9pbnRzOihsLT1oLnBhcnRpYWxMZW5ndGgsbnVsbCkpLGQmJihjPWgseT0oaD1kW21dKS5wYXJ0aWFsTGVuZ3RoKSk7TD1UW3NdLmFuLzItVFtzXS5hZGQsQy50cmFuc2xhdGUoLUwsMCwwKX1lbHNlIEw9VFtzXS5hbi8yLVRbc10uYWRkLEMudHJhbnNsYXRlKC1MLDAsMCksQy50cmFuc2xhdGUoLUVbMF0qVFtzXS5hbiouMDA1LC1FWzFdKlIqLjAxLDApO2ZvcihGPTA7Rjx3O0YrPTEpKE09eFtGXS5hKS50LnByb3BUeXBlJiYoVj14W0ZdLnMuZ2V0TXVsdChUW3NdLmFuSW5kZXhlc1tGXSxTLmFbRl0ucy50b3RhbENoYXJzKSwwPT09ciYmMD09PXQuanx8KHRoaXMuX2hhc01hc2tlZFBhdGg/Vi5sZW5ndGg/bys9TS50LnYqVlswXTpvKz1NLnQudipWOlYubGVuZ3RoP3IrPU0udC52KlZbMF06cis9TS50LnYqVikpO2Zvcih0LnN0cm9rZVdpZHRoQW5pbSYmKEg9dC5zd3x8MCksdC5zdHJva2VDb2xvckFuaW0mJihPPXQuc2M/W3Quc2NbMF0sdC5zY1sxXSx0LnNjWzJdXTpbMCwwLDBdKSx0LmZpbGxDb2xvckFuaW0mJnQuZmMmJihqPVt0LmZjWzBdLHQuZmNbMV0sdC5mY1syXV0pLEY9MDtGPHc7Ris9MSkoTT14W0ZdLmEpLmEucHJvcFR5cGUmJigoVj14W0ZdLnMuZ2V0TXVsdChUW3NdLmFuSW5kZXhlc1tGXSxTLmFbRl0ucy50b3RhbENoYXJzKSkubGVuZ3RoP0MudHJhbnNsYXRlKC1NLmEudlswXSpWWzBdLC1NLmEudlsxXSpWWzFdLE0uYS52WzJdKlZbMl0pOkMudHJhbnNsYXRlKC1NLmEudlswXSpWLC1NLmEudlsxXSpWLE0uYS52WzJdKlYpKTtmb3IoRj0wO0Y8dztGKz0xKShNPXhbRl0uYSkucy5wcm9wVHlwZSYmKChWPXhbRl0ucy5nZXRNdWx0KFRbc10uYW5JbmRleGVzW0ZdLFMuYVtGXS5zLnRvdGFsQ2hhcnMpKS5sZW5ndGg/Qy5zY2FsZSgxKyhNLnMudlswXS0xKSpWWzBdLDErKE0ucy52WzFdLTEpKlZbMV0sMSk6Qy5zY2FsZSgxKyhNLnMudlswXS0xKSpWLDErKE0ucy52WzFdLTEpKlYsMSkpO2ZvcihGPTA7Rjx3O0YrPTEpe2lmKE09eFtGXS5hLFY9eFtGXS5zLmdldE11bHQoVFtzXS5hbkluZGV4ZXNbRl0sUy5hW0ZdLnMudG90YWxDaGFycyksTS5zay5wcm9wVHlwZSYmKFYubGVuZ3RoP0Muc2tld0Zyb21BeGlzKC1NLnNrLnYqVlswXSxNLnNhLnYqVlsxXSk6Qy5za2V3RnJvbUF4aXMoLU0uc2sudipWLE0uc2EudipWKSksTS5yLnByb3BUeXBlJiYoVi5sZW5ndGg/Qy5yb3RhdGVaKC1NLnIudipWWzJdKTpDLnJvdGF0ZVooLU0uci52KlYpKSxNLnJ5LnByb3BUeXBlJiYoVi5sZW5ndGg/Qy5yb3RhdGVZKE0ucnkudipWWzFdKTpDLnJvdGF0ZVkoTS5yeS52KlYpKSxNLnJ4LnByb3BUeXBlJiYoVi5sZW5ndGg/Qy5yb3RhdGVYKE0ucngudipWWzBdKTpDLnJvdGF0ZVgoTS5yeC52KlYpKSxNLm8ucHJvcFR5cGUmJihWLmxlbmd0aD9OKz0oTS5vLnYqVlswXS1OKSpWWzBdOk4rPShNLm8udipWLU4pKlYpLHQuc3Ryb2tlV2lkdGhBbmltJiZNLnN3LnByb3BUeXBlJiYoVi5sZW5ndGg/SCs9TS5zdy52KlZbMF06SCs9TS5zdy52KlYpLHQuc3Ryb2tlQ29sb3JBbmltJiZNLnNjLnByb3BUeXBlKWZvcihxPTA7cTwzO3ErPTEpVi5sZW5ndGg/T1txXSs9KE0uc2MudltxXS1PW3FdKSpWWzBdOk9bcV0rPShNLnNjLnZbcV0tT1txXSkqVjtpZih0LmZpbGxDb2xvckFuaW0mJnQuZmMpe2lmKE0uZmMucHJvcFR5cGUpZm9yKHE9MDtxPDM7cSs9MSlWLmxlbmd0aD9qW3FdKz0oTS5mYy52W3FdLWpbcV0pKlZbMF06altxXSs9KE0uZmMudltxXS1qW3FdKSpWO00uZmgucHJvcFR5cGUmJihqPVYubGVuZ3RoP2FkZEh1ZVRvUkdCKGosTS5maC52KlZbMF0pOmFkZEh1ZVRvUkdCKGosTS5maC52KlYpKSxNLmZzLnByb3BUeXBlJiYoaj1WLmxlbmd0aD9hZGRTYXR1cmF0aW9uVG9SR0IoaixNLmZzLnYqVlswXSk6YWRkU2F0dXJhdGlvblRvUkdCKGosTS5mcy52KlYpKSxNLmZiLnByb3BUeXBlJiYoaj1WLmxlbmd0aD9hZGRCcmlnaHRuZXNzVG9SR0IoaixNLmZiLnYqVlswXSk6YWRkQnJpZ2h0bmVzc1RvUkdCKGosTS5mYi52KlYpKX19Zm9yKEY9MDtGPHc7Ris9MSkoTT14W0ZdLmEpLnAucHJvcFR5cGUmJihWPXhbRl0ucy5nZXRNdWx0KFRbc10uYW5JbmRleGVzW0ZdLFMuYVtGXS5zLnRvdGFsQ2hhcnMpLHRoaXMuX2hhc01hc2tlZFBhdGg/Vi5sZW5ndGg/Qy50cmFuc2xhdGUoMCxNLnAudlsxXSpWWzBdLC1NLnAudlsyXSpWWzFdKTpDLnRyYW5zbGF0ZSgwLE0ucC52WzFdKlYsLU0ucC52WzJdKlYpOlYubGVuZ3RoP0MudHJhbnNsYXRlKE0ucC52WzBdKlZbMF0sTS5wLnZbMV0qVlsxXSwtTS5wLnZbMl0qVlsyXSk6Qy50cmFuc2xhdGUoTS5wLnZbMF0qVixNLnAudlsxXSpWLC1NLnAudlsyXSpWKSk7aWYodC5zdHJva2VXaWR0aEFuaW0mJihXPUg8MD8wOkgpLHQuc3Ryb2tlQ29sb3JBbmltJiYoWT0icmdiKCIrTWF0aC5yb3VuZCgyNTUqT1swXSkrIiwiK01hdGgucm91bmQoMjU1Kk9bMV0pKyIsIitNYXRoLnJvdW5kKDI1NSpPWzJdKSsiKSIpLHQuZmlsbENvbG9yQW5pbSYmdC5mYyYmKFg9InJnYigiK01hdGgucm91bmQoMjU1KmpbMF0pKyIsIitNYXRoLnJvdW5kKDI1NSpqWzFdKSsiLCIrTWF0aC5yb3VuZCgyNTUqalsyXSkrIikiKSx0aGlzLl9oYXNNYXNrZWRQYXRoKXtpZihDLnRyYW5zbGF0ZSgwLC10LmxzKSxDLnRyYW5zbGF0ZSgwLEVbMV0qUiouMDEraSwwKSx0aGlzLl9wYXRoRGF0YS5wLnYpe2I9KGgucG9pbnRbMV0tYy5wb2ludFsxXSkvKGgucG9pbnRbMF0tYy5wb2ludFswXSk7dmFyIGh0PTE4MCpNYXRoLmF0YW4oYikvTWF0aC5QSTtoLnBvaW50WzBdPGMucG9pbnRbMF0mJihodCs9MTgwKSxDLnJvdGF0ZSgtaHQqTWF0aC5QSS8xODApfUMudHJhbnNsYXRlKEcseiwwKSxvLT1FWzBdKlRbc10uYW4qLjAwNSxUW3MrMV0mJkshPT1UW3MrMV0uaW5kJiYobys9VFtzXS5hbi8yLG8rPS4wMDEqdC50cip0LmZpbmFsU2l6ZSl9ZWxzZXtzd2l0Y2goQy50cmFuc2xhdGUocixpLDApLHQucHMmJkMudHJhbnNsYXRlKHQucHNbMF0sdC5wc1sxXSt0LmFzY2VudCwwKSx0Lmope2Nhc2UgMTpDLnRyYW5zbGF0ZShUW3NdLmFuaW1hdG9ySnVzdGlmeU9mZnNldCt0Lmp1c3RpZnlPZmZzZXQrKHQuYm94V2lkdGgtdC5saW5lV2lkdGhzW1Rbc10ubGluZV0pLDAsMCk7YnJlYWs7Y2FzZSAyOkMudHJhbnNsYXRlKFRbc10uYW5pbWF0b3JKdXN0aWZ5T2Zmc2V0K3QuanVzdGlmeU9mZnNldCsodC5ib3hXaWR0aC10LmxpbmVXaWR0aHNbVFtzXS5saW5lXSkvMiwwLDApfUMudHJhbnNsYXRlKDAsLXQubHMpLEMudHJhbnNsYXRlKEwsMCwwKSxDLnRyYW5zbGF0ZShFWzBdKlRbc10uYW4qLjAwNSxFWzFdKlIqLjAxLDApLHIrPVRbc10ubCsuMDAxKnQudHIqdC5maW5hbFNpemV9Imh0bWwiPT09QT90dD1DLnRvQ1NTKCk6InN2ZyI9PT1BP3R0PUMudG8yZENTUygpOmV0PVtDLnByb3BzWzBdLEMucHJvcHNbMV0sQy5wcm9wc1syXSxDLnByb3BzWzNdLEMucHJvcHNbNF0sQy5wcm9wc1s1XSxDLnByb3BzWzZdLEMucHJvcHNbN10sQy5wcm9wc1s4XSxDLnByb3BzWzldLEMucHJvcHNbMTBdLEMucHJvcHNbMTFdLEMucHJvcHNbMTJdLEMucHJvcHNbMTNdLEMucHJvcHNbMTRdLEMucHJvcHNbMTVdXSxKPU59dGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9Xzw9cz8oST1uZXcgTGV0dGVyUHJvcHMoSixXLFksWCx0dCxldCksdGhpcy5yZW5kZXJlZExldHRlcnMucHVzaChJKSxfKz0xLCEwKTooST10aGlzLnJlbmRlcmVkTGV0dGVyc1tzXSkudXBkYXRlKEosVyxZLFgsdHQsZXQpfHx0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZ319fSxUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24oKXt0aGlzLl9lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCE9PXRoaXMuX2ZyYW1lSWQmJih0aGlzLl9mcmFtZUlkPXRoaXMuX2VsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkLHRoaXMuaXRlcmF0ZUR5bmFtaWNQcm9wZXJ0aWVzKCkpfSxUZXh0QW5pbWF0b3JQcm9wZXJ0eS5wcm90b3R5cGUubUhlbHBlcj1uZXcgTWF0cml4LFRleHRBbmltYXRvclByb3BlcnR5LnByb3RvdHlwZS5kZWZhdWx0UHJvcHNBcnJheT1bXSxleHRlbmRQcm90b3R5cGUoW0R5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcl0sVGV4dEFuaW1hdG9yUHJvcGVydHkpLExldHRlclByb3BzLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe3RoaXMuX21kZi5vPSExLHRoaXMuX21kZi5zdz0hMSx0aGlzLl9tZGYuc2M9ITEsdGhpcy5fbWRmLmZjPSExLHRoaXMuX21kZi5tPSExO3ZhciBuPXRoaXMuX21kZi5wPSExO3JldHVybiB0aGlzLm8hPT10JiYodGhpcy5vPXQsbj10aGlzLl9tZGYubz0hMCksdGhpcy5zdyE9PWUmJih0aGlzLnN3PWUsbj10aGlzLl9tZGYuc3c9ITApLHRoaXMuc2MhPT1yJiYodGhpcy5zYz1yLG49dGhpcy5fbWRmLnNjPSEwKSx0aGlzLmZjIT09aSYmKHRoaXMuZmM9aSxuPXRoaXMuX21kZi5mYz0hMCksdGhpcy5tIT09cyYmKHRoaXMubT1zLG49dGhpcy5fbWRmLm09ITApLCFhLmxlbmd0aHx8dGhpcy5wWzBdPT09YVswXSYmdGhpcy5wWzFdPT09YVsxXSYmdGhpcy5wWzRdPT09YVs0XSYmdGhpcy5wWzVdPT09YVs1XSYmdGhpcy5wWzEyXT09PWFbMTJdJiZ0aGlzLnBbMTNdPT09YVsxM118fCh0aGlzLnA9YSxuPXRoaXMuX21kZi5wPSEwKSxufSxUZXh0UHJvcGVydHkucHJvdG90eXBlLmRlZmF1bHRCb3hXaWR0aD1bMCwwXSxUZXh0UHJvcGVydHkucHJvdG90eXBlLmNvcHlEYXRhPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIGUpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pO3JldHVybiB0fSxUZXh0UHJvcGVydHkucHJvdG90eXBlLnNldEN1cnJlbnREYXRhPWZ1bmN0aW9uKHQpe3QuX19jb21wbGV0ZXx8dGhpcy5jb21wbGV0ZVRleHREYXRhKHQpLHRoaXMuY3VycmVudERhdGE9dCx0aGlzLmN1cnJlbnREYXRhLmJveFdpZHRoPXRoaXMuY3VycmVudERhdGEuYm94V2lkdGh8fHRoaXMuZGVmYXVsdEJveFdpZHRoLHRoaXMuX21kZj0hMH0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5zZWFyY2hQcm9wZXJ0eT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNlYXJjaEtleWZyYW1lcygpfSxUZXh0UHJvcGVydHkucHJvdG90eXBlLnNlYXJjaEtleWZyYW1lcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtmPTE8dGhpcy5kYXRhLmQuay5sZW5ndGgsdGhpcy5rZiYmdGhpcy5hZGRFZmZlY3QodGhpcy5nZXRLZXlmcmFtZVZhbHVlLmJpbmQodGhpcykpLHRoaXMua2Z9LFRleHRQcm9wZXJ0eS5wcm90b3R5cGUuYWRkRWZmZWN0PWZ1bmN0aW9uKHQpe3RoaXMuZWZmZWN0c1NlcXVlbmNlLnB1c2godCksdGhpcy5lbGVtLmFkZER5bmFtaWNQcm9wZXJ0eSh0aGlzKX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbih0KXtpZih0aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZUlkIT09dGhpcy5mcmFtZUlkJiZ0aGlzLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGh8fHQpe3RoaXMuY3VycmVudERhdGEudD10aGlzLmRhdGEuZC5rW3RoaXMua2V5c0luZGV4XS5zLnQ7dmFyIGU9dGhpcy5jdXJyZW50RGF0YSxyPXRoaXMua2V5c0luZGV4O2lmKHRoaXMubG9jayl0aGlzLnNldEN1cnJlbnREYXRhKHRoaXMuY3VycmVudERhdGEpO2Vsc2V7dmFyIGk7dGhpcy5sb2NrPSEwLHRoaXMuX21kZj0hMTt2YXIgcz10aGlzLmVmZmVjdHNTZXF1ZW5jZS5sZW5ndGgsYT10fHx0aGlzLmRhdGEuZC5rW3RoaXMua2V5c0luZGV4XS5zO2ZvcihpPTA7aTxzO2krPTEpYT1yIT09dGhpcy5rZXlzSW5kZXg/dGhpcy5lZmZlY3RzU2VxdWVuY2VbaV0oYSxhLnQpOnRoaXMuZWZmZWN0c1NlcXVlbmNlW2ldKHRoaXMuY3VycmVudERhdGEsYS50KTtlIT09YSYmdGhpcy5zZXRDdXJyZW50RGF0YShhKSx0aGlzLnY9dGhpcy5jdXJyZW50RGF0YSx0aGlzLnB2PXRoaXMudix0aGlzLmxvY2s9ITEsdGhpcy5mcmFtZUlkPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWR9fX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5nZXRLZXlmcmFtZVZhbHVlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuZGF0YS5kLmssZT10aGlzLmVsZW0uY29tcC5yZW5kZXJlZEZyYW1lLHI9MCxpPXQubGVuZ3RoO3I8PWktMSYmIShyPT09aS0xfHx0W3IrMV0udD5lKTspcis9MTtyZXR1cm4gdGhpcy5rZXlzSW5kZXghPT1yJiYodGhpcy5rZXlzSW5kZXg9ciksdGhpcy5kYXRhLmQua1t0aGlzLmtleXNJbmRleF0uc30sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5idWlsZEZpbmFsVGV4dD1mdW5jdGlvbih0KXtmb3IodmFyIGUscixpPVtdLHM9MCxhPXQubGVuZ3RoLG49ITE7czxhOyllPXQuY2hhckNvZGVBdChzKSxGb250TWFuYWdlci5pc0NvbWJpbmVkQ2hhcmFjdGVyKGUpP2lbaS5sZW5ndGgtMV0rPXQuY2hhckF0KHMpOjU1Mjk2PD1lJiZlPD01NjMxOT81NjMyMDw9KHI9dC5jaGFyQ29kZUF0KHMrMSkpJiZyPD01NzM0Mz8obnx8Rm9udE1hbmFnZXIuaXNNb2RpZmllcihlLHIpPyhpW2kubGVuZ3RoLTFdKz10LnN1YnN0cihzLDIpLG49ITEpOmkucHVzaCh0LnN1YnN0cihzLDIpKSxzKz0xKTppLnB1c2godC5jaGFyQXQocykpOjU2MzE5PGU/KHI9dC5jaGFyQ29kZUF0KHMrMSksRm9udE1hbmFnZXIuaXNaZXJvV2lkdGhKb2luZXIoZSxyKT8obj0hMCxpW2kubGVuZ3RoLTFdKz10LnN1YnN0cihzLDIpLHMrPTEpOmkucHVzaCh0LmNoYXJBdChzKSkpOkZvbnRNYW5hZ2VyLmlzWmVyb1dpZHRoSm9pbmVyKGUpPyhpW2kubGVuZ3RoLTFdKz10LmNoYXJBdChzKSxuPSEwKTppLnB1c2godC5jaGFyQXQocykpLHMrPTE7cmV0dXJuIGl9LFRleHRQcm9wZXJ0eS5wcm90b3R5cGUuY29tcGxldGVUZXh0RGF0YT1mdW5jdGlvbih0KXt0Ll9fY29tcGxldGU9ITA7dmFyIGUscixpLHMsYSxuLG8saD10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mb250TWFuYWdlcixsPXRoaXMuZGF0YSxwPVtdLG09MCxmPWwubS5nLGM9MCxkPTAsdT0wLHk9W10sZz0wLHY9MCxiPWguZ2V0Rm9udEJ5TmFtZSh0LmYpLFA9MCxFPWdldEZvbnRQcm9wZXJ0aWVzKGIpO3QuZldlaWdodD1FLndlaWdodCx0LmZTdHlsZT1FLnN0eWxlLHQuZmluYWxTaXplPXQucyx0LmZpbmFsVGV4dD10aGlzLmJ1aWxkRmluYWxUZXh0KHQudCkscj10LmZpbmFsVGV4dC5sZW5ndGgsdC5maW5hbExpbmVIZWlnaHQ9dC5saDt2YXIgeCxTPXQudHIvMWUzKnQuZmluYWxTaXplO2lmKHQuc3opZm9yKHZhciBDLEEsXz0hMCxUPXQuc3pbMF0saz10LnN6WzFdO187KXtnPUM9MCxyPShBPXRoaXMuYnVpbGRGaW5hbFRleHQodC50KSkubGVuZ3RoLFM9dC50ci8xZTMqdC5maW5hbFNpemU7dmFyIEQ9LTE7Zm9yKGU9MDtlPHI7ZSs9MSl4PUFbZV0uY2hhckNvZGVBdCgwKSxpPSExLCIgIj09PUFbZV0/RD1lOjEzIT09eCYmMyE9PXh8fChpPSEoZz0wKSxDKz10LmZpbmFsTGluZUhlaWdodHx8MS4yKnQuZmluYWxTaXplKSxUPGcrKFA9aC5jaGFycz8obz1oLmdldENoYXJEYXRhKEFbZV0sYi5mU3R5bGUsYi5mRmFtaWx5KSxpPzA6by53KnQuZmluYWxTaXplLzEwMCk6aC5tZWFzdXJlVGV4dChBW2VdLHQuZix0LmZpbmFsU2l6ZSkpJiYiICIhPT1BW2VdPygtMT09PUQ/cis9MTplPUQsQys9dC5maW5hbExpbmVIZWlnaHR8fDEuMip0LmZpbmFsU2l6ZSxBLnNwbGljZShlLEQ9PT1lPzE6MCwiXHIiKSxEPS0xLGc9MCk6KGcrPVAsZys9Uyk7Qys9Yi5hc2NlbnQqdC5maW5hbFNpemUvMTAwLHRoaXMuY2FuUmVzaXplJiZ0LmZpbmFsU2l6ZT50aGlzLm1pbmltdW1Gb250U2l6ZSYmazxDPyh0LmZpbmFsU2l6ZS09MSx0LmZpbmFsTGluZUhlaWdodD10LmZpbmFsU2l6ZSp0LmxoL3Qucyk6KHQuZmluYWxUZXh0PUEscj10LmZpbmFsVGV4dC5sZW5ndGgsXz0hMSl9Zz0tUzt2YXIgTSxGPVA9MDtmb3IoZT0wO2U8cjtlKz0xKWlmKGk9ITEsMTM9PT0oeD0oTT10LmZpbmFsVGV4dFtlXSkuY2hhckNvZGVBdCgwKSl8fDM9PT14PyhGPTAseS5wdXNoKGcpLHY9djxnP2c6dixnPS0yKlMsaT0hKHM9IiIpLHUrPTEpOnM9TSxQPWguY2hhcnM/KG89aC5nZXRDaGFyRGF0YShNLGIuZlN0eWxlLGguZ2V0Rm9udEJ5TmFtZSh0LmYpLmZGYW1pbHkpLGk/MDpvLncqdC5maW5hbFNpemUvMTAwKTpoLm1lYXN1cmVUZXh0KHMsdC5mLHQuZmluYWxTaXplKSwiICI9PT1NP0YrPVArUzooZys9UCtTK0YsRj0wKSxwLnB1c2goe2w6UCxhbjpQLGFkZDpjLG46aSxhbkluZGV4ZXM6W10sdmFsOnMsbGluZTp1LGFuaW1hdG9ySnVzdGlmeU9mZnNldDowfSksMj09Zil7aWYoYys9UCwiIj09PXN8fCIgIj09PXN8fGU9PT1yLTEpe2ZvcigiIiE9PXMmJiIgIiE9PXN8fChjLT1QKTtkPD1lOylwW2RdLmFuPWMscFtkXS5pbmQ9bSxwW2RdLmV4dHJhPVAsZCs9MTttKz0xLGM9MH19ZWxzZSBpZigzPT1mKXtpZihjKz1QLCIiPT09c3x8ZT09PXItMSl7Zm9yKCIiPT09cyYmKGMtPVApO2Q8PWU7KXBbZF0uYW49YyxwW2RdLmluZD1tLHBbZF0uZXh0cmE9UCxkKz0xO2M9MCxtKz0xfX1lbHNlIHBbbV0uaW5kPW0scFttXS5leHRyYT0wLG0rPTE7aWYodC5sPXAsdj12PGc/Zzp2LHkucHVzaChnKSx0LnN6KXQuYm94V2lkdGg9dC5zelswXSx0Lmp1c3RpZnlPZmZzZXQ9MDtlbHNlIHN3aXRjaCh0LmJveFdpZHRoPXYsdC5qKXtjYXNlIDE6dC5qdXN0aWZ5T2Zmc2V0PS10LmJveFdpZHRoO2JyZWFrO2Nhc2UgMjp0Lmp1c3RpZnlPZmZzZXQ9LXQuYm94V2lkdGgvMjticmVhaztkZWZhdWx0OnQuanVzdGlmeU9mZnNldD0wfXQubGluZVdpZHRocz15O3ZhciB3LEksVixSLEI9bC5hO249Qi5sZW5ndGg7dmFyIEw9W107Zm9yKGE9MDthPG47YSs9MSl7Zm9yKCh3PUJbYV0pLmEuc2MmJih0LnN0cm9rZUNvbG9yQW5pbT0hMCksdy5hLnN3JiYodC5zdHJva2VXaWR0aEFuaW09ITApLCh3LmEuZmN8fHcuYS5maHx8dy5hLmZzfHx3LmEuZmIpJiYodC5maWxsQ29sb3JBbmltPSEwKSxSPTAsVj13LnMuYixlPTA7ZTxyO2UrPTEpKEk9cFtlXSkuYW5JbmRleGVzW2FdPVIsKDE9PVYmJiIiIT09SS52YWx8fDI9PVYmJiIiIT09SS52YWwmJiIgIiE9PUkudmFsfHwzPT1WJiYoSS5ufHwiICI9PUkudmFsfHxlPT1yLTEpfHw0PT1WJiYoSS5ufHxlPT1yLTEpKSYmKDE9PT13LnMucm4mJkwucHVzaChSKSxSKz0xKTtsLmFbYV0ucy50b3RhbENoYXJzPVI7dmFyIEcsej0tMTtpZigxPT09dy5zLnJuKWZvcihlPTA7ZTxyO2UrPTEpeiE9KEk9cFtlXSkuYW5JbmRleGVzW2FdJiYoej1JLmFuSW5kZXhlc1thXSxHPUwuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpMLmxlbmd0aCksMSlbMF0pLEkuYW5JbmRleGVzW2FdPUd9dC55T2Zmc2V0PXQuZmluYWxMaW5lSGVpZ2h0fHwxLjIqdC5maW5hbFNpemUsdC5scz10LmxzfHwwLHQuYXNjZW50PWIuYXNjZW50KnQuZmluYWxTaXplLzEwMH0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS51cGRhdGVEb2N1bWVudERhdGE9ZnVuY3Rpb24odCxlKXtlPXZvaWQgMD09PWU/dGhpcy5rZXlzSW5kZXg6ZTt2YXIgcj10aGlzLmNvcHlEYXRhKHt9LHRoaXMuZGF0YS5kLmtbZV0ucyk7cj10aGlzLmNvcHlEYXRhKHIsdCksdGhpcy5kYXRhLmQua1tlXS5zPXIsdGhpcy5yZWNhbGN1bGF0ZShlKSx0aGlzLmVsZW0uYWRkRHluYW1pY1Byb3BlcnR5KHRoaXMpfSxUZXh0UHJvcGVydHkucHJvdG90eXBlLnJlY2FsY3VsYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZGF0YS5kLmtbdF0ucztlLl9fY29tcGxldGU9ITEsdGhpcy5rZXlzSW5kZXg9MCx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5nZXRWYWx1ZShlKX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5jYW5SZXNpemVGb250PWZ1bmN0aW9uKHQpe3RoaXMuY2FuUmVzaXplPXQsdGhpcy5yZWNhbGN1bGF0ZSh0aGlzLmtleXNJbmRleCksdGhpcy5lbGVtLmFkZER5bmFtaWNQcm9wZXJ0eSh0aGlzKX0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5zZXRNaW5pbXVtRm9udFNpemU9ZnVuY3Rpb24odCl7dGhpcy5taW5pbXVtRm9udFNpemU9TWF0aC5mbG9vcih0KXx8MSx0aGlzLnJlY2FsY3VsYXRlKHRoaXMua2V5c0luZGV4KSx0aGlzLmVsZW0uYWRkRHluYW1pY1Byb3BlcnR5KHRoaXMpfTt2YXIgVGV4dFNlbGVjdG9yUHJvcD1mdW5jdGlvbigpe3ZhciB1PU1hdGgubWF4LHk9TWF0aC5taW4sZz1NYXRoLmZsb29yO2Z1bmN0aW9uIGkodCxlKXt0aGlzLl9jdXJyZW50VGV4dExlbmd0aD0tMSx0aGlzLms9ITEsdGhpcy5kYXRhPWUsdGhpcy5lbGVtPXQsdGhpcy5jb21wPXQuY29tcCx0aGlzLmZpbmFsUz0wLHRoaXMuZmluYWxFPTAsdGhpcy5pbml0RHluYW1pY1Byb3BlcnR5Q29udGFpbmVyKHQpLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuc3x8e2s6MH0sMCwwLHRoaXMpLHRoaXMuZT0iZSJpbiBlP1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5lLDAsMCx0aGlzKTp7djoxMDB9LHRoaXMubz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUub3x8e2s6MH0sMCwwLHRoaXMpLHRoaXMueGU9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLnhlfHx7azowfSwwLDAsdGhpcyksdGhpcy5uZT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUubmV8fHtrOjB9LDAsMCx0aGlzKSx0aGlzLnNtPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5zbXx8e2s6MTAwfSwwLDAsdGhpcyksdGhpcy5hPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5hLDAsLjAxLHRoaXMpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLmdldFZhbHVlKCl9cmV0dXJuIGkucHJvdG90eXBlPXtnZXRNdWx0OmZ1bmN0aW9uKHQpe3RoaXMuX2N1cnJlbnRUZXh0TGVuZ3RoIT09dGhpcy5lbGVtLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS5sLmxlbmd0aCYmdGhpcy5nZXRWYWx1ZSgpO3ZhciBlPTAscj0wLGk9MSxzPTE7MDx0aGlzLm5lLnY/ZT10aGlzLm5lLnYvMTAwOnI9LXRoaXMubmUudi8xMDAsMDx0aGlzLnhlLnY/aT0xLXRoaXMueGUudi8xMDA6cz0xK3RoaXMueGUudi8xMDA7dmFyIGE9QmV6aWVyRmFjdG9yeS5nZXRCZXppZXJFYXNpbmcoZSxyLGkscykuZ2V0LG49MCxvPXRoaXMuZmluYWxTLGg9dGhpcy5maW5hbEUsbD10aGlzLmRhdGEuc2g7aWYoMj09PWwpbj1hKG49aD09PW8/aDw9dD8xOjA6dSgwLHkoLjUvKGgtbykrKHQtbykvKGgtbyksMSkpKTtlbHNlIGlmKDM9PT1sKW49YShuPWg9PT1vP2g8PXQ/MDoxOjEtdSgwLHkoLjUvKGgtbykrKHQtbykvKGgtbyksMSkpKTtlbHNlIGlmKDQ9PT1sKWg9PT1vP249MDoobj11KDAseSguNS8oaC1vKSsodC1vKS8oaC1vKSwxKSkpPC41P24qPTI6bj0xLTIqKG4tLjUpLG49YShuKTtlbHNlIGlmKDU9PT1sKXtpZihoPT09byluPTA7ZWxzZXt2YXIgcD1oLW8sbT0tcC8yKyh0PXkodSgwLHQrLjUtbyksaC1vKSksZj1wLzI7bj1NYXRoLnNxcnQoMS1tKm0vKGYqZikpfW49YShuKX1lbHNlIG49Nj09PWw/YShuPWg9PT1vPzA6KHQ9eSh1KDAsdCsuNS1vKSxoLW8pLCgxK01hdGguY29zKE1hdGguUEkrMipNYXRoLlBJKnQvKGgtbykpKS8yKSk6KHQ+PWcobykmJihuPXUoMCx5KHQtbzwwP3koaCwxKS0oby10KTpoLXQsMSkpKSxhKG4pKTtpZigxMDAhPT10aGlzLnNtLnYpe3ZhciBjPS4wMSp0aGlzLnNtLnY7MD09PWMmJihjPTFlLTgpO3ZhciBkPS41LS41KmM7bjxkP249MDoxPChuPShuLWQpL2MpJiYobj0xKX1yZXR1cm4gbip0aGlzLmEudn0sZ2V0VmFsdWU6ZnVuY3Rpb24odCl7dGhpcy5pdGVyYXRlRHluYW1pY1Byb3BlcnRpZXMoKSx0aGlzLl9tZGY9dHx8dGhpcy5fbWRmLHRoaXMuX2N1cnJlbnRUZXh0TGVuZ3RoPXRoaXMuZWxlbS50ZXh0UHJvcGVydHkuY3VycmVudERhdGEubC5sZW5ndGh8fDAsdCYmMj09PXRoaXMuZGF0YS5yJiYodGhpcy5lLnY9dGhpcy5fY3VycmVudFRleHRMZW5ndGgpO3ZhciBlPTI9PT10aGlzLmRhdGEucj8xOjEwMC90aGlzLmRhdGEudG90YWxDaGFycyxyPXRoaXMuby52L2UsaT10aGlzLnMudi9lK3Iscz10aGlzLmUudi9lK3I7aWYoczxpKXt2YXIgYT1pO2k9cyxzPWF9dGhpcy5maW5hbFM9aSx0aGlzLmZpbmFsRT1zfX0sZXh0ZW5kUHJvdG90eXBlKFtEeW5hbWljUHJvcGVydHlDb250YWluZXJdLGkpLHtnZXRUZXh0U2VsZWN0b3JQcm9wOmZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbmV3IGkodCxlLHIpfX19KCkscG9vbEZhY3Rvcnk9ZnVuY3Rpb24odCxlLHIpe3ZhciBpPTAscz10LGE9Y3JlYXRlU2l6ZWRBcnJheShzKTtyZXR1cm57bmV3RWxlbWVudDpmdW5jdGlvbigpe3JldHVybiBpP2FbaS09MV06ZSgpfSxyZWxlYXNlOmZ1bmN0aW9uKHQpe2k9PT1zJiYoYT1wb29saW5nLmRvdWJsZShhKSxzKj0yKSxyJiZyKHQpLGFbaV09dCxpKz0xfX19LHBvb2xpbmc9e2RvdWJsZTpmdW5jdGlvbih0KXtyZXR1cm4gdC5jb25jYXQoY3JlYXRlU2l6ZWRBcnJheSh0Lmxlbmd0aCkpfX0scG9pbnRQb29sPXBvb2xGYWN0b3J5KDgsZnVuY3Rpb24oKXtyZXR1cm4gY3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIsMil9KSxzaGFwZVBvb2w9KE5DPXBvb2xGYWN0b3J5KDQsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFNoYXBlUGF0aH0sZnVuY3Rpb24odCl7dmFyIGUscj10Ll9sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSlwb2ludFBvb2wucmVsZWFzZSh0LnZbZV0pLHBvaW50UG9vbC5yZWxlYXNlKHQuaVtlXSkscG9pbnRQb29sLnJlbGVhc2UodC5vW2VdKSx0LnZbZV09bnVsbCx0LmlbZV09bnVsbCx0Lm9bZV09bnVsbDt0Ll9sZW5ndGg9MCx0LmM9ITF9KSxOQy5jbG9uZT1mdW5jdGlvbih0KXt2YXIgZSxyPU5DLm5ld0VsZW1lbnQoKSxpPXZvaWQgMD09PXQuX2xlbmd0aD90LnYubGVuZ3RoOnQuX2xlbmd0aDtmb3Ioci5zZXRMZW5ndGgoaSksci5jPXQuYyxlPTA7ZTxpO2UrPTEpci5zZXRUcmlwbGVBdCh0LnZbZV1bMF0sdC52W2VdWzFdLHQub1tlXVswXSx0Lm9bZV1bMV0sdC5pW2VdWzBdLHQuaVtlXVsxXSxlKTtyZXR1cm4gcn0sTkMpLE5DLHNoYXBlQ29sbGVjdGlvblBvb2w9KFZDPXtuZXdTaGFwZUNvbGxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgdDt0PVdDP1lDW1dDLT0xXTpuZXcgU2hhcGVDb2xsZWN0aW9uO3JldHVybiB0fSxyZWxlYXNlOmZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5fbGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTEpc2hhcGVQb29sLnJlbGVhc2UodC5zaGFwZXNbZV0pO3QuX2xlbmd0aD0wLFdDPT09WEMmJihZQz1wb29saW5nLmRvdWJsZShZQyksWEMqPTIpO1lDW1dDXT10LFdDKz0xfX0sV0M9MCxYQz00LFlDPWNyZWF0ZVNpemVkQXJyYXkoWEMpLFZDKSxWQyxXQyxYQyxZQyxzZWdtZW50c0xlbmd0aFBvb2w9cG9vbEZhY3RvcnkoOCxmdW5jdGlvbigpe3JldHVybntsZW5ndGhzOltdLHRvdGFsTGVuZ3RoOjB9fSxmdW5jdGlvbih0KXt2YXIgZSxyPXQubGVuZ3Rocy5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSliZXppZXJMZW5ndGhQb29sLnJlbGVhc2UodC5sZW5ndGhzW2VdKTt0Lmxlbmd0aHMubGVuZ3RoPTB9KSxiZXppZXJMZW5ndGhQb29sPXBvb2xGYWN0b3J5KDgsZnVuY3Rpb24oKXtyZXR1cm57YWRkZWRMZW5ndGg6MCxwZXJjZW50czpjcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixkZWZhdWx0Q3VydmVTZWdtZW50cyksbGVuZ3RoczpjcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixkZWZhdWx0Q3VydmVTZWdtZW50cyl9fSksbWFya2VyUGFyc2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGUscj10LnNwbGl0KCJcclxuIiksaT17fSxzPTAsYT0wO2E8ci5sZW5ndGg7YSs9MSkyPT09KGU9clthXS5zcGxpdCgiOiIpKS5sZW5ndGgmJihpW2VbMF1dPWVbMV0udHJpbSgpLHMrPTEpO2lmKDA9PT1zKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gaX1yZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciB0PVtdLHI9MDtyPGUubGVuZ3RoO3IrPTEpe3ZhciBpPWVbcl0scz17dGltZTppLnRtLGR1cmF0aW9uOmkuZHJ9O3RyeXtzLnBheWxvYWQ9SlNPTi5wYXJzZShlW3JdLmNtKX1jYXRjaCh0KXt0cnl7cy5wYXlsb2FkPWEoZVtyXS5jbSl9Y2F0Y2godCl7cy5wYXlsb2FkPXtuYW1lOmVbcl19fX10LnB1c2gocyl9cmV0dXJuIHR9fSgpO2Z1bmN0aW9uIEJhc2VSZW5kZXJlcigpe31mdW5jdGlvbiBTVkdSZW5kZXJlcih0LGUpe3RoaXMuYW5pbWF0aW9uSXRlbT10LHRoaXMubGF5ZXJzPW51bGwsdGhpcy5yZW5kZXJlZEZyYW1lPS0xLHRoaXMuc3ZnRWxlbWVudD1jcmVhdGVOUygic3ZnIik7dmFyIHI9IiI7aWYoZSYmZS50aXRsZSl7dmFyIGk9Y3JlYXRlTlMoInRpdGxlIikscz1jcmVhdGVFbGVtZW50SUQoKTtpLnNldEF0dHJpYnV0ZSgiaWQiLHMpLGkudGV4dENvbnRlbnQ9ZS50aXRsZSx0aGlzLnN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQoaSkscis9c31pZihlJiZlLmRlc2NyaXB0aW9uKXt2YXIgYT1jcmVhdGVOUygiZGVzYyIpLG49Y3JlYXRlRWxlbWVudElEKCk7YS5zZXRBdHRyaWJ1dGUoImlkIixuKSxhLnRleHRDb250ZW50PWUuZGVzY3JpcHRpb24sdGhpcy5zdmdFbGVtZW50LmFwcGVuZENoaWxkKGEpLHIrPSIgIitufXImJnRoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtbGFiZWxsZWRieSIscik7dmFyIG89Y3JlYXRlTlMoImRlZnMiKTt0aGlzLnN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQobyk7dmFyIGg9Y3JlYXRlTlMoImciKTt0aGlzLnN2Z0VsZW1lbnQuYXBwZW5kQ2hpbGQoaCksdGhpcy5sYXllckVsZW1lbnQ9aCx0aGlzLnJlbmRlckNvbmZpZz17cHJlc2VydmVBc3BlY3RSYXRpbzplJiZlLnByZXNlcnZlQXNwZWN0UmF0aW98fCJ4TWlkWU1pZCBtZWV0IixpbWFnZVByZXNlcnZlQXNwZWN0UmF0aW86ZSYmZS5pbWFnZVByZXNlcnZlQXNwZWN0UmF0aW98fCJ4TWlkWU1pZCBzbGljZSIsY29udGVudFZpc2liaWxpdHk6ZSYmZS5jb250ZW50VmlzaWJpbGl0eXx8InZpc2libGUiLHByb2dyZXNzaXZlTG9hZDplJiZlLnByb2dyZXNzaXZlTG9hZHx8ITEsaGlkZU9uVHJhbnNwYXJlbnQ6IShlJiYhMT09PWUuaGlkZU9uVHJhbnNwYXJlbnQpLHZpZXdCb3hPbmx5OmUmJmUudmlld0JveE9ubHl8fCExLHZpZXdCb3hTaXplOmUmJmUudmlld0JveFNpemV8fCExLGNsYXNzTmFtZTplJiZlLmNsYXNzTmFtZXx8IiIsaWQ6ZSYmZS5pZHx8IiIsZm9jdXNhYmxlOmUmJmUuZm9jdXNhYmxlLGZpbHRlclNpemU6e3dpZHRoOmUmJmUuZmlsdGVyU2l6ZSYmZS5maWx0ZXJTaXplLndpZHRofHwiMTAwJSIsaGVpZ2h0OmUmJmUuZmlsdGVyU2l6ZSYmZS5maWx0ZXJTaXplLmhlaWdodHx8IjEwMCUiLHg6ZSYmZS5maWx0ZXJTaXplJiZlLmZpbHRlclNpemUueHx8IjAlIix5OmUmJmUuZmlsdGVyU2l6ZSYmZS5maWx0ZXJTaXplLnl8fCIwJSJ9fSx0aGlzLmdsb2JhbERhdGE9e19tZGY6ITEsZnJhbWVOdW06LTEsZGVmczpvLHJlbmRlckNvbmZpZzp0aGlzLnJlbmRlckNvbmZpZ30sdGhpcy5lbGVtZW50cz1bXSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmRlc3Ryb3llZD0hMSx0aGlzLnJlbmRlcmVyVHlwZT0ic3ZnIn1mdW5jdGlvbiBDYW52YXNSZW5kZXJlcih0LGUpe3RoaXMuYW5pbWF0aW9uSXRlbT10LHRoaXMucmVuZGVyQ29uZmlnPXtjbGVhckNhbnZhczohZXx8dm9pZCAwPT09ZS5jbGVhckNhbnZhc3x8ZS5jbGVhckNhbnZhcyxjb250ZXh0OmUmJmUuY29udGV4dHx8bnVsbCxwcm9ncmVzc2l2ZUxvYWQ6ZSYmZS5wcm9ncmVzc2l2ZUxvYWR8fCExLHByZXNlcnZlQXNwZWN0UmF0aW86ZSYmZS5wcmVzZXJ2ZUFzcGVjdFJhdGlvfHwieE1pZFlNaWQgbWVldCIsaW1hZ2VQcmVzZXJ2ZUFzcGVjdFJhdGlvOmUmJmUuaW1hZ2VQcmVzZXJ2ZUFzcGVjdFJhdGlvfHwieE1pZFlNaWQgc2xpY2UiLGNvbnRlbnRWaXNpYmlsaXR5OmUmJmUuY29udGVudFZpc2liaWxpdHl8fCJ2aXNpYmxlIixjbGFzc05hbWU6ZSYmZS5jbGFzc05hbWV8fCIiLGlkOmUmJmUuaWR8fCIifSx0aGlzLnJlbmRlckNvbmZpZy5kcHI9ZSYmZS5kcHJ8fDEsdGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXImJih0aGlzLnJlbmRlckNvbmZpZy5kcHI9ZSYmZS5kcHJ8fHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvfHwxKSx0aGlzLnJlbmRlcmVkRnJhbWU9LTEsdGhpcy5nbG9iYWxEYXRhPXtmcmFtZU51bTotMSxfbWRmOiExLHJlbmRlckNvbmZpZzp0aGlzLnJlbmRlckNvbmZpZyxjdXJyZW50R2xvYmFsQWxwaGE6LTF9LHRoaXMuY29udGV4dERhdGE9bmV3IENWQ29udGV4dERhdGEsdGhpcy5lbGVtZW50cz1bXSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLnRyYW5zZm9ybU1hdD1uZXcgTWF0cml4LHRoaXMuY29tcGxldGVMYXllcnM9ITEsdGhpcy5yZW5kZXJlclR5cGU9ImNhbnZhcyJ9ZnVuY3Rpb24gSHlicmlkUmVuZGVyZXIodCxlKXt0aGlzLmFuaW1hdGlvbkl0ZW09dCx0aGlzLmxheWVycz1udWxsLHRoaXMucmVuZGVyZWRGcmFtZT0tMSx0aGlzLnJlbmRlckNvbmZpZz17Y2xhc3NOYW1lOmUmJmUuY2xhc3NOYW1lfHwiIixpbWFnZVByZXNlcnZlQXNwZWN0UmF0aW86ZSYmZS5pbWFnZVByZXNlcnZlQXNwZWN0UmF0aW98fCJ4TWlkWU1pZCBzbGljZSIsaGlkZU9uVHJhbnNwYXJlbnQ6IShlJiYhMT09PWUuaGlkZU9uVHJhbnNwYXJlbnQpLGZpbHRlclNpemU6e3dpZHRoOmUmJmUuZmlsdGVyU2l6ZSYmZS5maWx0ZXJTaXplLndpZHRofHwiNDAwJSIsaGVpZ2h0OmUmJmUuZmlsdGVyU2l6ZSYmZS5maWx0ZXJTaXplLmhlaWdodHx8IjQwMCUiLHg6ZSYmZS5maWx0ZXJTaXplJiZlLmZpbHRlclNpemUueHx8Ii0xMDAlIix5OmUmJmUuZmlsdGVyU2l6ZSYmZS5maWx0ZXJTaXplLnl8fCItMTAwJSJ9fSx0aGlzLmdsb2JhbERhdGE9e19tZGY6ITEsZnJhbWVOdW06LTEscmVuZGVyQ29uZmlnOnRoaXMucmVuZGVyQ29uZmlnfSx0aGlzLnBlbmRpbmdFbGVtZW50cz1bXSx0aGlzLmVsZW1lbnRzPVtdLHRoaXMudGhyZWVERWxlbWVudHM9W10sdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5jYW1lcmE9bnVsbCx0aGlzLnN1cHBvcnRzM2Q9ITAsdGhpcy5yZW5kZXJlclR5cGU9Imh0bWwifWZ1bmN0aW9uIE1hc2tFbGVtZW50KHQsZSxyKXt0aGlzLmRhdGE9dCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLmdsb2JhbERhdGE9cix0aGlzLnN0b3JlZERhdGE9W10sdGhpcy5tYXNrc1Byb3BlcnRpZXM9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllc3x8W10sdGhpcy5tYXNrRWxlbWVudD1udWxsO3ZhciBpLHMsYT10aGlzLmdsb2JhbERhdGEuZGVmcyxuPXRoaXMubWFza3NQcm9wZXJ0aWVzP3RoaXMubWFza3NQcm9wZXJ0aWVzLmxlbmd0aDowO3RoaXMudmlld0RhdGE9Y3JlYXRlU2l6ZWRBcnJheShuKSx0aGlzLnNvbGlkUGF0aD0iIjt2YXIgbyxoLGwscCxtLGYsYz10aGlzLm1hc2tzUHJvcGVydGllcyxkPTAsdT1bXSx5PWNyZWF0ZUVsZW1lbnRJRCgpLGc9ImNsaXBQYXRoIix2PSJjbGlwLXBhdGgiO2ZvcihpPTA7aTxuO2krPTEpaWYoKCJhIiE9PWNbaV0ubW9kZSYmIm4iIT09Y1tpXS5tb2RlfHxjW2ldLmludnx8MTAwIT09Y1tpXS5vLmt8fGNbaV0uby54KSYmKHY9Zz0ibWFzayIpLCJzIiE9PWNbaV0ubW9kZSYmImkiIT09Y1tpXS5tb2RlfHwwIT09ZD9sPW51bGw6KChsPWNyZWF0ZU5TKCJyZWN0IikpLnNldEF0dHJpYnV0ZSgiZmlsbCIsIiNmZmZmZmYiKSxsLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuZWxlbWVudC5jb21wLmRhdGEud3x8MCksbC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5lbGVtZW50LmNvbXAuZGF0YS5ofHwwKSx1LnB1c2gobCkpLHM9Y3JlYXRlTlMoInBhdGgiKSwibiI9PT1jW2ldLm1vZGUpdGhpcy52aWV3RGF0YVtpXT17b3A6UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcy5lbGVtZW50LGNbaV0ubywwLC4wMSx0aGlzLmVsZW1lbnQpLHByb3A6U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0U2hhcGVQcm9wKHRoaXMuZWxlbWVudCxjW2ldLDMpLGVsZW06cyxsYXN0UGF0aDoiIn0sYS5hcHBlbmRDaGlsZChzKTtlbHNle3ZhciBiO2lmKGQrPTEscy5zZXRBdHRyaWJ1dGUoImZpbGwiLCJzIj09PWNbaV0ubW9kZT8iIzAwMDAwMCI6IiNmZmZmZmYiKSxzLnNldEF0dHJpYnV0ZSgiY2xpcC1ydWxlIiwibm9uemVybyIpLDAhPT1jW2ldLnguaz8odj1nPSJtYXNrIixmPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMuZWxlbWVudCxjW2ldLngsMCxudWxsLHRoaXMuZWxlbWVudCksYj1jcmVhdGVFbGVtZW50SUQoKSwocD1jcmVhdGVOUygiZmlsdGVyIikpLnNldEF0dHJpYnV0ZSgiaWQiLGIpLChtPWNyZWF0ZU5TKCJmZU1vcnBob2xvZ3kiKSkuc2V0QXR0cmlidXRlKCJvcGVyYXRvciIsImVyb2RlIiksbS5zZXRBdHRyaWJ1dGUoImluIiwiU291cmNlR3JhcGhpYyIpLG0uc2V0QXR0cmlidXRlKCJyYWRpdXMiLCIwIikscC5hcHBlbmRDaGlsZChtKSxhLmFwcGVuZENoaWxkKHApLHMuc2V0QXR0cmlidXRlKCJzdHJva2UiLCJzIj09PWNbaV0ubW9kZT8iIzAwMDAwMCI6IiNmZmZmZmYiKSk6Zj1tPW51bGwsdGhpcy5zdG9yZWREYXRhW2ldPXtlbGVtOnMseDpmLGV4cGFuOm0sbGFzdFBhdGg6IiIsbGFzdE9wZXJhdG9yOiIiLGZpbHRlcklkOmIsbGFzdFJhZGl1czowfSwiaSI9PT1jW2ldLm1vZGUpe2g9dS5sZW5ndGg7dmFyIFA9Y3JlYXRlTlMoImciKTtmb3Iobz0wO288aDtvKz0xKVAuYXBwZW5kQ2hpbGQodVtvXSk7dmFyIEU9Y3JlYXRlTlMoIm1hc2siKTtFLnNldEF0dHJpYnV0ZSgibWFzay10eXBlIiwiYWxwaGEiKSxFLnNldEF0dHJpYnV0ZSgiaWQiLHkrIl8iK2QpLEUuYXBwZW5kQ2hpbGQocyksYS5hcHBlbmRDaGlsZChFKSxQLnNldEF0dHJpYnV0ZSgibWFzayIsInVybCgiK2xvY2F0aW9uSHJlZisiIyIreSsiXyIrZCsiKSIpLHUubGVuZ3RoPTAsdS5wdXNoKFApfWVsc2UgdS5wdXNoKHMpO2NbaV0uaW52JiYhdGhpcy5zb2xpZFBhdGgmJih0aGlzLnNvbGlkUGF0aD10aGlzLmNyZWF0ZUxheWVyU29saWRQYXRoKCkpLHRoaXMudmlld0RhdGFbaV09e2VsZW06cyxsYXN0UGF0aDoiIixvcDpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLmVsZW1lbnQsY1tpXS5vLDAsLjAxLHRoaXMuZWxlbWVudCkscHJvcDpTaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodGhpcy5lbGVtZW50LGNbaV0sMyksaW52UmVjdDpsfSx0aGlzLnZpZXdEYXRhW2ldLnByb3Aua3x8dGhpcy5kcmF3UGF0aChjW2ldLHRoaXMudmlld0RhdGFbaV0ucHJvcC52LHRoaXMudmlld0RhdGFbaV0pfWZvcih0aGlzLm1hc2tFbGVtZW50PWNyZWF0ZU5TKGcpLG49dS5sZW5ndGgsaT0wO2k8bjtpKz0xKXRoaXMubWFza0VsZW1lbnQuYXBwZW5kQ2hpbGQodVtpXSk7MDxkJiYodGhpcy5tYXNrRWxlbWVudC5zZXRBdHRyaWJ1dGUoImlkIix5KSx0aGlzLmVsZW1lbnQubWFza2VkRWxlbWVudC5zZXRBdHRyaWJ1dGUodiwidXJsKCIrbG9jYXRpb25IcmVmKyIjIit5KyIpIiksYS5hcHBlbmRDaGlsZCh0aGlzLm1hc2tFbGVtZW50KSksdGhpcy52aWV3RGF0YS5sZW5ndGgmJnRoaXMuZWxlbWVudC5hZGRSZW5kZXJhYmxlQ29tcG9uZW50KHRoaXMpfWZ1bmN0aW9uIEhpZXJhcmNoeUVsZW1lbnQoKXt9ZnVuY3Rpb24gRnJhbWVFbGVtZW50KCl7fWZ1bmN0aW9uIFRyYW5zZm9ybUVsZW1lbnQoKXt9ZnVuY3Rpb24gUmVuZGVyYWJsZUVsZW1lbnQoKXt9ZnVuY3Rpb24gUmVuZGVyYWJsZURPTUVsZW1lbnQoKXt9ZnVuY3Rpb24gUHJvY2Vzc2VkRWxlbWVudCh0LGUpe3RoaXMuZWxlbT10LHRoaXMucG9zPWV9ZnVuY3Rpb24gU1ZHU3R5bGVEYXRhKHQsZSl7dGhpcy5kYXRhPXQsdGhpcy50eXBlPXQudHksdGhpcy5kPSIiLHRoaXMubHZsPWUsdGhpcy5fbWRmPSExLHRoaXMuY2xvc2VkPSEwPT09dC5oZCx0aGlzLnBFbGVtPWNyZWF0ZU5TKCJwYXRoIiksdGhpcy5tc0VsZW09bnVsbH1mdW5jdGlvbiBTVkdTaGFwZURhdGEodCxlLHIpe3RoaXMuY2FjaGVzPVtdLHRoaXMuc3R5bGVzPVtdLHRoaXMudHJhbnNmb3JtZXJzPXQsdGhpcy5sU3RyPSIiLHRoaXMuc2g9cix0aGlzLmx2bD1lLHRoaXMuX2lzQW5pbWF0ZWQ9ISFyLms7Zm9yKHZhciBpPTAscz10Lmxlbmd0aDtpPHM7KXtpZih0W2ldLm1Qcm9wcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGgpe3RoaXMuX2lzQW5pbWF0ZWQ9ITA7YnJlYWt9aSs9MX19ZnVuY3Rpb24gU1ZHVHJhbnNmb3JtRGF0YSh0LGUscil7dGhpcy50cmFuc2Zvcm09e21Qcm9wczp0LG9wOmUsY29udGFpbmVyOnJ9LHRoaXMuZWxlbWVudHM9W10sdGhpcy5faXNBbmltYXRlZD10aGlzLnRyYW5zZm9ybS5tUHJvcHMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RofHx0aGlzLnRyYW5zZm9ybS5vcC5lZmZlY3RzU2VxdWVuY2UubGVuZ3RofWZ1bmN0aW9uIFNWR1N0cm9rZVN0eWxlRGF0YSh0LGUscil7dGhpcy5pbml0RHluYW1pY1Byb3BlcnR5Q29udGFpbmVyKHQpLHRoaXMuZ2V0VmFsdWU9dGhpcy5pdGVyYXRlRHluYW1pY1Byb3BlcnRpZXMsdGhpcy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5vLDAsLjAxLHRoaXMpLHRoaXMudz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUudywwLG51bGwsdGhpcyksdGhpcy5kPW5ldyBEYXNoUHJvcGVydHkodCxlLmR8fHt9LCJzdmciLHRoaXMpLHRoaXMuYz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuYywxLDI1NSx0aGlzKSx0aGlzLnN0eWxlPXIsdGhpcy5faXNBbmltYXRlZD0hIXRoaXMuX2lzQW5pbWF0ZWR9ZnVuY3Rpb24gU1ZHRmlsbFN0eWxlRGF0YSh0LGUscil7dGhpcy5pbml0RHluYW1pY1Byb3BlcnR5Q29udGFpbmVyKHQpLHRoaXMuZ2V0VmFsdWU9dGhpcy5pdGVyYXRlRHluYW1pY1Byb3BlcnRpZXMsdGhpcy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5vLDAsLjAxLHRoaXMpLHRoaXMuYz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuYywxLDI1NSx0aGlzKSx0aGlzLnN0eWxlPXJ9ZnVuY3Rpb24gU1ZHR3JhZGllbnRGaWxsU3R5bGVEYXRhKHQsZSxyKXt0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIodCksdGhpcy5nZXRWYWx1ZT10aGlzLml0ZXJhdGVEeW5hbWljUHJvcGVydGllcyx0aGlzLmluaXRHcmFkaWVudERhdGEodCxlLHIpfWZ1bmN0aW9uIFNWR0dyYWRpZW50U3Ryb2tlU3R5bGVEYXRhKHQsZSxyKXt0aGlzLmluaXREeW5hbWljUHJvcGVydHlDb250YWluZXIodCksdGhpcy5nZXRWYWx1ZT10aGlzLml0ZXJhdGVEeW5hbWljUHJvcGVydGllcyx0aGlzLnc9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLncsMCxudWxsLHRoaXMpLHRoaXMuZD1uZXcgRGFzaFByb3BlcnR5KHQsZS5kfHx7fSwic3ZnIix0aGlzKSx0aGlzLmluaXRHcmFkaWVudERhdGEodCxlLHIpLHRoaXMuX2lzQW5pbWF0ZWQ9ISF0aGlzLl9pc0FuaW1hdGVkfWZ1bmN0aW9uIFNoYXBlR3JvdXBEYXRhKCl7dGhpcy5pdD1bXSx0aGlzLnByZXZWaWV3RGF0YT1bXSx0aGlzLmdyPWNyZWF0ZU5TKCJnIil9QmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jaGVja0xheWVycz1mdW5jdGlvbih0KXt2YXIgZSxyLGk9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0aGlzLmNvbXBsZXRlTGF5ZXJzPSEwLGU9aS0xOzA8PWU7ZS09MSl0aGlzLmVsZW1lbnRzW2VdfHwocj10aGlzLmxheWVyc1tlXSkuaXAtci5zdDw9dC10aGlzLmxheWVyc1tlXS5zdCYmci5vcC1yLnN0PnQtdGhpcy5sYXllcnNbZV0uc3QmJnRoaXMuYnVpbGRJdGVtKGUpLHRoaXMuY29tcGxldGVMYXllcnM9ISF0aGlzLmVsZW1lbnRzW2VdJiZ0aGlzLmNvbXBsZXRlTGF5ZXJzO3RoaXMuY2hlY2tQZW5kaW5nRWxlbWVudHMoKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJdGVtPWZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5KXtjYXNlIDI6cmV0dXJuIHRoaXMuY3JlYXRlSW1hZ2UodCk7Y2FzZSAwOnJldHVybiB0aGlzLmNyZWF0ZUNvbXAodCk7Y2FzZSAxOnJldHVybiB0aGlzLmNyZWF0ZVNvbGlkKHQpO2Nhc2UgMzpyZXR1cm4gdGhpcy5jcmVhdGVOdWxsKHQpO2Nhc2UgNDpyZXR1cm4gdGhpcy5jcmVhdGVTaGFwZSh0KTtjYXNlIDU6cmV0dXJuIHRoaXMuY3JlYXRlVGV4dCh0KTtjYXNlIDY6cmV0dXJuIHRoaXMuY3JlYXRlQXVkaW8odCk7Y2FzZSAxMzpyZXR1cm4gdGhpcy5jcmVhdGVDYW1lcmEodCk7Y2FzZSAxNTpyZXR1cm4gdGhpcy5jcmVhdGVGb290YWdlKHQpO2RlZmF1bHQ6cmV0dXJuIHRoaXMuY3JlYXRlTnVsbCh0KX19LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlQ2FtZXJhPWZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCJZb3UncmUgdXNpbmcgYSAzZCBjYW1lcmEuIFRyeSB0aGUgaHRtbCByZW5kZXJlci4iKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVBdWRpbz1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IEF1ZGlvRWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVGb290YWdlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgRm9vdGFnZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRBbGxJdGVtcz1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0PTA7dDxlO3QrPTEpdGhpcy5idWlsZEl0ZW0odCk7dGhpcy5jaGVja1BlbmRpbmdFbGVtZW50cygpfSxCYXNlUmVuZGVyZXIucHJvdG90eXBlLmluY2x1ZGVMYXllcnM9ZnVuY3Rpb24odCl7dmFyIGU7dGhpcy5jb21wbGV0ZUxheWVycz0hMTt2YXIgcixpPXQubGVuZ3RoLHM9dGhpcy5sYXllcnMubGVuZ3RoO2ZvcihlPTA7ZTxpO2UrPTEpZm9yKHI9MDtyPHM7KXtpZih0aGlzLmxheWVyc1tyXS5pZD09PXRbZV0uaWQpe3RoaXMubGF5ZXJzW3JdPXRbZV07YnJlYWt9cis9MX19LEJhc2VSZW5kZXJlci5wcm90b3R5cGUuc2V0UHJvamVjdEludGVyZmFjZT1mdW5jdGlvbih0KXt0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZT10fSxCYXNlUmVuZGVyZXIucHJvdG90eXBlLmluaXRJdGVtcz1mdW5jdGlvbigpe3RoaXMuZ2xvYmFsRGF0YS5wcm9ncmVzc2l2ZUxvYWR8fHRoaXMuYnVpbGRBbGxJdGVtcygpfSxCYXNlUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRWxlbWVudFBhcmVudGluZz1mdW5jdGlvbih0LGUscil7Zm9yKHZhciBpPXRoaXMuZWxlbWVudHMscz10aGlzLmxheWVycyxhPTAsbj1zLmxlbmd0aDthPG47KXNbYV0uaW5kPT1lJiYoaVthXSYmITAhPT1pW2FdPyhyLnB1c2goaVthXSksaVthXS5zZXRBc1BhcmVudCgpLHZvaWQgMCE9PXNbYV0ucGFyZW50P3RoaXMuYnVpbGRFbGVtZW50UGFyZW50aW5nKHQsc1thXS5wYXJlbnQscik6dC5zZXRIaWVyYXJjaHkocikpOih0aGlzLmJ1aWxkSXRlbShhKSx0aGlzLmFkZFBlbmRpbmdFbGVtZW50KHQpKSksYSs9MX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5hZGRQZW5kaW5nRWxlbWVudD1mdW5jdGlvbih0KXt0aGlzLnBlbmRpbmdFbGVtZW50cy5wdXNoKHQpfSxCYXNlUmVuZGVyZXIucHJvdG90eXBlLnNlYXJjaEV4dHJhQ29tcG9zaXRpb25zPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSlpZih0W2VdLnh0KXt2YXIgaT10aGlzLmNyZWF0ZUNvbXAodFtlXSk7aS5pbml0RXhwcmVzc2lvbnMoKSx0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5yZWdpc3RlckNvbXBvc2l0aW9uKGkpfX0sQmFzZVJlbmRlcmVyLnByb3RvdHlwZS5zZXR1cEdsb2JhbERhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXI9bmV3IEZvbnRNYW5hZ2VyLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyxlKSx0aGlzLmdsb2JhbERhdGEuZ2V0QXNzZXREYXRhPXRoaXMuYW5pbWF0aW9uSXRlbS5nZXRBc3NldERhdGEuYmluZCh0aGlzLmFuaW1hdGlvbkl0ZW0pLHRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoPXRoaXMuYW5pbWF0aW9uSXRlbS5nZXRBc3NldHNQYXRoLmJpbmQodGhpcy5hbmltYXRpb25JdGVtKSx0aGlzLmdsb2JhbERhdGEuaW1hZ2VMb2FkZXI9dGhpcy5hbmltYXRpb25JdGVtLmltYWdlUHJlbG9hZGVyLHRoaXMuZ2xvYmFsRGF0YS5hdWRpb0NvbnRyb2xsZXI9dGhpcy5hbmltYXRpb25JdGVtLmF1ZGlvQ29udHJvbGxlcix0aGlzLmdsb2JhbERhdGEuZnJhbWVJZD0wLHRoaXMuZ2xvYmFsRGF0YS5mcmFtZVJhdGU9dC5mcix0aGlzLmdsb2JhbERhdGEubm09dC5ubSx0aGlzLmdsb2JhbERhdGEuY29tcFNpemU9e3c6dC53LGg6dC5ofX0sZXh0ZW5kUHJvdG90eXBlKFtCYXNlUmVuZGVyZXJdLFNWR1JlbmRlcmVyKSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlTnVsbD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IE51bGxFbGVtZW50KHQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxTVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBTVkdTaGFwZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU1ZHVGV4dExvdHRpZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVJbWFnZT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IElJbWFnZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb21wPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgU1ZHQ29tcEVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTb2xpZD1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IElTb2xpZEVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5jb25maWdBbmltYXRpb249ZnVuY3Rpb24odCl7dGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgieG1sbnMiLCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIpLHRoaXMucmVuZGVyQ29uZmlnLnZpZXdCb3hTaXplP3RoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLHRoaXMucmVuZGVyQ29uZmlnLnZpZXdCb3hTaXplKTp0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCJ2aWV3Qm94IiwiMCAwICIrdC53KyIgIit0LmgpLHRoaXMucmVuZGVyQ29uZmlnLnZpZXdCb3hPbmx5fHwodGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgid2lkdGgiLHQudyksdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0LmgpLHRoaXMuc3ZnRWxlbWVudC5zdHlsZS53aWR0aD0iMTAwJSIsdGhpcy5zdmdFbGVtZW50LnN0eWxlLmhlaWdodD0iMTAwJSIsdGhpcy5zdmdFbGVtZW50LnN0eWxlLnRyYW5zZm9ybT0idHJhbnNsYXRlM2QoMCwwLDApIix0aGlzLnN2Z0VsZW1lbnQuc3R5bGUuY29udGVudFZpc2liaWxpdHk9dGhpcy5yZW5kZXJDb25maWcuY29udGVudFZpc2liaWxpdHkpLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSYmdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgiY2xhc3MiLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSksdGhpcy5yZW5kZXJDb25maWcuaWQmJnRoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoImlkIix0aGlzLnJlbmRlckNvbmZpZy5pZCksdm9pZCAwIT09dGhpcy5yZW5kZXJDb25maWcuZm9jdXNhYmxlJiZ0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCJmb2N1c2FibGUiLHRoaXMucmVuZGVyQ29uZmlnLmZvY3VzYWJsZSksdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgicHJlc2VydmVBc3BlY3RSYXRpbyIsdGhpcy5yZW5kZXJDb25maWcucHJlc2VydmVBc3BlY3RSYXRpbyksdGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5zdmdFbGVtZW50KTt2YXIgZT10aGlzLmdsb2JhbERhdGEuZGVmczt0aGlzLnNldHVwR2xvYmFsRGF0YSh0LGUpLHRoaXMuZ2xvYmFsRGF0YS5wcm9ncmVzc2l2ZUxvYWQ9dGhpcy5yZW5kZXJDb25maWcucHJvZ3Jlc3NpdmVMb2FkLHRoaXMuZGF0YT10O3ZhciByPWNyZWF0ZU5TKCJjbGlwUGF0aCIpLGk9Y3JlYXRlTlMoInJlY3QiKTtpLnNldEF0dHJpYnV0ZSgid2lkdGgiLHQudyksaS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdC5oKSxpLnNldEF0dHJpYnV0ZSgieCIsMCksaS5zZXRBdHRyaWJ1dGUoInkiLDApO3ZhciBzPWNyZWF0ZUVsZW1lbnRJRCgpO3Iuc2V0QXR0cmlidXRlKCJpZCIscyksci5hcHBlbmRDaGlsZChpKSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsaXAtcGF0aCIsInVybCgiK2xvY2F0aW9uSHJlZisiIyIrcysiKSIpLGUuYXBwZW5kQ2hpbGQociksdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5lbGVtZW50cz1jcmVhdGVTaXplZEFycmF5KHQubGF5ZXJzLmxlbmd0aCl9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXImJih0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5pbm5lclRleHQ9IiIpLHRoaXMubGF5ZXJFbGVtZW50PW51bGwsdGhpcy5nbG9iYWxEYXRhLmRlZnM9bnVsbDt2YXIgZT10aGlzLmxheWVycz90aGlzLmxheWVycy5sZW5ndGg6MDtmb3IodD0wO3Q8ZTt0Kz0xKXRoaXMuZWxlbWVudHNbdF0mJnRoaXMuZWxlbWVudHNbdF0uZGVzdHJveSgpO3RoaXMuZWxlbWVudHMubGVuZ3RoPTAsdGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5hbmltYXRpb25JdGVtPW51bGx9LFNWR1JlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVDb250YWluZXJTaXplPWZ1bmN0aW9uKCl7fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHM7aWYoIWVbdF0mJjk5IT09dGhpcy5sYXllcnNbdF0udHkpe2VbdF09ITA7dmFyIHI9dGhpcy5jcmVhdGVJdGVtKHRoaXMubGF5ZXJzW3RdKTtlW3RdPXIsZXhwcmVzc2lvbnNQbHVnaW4mJigwPT09dGhpcy5sYXllcnNbdF0udHkmJnRoaXMuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24ociksci5pbml0RXhwcmVzc2lvbnMoKSksdGhpcy5hcHBlbmRFbGVtZW50SW5Qb3Mocix0KSx0aGlzLmxheWVyc1t0XS50dCYmKHRoaXMuZWxlbWVudHNbdC0xXSYmITAhPT10aGlzLmVsZW1lbnRzW3QtMV0/ci5zZXRNYXR0ZShlW3QtMV0ubGF5ZXJJZCk6KHRoaXMuYnVpbGRJdGVtKHQtMSksdGhpcy5hZGRQZW5kaW5nRWxlbWVudChyKSkpfX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ0VsZW1lbnRzPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLnBlbmRpbmdFbGVtZW50cy5sZW5ndGg7KXt2YXIgdD10aGlzLnBlbmRpbmdFbGVtZW50cy5wb3AoKTtpZih0LmNoZWNrUGFyZW50aW5nKCksdC5kYXRhLnR0KWZvcih2YXIgZT0wLHI9dGhpcy5lbGVtZW50cy5sZW5ndGg7ZTxyOyl7aWYodGhpcy5lbGVtZW50c1tlXT09PXQpe3Quc2V0TWF0dGUodGhpcy5lbGVtZW50c1tlLTFdLmxheWVySWQpO2JyZWFrfWUrPTF9fX0sU1ZHUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHRoaXMucmVuZGVyZWRGcmFtZSE9PXQmJiF0aGlzLmRlc3Ryb3llZCl7dmFyIGU7bnVsbD09PXQ/dD10aGlzLnJlbmRlcmVkRnJhbWU6dGhpcy5yZW5kZXJlZEZyYW1lPXQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lTnVtPXQsdGhpcy5nbG9iYWxEYXRhLmZyYW1lSWQrPTEsdGhpcy5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UuY3VycmVudEZyYW1lPXQsdGhpcy5nbG9iYWxEYXRhLl9tZGY9ITE7dmFyIHI9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmNoZWNrTGF5ZXJzKHQpLGU9ci0xOzA8PWU7ZS09MSkodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tlXSkmJnRoaXMuZWxlbWVudHNbZV0ucHJlcGFyZUZyYW1lKHQtdGhpcy5sYXllcnNbZV0uc3QpO2lmKHRoaXMuZ2xvYmFsRGF0YS5fbWRmKWZvcihlPTA7ZTxyO2UrPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbZV0pJiZ0aGlzLmVsZW1lbnRzW2VdLnJlbmRlckZyYW1lKCl9fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuYXBwZW5kRWxlbWVudEluUG9zPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dC5nZXRCYXNlRWxlbWVudCgpO2lmKHIpe2Zvcih2YXIgaSxzPTA7czxlOyl0aGlzLmVsZW1lbnRzW3NdJiYhMCE9PXRoaXMuZWxlbWVudHNbc10mJnRoaXMuZWxlbWVudHNbc10uZ2V0QmFzZUVsZW1lbnQoKSYmKGk9dGhpcy5lbGVtZW50c1tzXS5nZXRCYXNlRWxlbWVudCgpKSxzKz0xO2k/dGhpcy5sYXllckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHIsaSk6dGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQocil9fSxTVkdSZW5kZXJlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9Im5vbmUifSxTVkdSZW5kZXJlci5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMubGF5ZXJFbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0sZXh0ZW5kUHJvdG90eXBlKFtCYXNlUmVuZGVyZXJdLENhbnZhc1JlbmRlcmVyKSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU2hhcGU9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVlNoYXBlRWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVRleHQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVlRleHRFbGVtZW50KHQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlSW1hZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVkltYWdlRWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUNvbXA9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVkNvbXBFbGVtZW50KHQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlU29saWQ9ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBDVlNvbGlkRWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZU51bGw9U1ZHUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZU51bGwsQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLmN0eFRyYW5zZm9ybT1mdW5jdGlvbih0KXtpZigxIT09dFswXXx8MCE9PXRbMV18fDAhPT10WzRdfHwxIT09dFs1XXx8MCE9PXRbMTJdfHwwIT09dFsxM10paWYodGhpcy5yZW5kZXJDb25maWcuY2xlYXJDYW52YXMpe3RoaXMudHJhbnNmb3JtTWF0LmNsb25lRnJvbVByb3BzKHQpO3ZhciBlPXRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzO3RoaXMudHJhbnNmb3JtTWF0LnRyYW5zZm9ybShlWzBdLGVbMV0sZVsyXSxlWzNdLGVbNF0sZVs1XSxlWzZdLGVbN10sZVs4XSxlWzldLGVbMTBdLGVbMTFdLGVbMTJdLGVbMTNdLGVbMTRdLGVbMTVdKSx0aGlzLmNvbnRleHREYXRhLmNUci5jbG9uZUZyb21Qcm9wcyh0aGlzLnRyYW5zZm9ybU1hdC5wcm9wcyk7dmFyIHI9dGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHM7dGhpcy5jYW52YXNDb250ZXh0LnNldFRyYW5zZm9ybShyWzBdLHJbMV0scls0XSxyWzVdLHJbMTJdLHJbMTNdKX1lbHNlIHRoaXMuY2FudmFzQ29udGV4dC50cmFuc2Zvcm0odFswXSx0WzFdLHRbNF0sdFs1XSx0WzEyXSx0WzEzXSl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jdHhPcGFjaXR5PWZ1bmN0aW9uKHQpe2lmKCF0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcylyZXR1cm4gdGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhKj10PDA/MDp0LHZvaWQodGhpcy5nbG9iYWxEYXRhLmN1cnJlbnRHbG9iYWxBbHBoYT10aGlzLmNvbnRleHREYXRhLmNPKTt0aGlzLmNvbnRleHREYXRhLmNPKj10PDA/MDp0LHRoaXMuZ2xvYmFsRGF0YS5jdXJyZW50R2xvYmFsQWxwaGEhPT10aGlzLmNvbnRleHREYXRhLmNPJiYodGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhPXRoaXMuY29udGV4dERhdGEuY08sdGhpcy5nbG9iYWxEYXRhLmN1cnJlbnRHbG9iYWxBbHBoYT10aGlzLmNvbnRleHREYXRhLmNPKX0sQ2FudmFzUmVuZGVyZXIucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJDb25maWcuY2xlYXJDYW52YXM/dGhpcy5jb250ZXh0RGF0YS5yZXNldCgpOnRoaXMuY2FudmFzQ29udGV4dC5yZXN0b3JlKCl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zYXZlPWZ1bmN0aW9uKHQpe2lmKHRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzKXt0JiZ0aGlzLmNhbnZhc0NvbnRleHQuc2F2ZSgpO3ZhciBlLHI9dGhpcy5jb250ZXh0RGF0YS5jVHIucHJvcHM7dGhpcy5jb250ZXh0RGF0YS5fbGVuZ3RoPD10aGlzLmNvbnRleHREYXRhLmNBcnJQb3MmJnRoaXMuY29udGV4dERhdGEuZHVwbGljYXRlKCk7dmFyIGk9dGhpcy5jb250ZXh0RGF0YS5zYXZlZFt0aGlzLmNvbnRleHREYXRhLmNBcnJQb3NdO2ZvcihlPTA7ZTwxNjtlKz0xKWlbZV09cltlXTt0aGlzLmNvbnRleHREYXRhLnNhdmVkT3BbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXT10aGlzLmNvbnRleHREYXRhLmNPLHRoaXMuY29udGV4dERhdGEuY0FyclBvcys9MX1lbHNlIHRoaXMuY2FudmFzQ29udGV4dC5zYXZlKCl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5yZXN0b3JlPWZ1bmN0aW9uKHQpe2lmKHRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzKXt0JiYodGhpcy5jYW52YXNDb250ZXh0LnJlc3RvcmUoKSx0aGlzLmdsb2JhbERhdGEuYmxlbmRNb2RlPSJzb3VyY2Utb3ZlciIpLHRoaXMuY29udGV4dERhdGEuY0FyclBvcy09MTt2YXIgZSxyPXRoaXMuY29udGV4dERhdGEuc2F2ZWRbdGhpcy5jb250ZXh0RGF0YS5jQXJyUG9zXSxpPXRoaXMuY29udGV4dERhdGEuY1RyLnByb3BzO2ZvcihlPTA7ZTwxNjtlKz0xKWlbZV09cltlXTt0aGlzLmNhbnZhc0NvbnRleHQuc2V0VHJhbnNmb3JtKHJbMF0sclsxXSxyWzRdLHJbNV0sclsxMl0sclsxM10pLHI9dGhpcy5jb250ZXh0RGF0YS5zYXZlZE9wW3RoaXMuY29udGV4dERhdGEuY0FyclBvc10sdGhpcy5jb250ZXh0RGF0YS5jTz1yLHRoaXMuZ2xvYmFsRGF0YS5jdXJyZW50R2xvYmFsQWxwaGEhPT1yJiYodGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbEFscGhhPXIsdGhpcy5nbG9iYWxEYXRhLmN1cnJlbnRHbG9iYWxBbHBoYT1yKX1lbHNlIHRoaXMuY2FudmFzQ29udGV4dC5yZXN0b3JlKCl9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5jb25maWdBbmltYXRpb249ZnVuY3Rpb24odCl7aWYodGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIpe3RoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXI9Y3JlYXRlVGFnKCJjYW52YXMiKTt2YXIgZT10aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnN0eWxlO2Uud2lkdGg9IjEwMCUiLGUuaGVpZ2h0PSIxMDAlIjt2YXIgcj0iMHB4IDBweCAwcHgiO2UudHJhbnNmb3JtT3JpZ2luPXIsZS5tb3pUcmFuc2Zvcm1PcmlnaW49cixlLndlYmtpdFRyYW5zZm9ybU9yaWdpbj1yLGVbIi13ZWJraXQtdHJhbnNmb3JtIl09cixlLmNvbnRlbnRWaXNpYmlsaXR5PXRoaXMucmVuZGVyQ29uZmlnLmNvbnRlbnRWaXNpYmlsaXR5LHRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIpLHRoaXMuY2FudmFzQ29udGV4dD10aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLmdldENvbnRleHQoIjJkIiksdGhpcy5yZW5kZXJDb25maWcuY2xhc3NOYW1lJiZ0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSksdGhpcy5yZW5kZXJDb25maWcuaWQmJnRoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc2V0QXR0cmlidXRlKCJpZCIsdGhpcy5yZW5kZXJDb25maWcuaWQpfWVsc2UgdGhpcy5jYW52YXNDb250ZXh0PXRoaXMucmVuZGVyQ29uZmlnLmNvbnRleHQ7dGhpcy5kYXRhPXQsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy50cmFuc2Zvcm1DYW52YXM9e3c6dC53LGg6dC5oLHN4OjAsc3k6MCx0eDowLHR5OjB9LHRoaXMuc2V0dXBHbG9iYWxEYXRhKHQsZG9jdW1lbnQuYm9keSksdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQ9dGhpcy5jYW52YXNDb250ZXh0LCh0aGlzLmdsb2JhbERhdGEucmVuZGVyZXI9dGhpcykuZ2xvYmFsRGF0YS5pc0Rhc2hlZD0hMSx0aGlzLmdsb2JhbERhdGEucHJvZ3Jlc3NpdmVMb2FkPXRoaXMucmVuZGVyQ29uZmlnLnByb2dyZXNzaXZlTG9hZCx0aGlzLmdsb2JhbERhdGEudHJhbnNmb3JtQ2FudmFzPXRoaXMudHJhbnNmb3JtQ2FudmFzLHRoaXMuZWxlbWVudHM9Y3JlYXRlU2l6ZWRBcnJheSh0LmxheWVycy5sZW5ndGgpLHRoaXMudXBkYXRlQ29udGFpbmVyU2l6ZSgpfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUudXBkYXRlQ29udGFpbmVyU2l6ZT1mdW5jdGlvbigpe3ZhciB0LGUscixpO2lmKHRoaXMucmVzZXQoKSx0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlciYmdGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lcj8odD10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5vZmZzZXRXaWR0aCxlPXRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLm9mZnNldEhlaWdodCx0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnNldEF0dHJpYnV0ZSgid2lkdGgiLHQqdGhpcy5yZW5kZXJDb25maWcuZHByKSx0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixlKnRoaXMucmVuZGVyQ29uZmlnLmRwcikpOih0PXRoaXMuY2FudmFzQ29udGV4dC5jYW52YXMud2lkdGgqdGhpcy5yZW5kZXJDb25maWcuZHByLGU9dGhpcy5jYW52YXNDb250ZXh0LmNhbnZhcy5oZWlnaHQqdGhpcy5yZW5kZXJDb25maWcuZHByKSwtMSE9PXRoaXMucmVuZGVyQ29uZmlnLnByZXNlcnZlQXNwZWN0UmF0aW8uaW5kZXhPZigibWVldCIpfHwtMSE9PXRoaXMucmVuZGVyQ29uZmlnLnByZXNlcnZlQXNwZWN0UmF0aW8uaW5kZXhPZigic2xpY2UiKSl7dmFyIHM9dGhpcy5yZW5kZXJDb25maWcucHJlc2VydmVBc3BlY3RSYXRpby5zcGxpdCgiICIpLGE9c1sxXXx8Im1lZXQiLG49c1swXXx8InhNaWRZTWlkIixvPW4uc3Vic3RyKDAsNCksaD1uLnN1YnN0cig0KTtyPXQvZSxpPXRoaXMudHJhbnNmb3JtQ2FudmFzLncvdGhpcy50cmFuc2Zvcm1DYW52YXMuaCx0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeT1yPGkmJiJtZWV0Ij09PWF8fGk8ciYmInNsaWNlIj09PWE/KHRoaXMudHJhbnNmb3JtQ2FudmFzLnN4PXQvKHRoaXMudHJhbnNmb3JtQ2FudmFzLncvdGhpcy5yZW5kZXJDb25maWcuZHByKSx0Lyh0aGlzLnRyYW5zZm9ybUNhbnZhcy53L3RoaXMucmVuZGVyQ29uZmlnLmRwcikpOih0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeD1lLyh0aGlzLnRyYW5zZm9ybUNhbnZhcy5oL3RoaXMucmVuZGVyQ29uZmlnLmRwciksZS8odGhpcy50cmFuc2Zvcm1DYW52YXMuaC90aGlzLnJlbmRlckNvbmZpZy5kcHIpKSx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eD0ieE1pZCI9PT1vJiYoaTxyJiYibWVldCI9PT1hfHxyPGkmJiJzbGljZSI9PT1hKT8odC10aGlzLnRyYW5zZm9ybUNhbnZhcy53KihlL3RoaXMudHJhbnNmb3JtQ2FudmFzLmgpKS8yKnRoaXMucmVuZGVyQ29uZmlnLmRwcjoieE1heCI9PT1vJiYoaTxyJiYibWVldCI9PT1hfHxyPGkmJiJzbGljZSI9PT1hKT8odC10aGlzLnRyYW5zZm9ybUNhbnZhcy53KihlL3RoaXMudHJhbnNmb3JtQ2FudmFzLmgpKSp0aGlzLnJlbmRlckNvbmZpZy5kcHI6MCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eT0iWU1pZCI9PT1oJiYocjxpJiYibWVldCI9PT1hfHxpPHImJiJzbGljZSI9PT1hKT8oZS10aGlzLnRyYW5zZm9ybUNhbnZhcy5oKih0L3RoaXMudHJhbnNmb3JtQ2FudmFzLncpKS8yKnRoaXMucmVuZGVyQ29uZmlnLmRwcjoiWU1heCI9PT1oJiYocjxpJiYibWVldCI9PT1hfHxpPHImJiJzbGljZSI9PT1hKT8oZS10aGlzLnRyYW5zZm9ybUNhbnZhcy5oKih0L3RoaXMudHJhbnNmb3JtQ2FudmFzLncpKSp0aGlzLnJlbmRlckNvbmZpZy5kcHI6MH1lbHNlIm5vbmUiPT09dGhpcy5yZW5kZXJDb25maWcucHJlc2VydmVBc3BlY3RSYXRpbz8odGhpcy50cmFuc2Zvcm1DYW52YXMuc3g9dC8odGhpcy50cmFuc2Zvcm1DYW52YXMudy90aGlzLnJlbmRlckNvbmZpZy5kcHIpLHRoaXMudHJhbnNmb3JtQ2FudmFzLnN5PWUvKHRoaXMudHJhbnNmb3JtQ2FudmFzLmgvdGhpcy5yZW5kZXJDb25maWcuZHByKSk6KHRoaXMudHJhbnNmb3JtQ2FudmFzLnN4PXRoaXMucmVuZGVyQ29uZmlnLmRwcix0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeT10aGlzLnJlbmRlckNvbmZpZy5kcHIpLHRoaXMudHJhbnNmb3JtQ2FudmFzLnR4PTAsdGhpcy50cmFuc2Zvcm1DYW52YXMudHk9MDt0aGlzLnRyYW5zZm9ybUNhbnZhcy5wcm9wcz1bdGhpcy50cmFuc2Zvcm1DYW52YXMuc3gsMCwwLDAsMCx0aGlzLnRyYW5zZm9ybUNhbnZhcy5zeSwwLDAsMCwwLDEsMCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eCx0aGlzLnRyYW5zZm9ybUNhbnZhcy50eSwwLDFdLHRoaXMuY3R4VHJhbnNmb3JtKHRoaXMudHJhbnNmb3JtQ2FudmFzLnByb3BzKSx0aGlzLmNhbnZhc0NvbnRleHQuYmVnaW5QYXRoKCksdGhpcy5jYW52YXNDb250ZXh0LnJlY3QoMCwwLHRoaXMudHJhbnNmb3JtQ2FudmFzLncsdGhpcy50cmFuc2Zvcm1DYW52YXMuaCksdGhpcy5jYW52YXNDb250ZXh0LmNsb3NlUGF0aCgpLHRoaXMuY2FudmFzQ29udGV4dC5jbGlwKCksdGhpcy5yZW5kZXJGcmFtZSh0aGlzLnJlbmRlcmVkRnJhbWUsITApfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0O2Zvcih0aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcyYmdGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXImJih0aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5pbm5lclRleHQ9IiIpLHQ9KHRoaXMubGF5ZXJzP3RoaXMubGF5ZXJzLmxlbmd0aDowKS0xOzA8PXQ7dC09MSl0aGlzLmVsZW1lbnRzW3RdJiZ0aGlzLmVsZW1lbnRzW3RdLmRlc3Ryb3koKTt0aGlzLmVsZW1lbnRzLmxlbmd0aD0wLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0PW51bGwsdGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lcj1udWxsLHRoaXMuZGVzdHJveWVkPSEwfSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCxlKXtpZigodGhpcy5yZW5kZXJlZEZyYW1lIT09dHx8ITAhPT10aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhc3x8ZSkmJiF0aGlzLmRlc3Ryb3llZCYmLTEhPT10KXt2YXIgcjt0aGlzLnJlbmRlcmVkRnJhbWU9dCx0aGlzLmdsb2JhbERhdGEuZnJhbWVOdW09dC10aGlzLmFuaW1hdGlvbkl0ZW0uX2lzRmlyc3RGcmFtZSx0aGlzLmdsb2JhbERhdGEuZnJhbWVJZCs9MSx0aGlzLmdsb2JhbERhdGEuX21kZj0hdGhpcy5yZW5kZXJDb25maWcuY2xlYXJDYW52YXN8fGUsdGhpcy5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UuY3VycmVudEZyYW1lPXQ7dmFyIGk9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmNoZWNrTGF5ZXJzKHQpLHI9MDtyPGk7cis9MSkodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tyXSkmJnRoaXMuZWxlbWVudHNbcl0ucHJlcGFyZUZyYW1lKHQtdGhpcy5sYXllcnNbcl0uc3QpO2lmKHRoaXMuZ2xvYmFsRGF0YS5fbWRmKXtmb3IoITA9PT10aGlzLnJlbmRlckNvbmZpZy5jbGVhckNhbnZhcz90aGlzLmNhbnZhc0NvbnRleHQuY2xlYXJSZWN0KDAsMCx0aGlzLnRyYW5zZm9ybUNhbnZhcy53LHRoaXMudHJhbnNmb3JtQ2FudmFzLmgpOnRoaXMuc2F2ZSgpLHI9aS0xOzA8PXI7ci09MSkodGhpcy5jb21wbGV0ZUxheWVyc3x8dGhpcy5lbGVtZW50c1tyXSkmJnRoaXMuZWxlbWVudHNbcl0ucmVuZGVyRnJhbWUoKTshMCE9PXRoaXMucmVuZGVyQ29uZmlnLmNsZWFyQ2FudmFzJiZ0aGlzLnJlc3RvcmUoKX19fSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWxlbWVudHM7aWYoIWVbdF0mJjk5IT09dGhpcy5sYXllcnNbdF0udHkpe3ZhciByPXRoaXMuY3JlYXRlSXRlbSh0aGlzLmxheWVyc1t0XSx0aGlzLHRoaXMuZ2xvYmFsRGF0YSk7KGVbdF09cikuaW5pdEV4cHJlc3Npb25zKCl9fSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuY2hlY2tQZW5kaW5nRWxlbWVudHM9ZnVuY3Rpb24oKXtmb3IoO3RoaXMucGVuZGluZ0VsZW1lbnRzLmxlbmd0aDspe3RoaXMucGVuZGluZ0VsZW1lbnRzLnBvcCgpLmNoZWNrUGFyZW50aW5nKCl9fSxDYW52YXNSZW5kZXJlci5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uSXRlbS5jb250YWluZXIuc3R5bGUuZGlzcGxheT0ibm9uZSJ9LENhbnZhc1JlbmRlcmVyLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7dGhpcy5hbmltYXRpb25JdGVtLmNvbnRhaW5lci5zdHlsZS5kaXNwbGF5PSJibG9jayJ9LGV4dGVuZFByb3RvdHlwZShbQmFzZVJlbmRlcmVyXSxIeWJyaWRSZW5kZXJlciksSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkSXRlbT1TVkdSZW5kZXJlci5wcm90b3R5cGUuYnVpbGRJdGVtLEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jaGVja1BlbmRpbmdFbGVtZW50cz1mdW5jdGlvbigpe2Zvcig7dGhpcy5wZW5kaW5nRWxlbWVudHMubGVuZ3RoOyl7dGhpcy5wZW5kaW5nRWxlbWVudHMucG9wKCkuY2hlY2tQYXJlbnRpbmcoKX19LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5hcHBlbmRFbGVtZW50SW5Qb3M9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmdldEJhc2VFbGVtZW50KCk7aWYocil7dmFyIGk9dGhpcy5sYXllcnNbZV07aWYoaS5kZGQmJnRoaXMuc3VwcG9ydHMzZCl0aGlzLmFkZFRvM2RDb250YWluZXIocixlKTtlbHNlIGlmKHRoaXMudGhyZWVERWxlbWVudHMpdGhpcy5hZGRUbzNkQ29udGFpbmVyKHIsZSk7ZWxzZXtmb3IodmFyIHMsYSxuPTA7bjxlOyl0aGlzLmVsZW1lbnRzW25dJiYhMCE9PXRoaXMuZWxlbWVudHNbbl0mJnRoaXMuZWxlbWVudHNbbl0uZ2V0QmFzZUVsZW1lbnQmJihhPXRoaXMuZWxlbWVudHNbbl0scz0odGhpcy5sYXllcnNbbl0uZGRkP3RoaXMuZ2V0VGhyZWVEQ29udGFpbmVyQnlQb3Mobik6YS5nZXRCYXNlRWxlbWVudCgpKXx8cyksbis9MTtzP2kuZGRkJiZ0aGlzLnN1cHBvcnRzM2R8fHRoaXMubGF5ZXJFbGVtZW50Lmluc2VydEJlZm9yZShyLHMpOmkuZGRkJiZ0aGlzLnN1cHBvcnRzM2R8fHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHIpfX19LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTaGFwZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBIU2hhcGVFbGVtZW50KHQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBTVkdTaGFwZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVUZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1cHBvcnRzM2Q/bmV3IEhUZXh0RWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKTpuZXcgU1ZHVGV4dExvdHRpZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDYW1lcmE9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY2FtZXJhPW5ldyBIQ2FtZXJhRWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKSx0aGlzLmNhbWVyYX0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZUltYWdlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1cHBvcnRzM2Q/bmV3IEhJbWFnZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyk6bmV3IElJbWFnZUVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVDb21wPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnN1cHBvcnRzM2Q/bmV3IEhDb21wRWxlbWVudCh0LHRoaXMuZ2xvYmFsRGF0YSx0aGlzKTpuZXcgU1ZHQ29tcEVsZW1lbnQodCx0aGlzLmdsb2JhbERhdGEsdGhpcyl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5jcmVhdGVTb2xpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdXBwb3J0czNkP25ldyBIU29saWRFbGVtZW50KHQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpOm5ldyBJU29saWRFbGVtZW50KHQsdGhpcy5nbG9iYWxEYXRhLHRoaXMpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlTnVsbD1TVkdSZW5kZXJlci5wcm90b3R5cGUuY3JlYXRlTnVsbCxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuZ2V0VGhyZWVEQ29udGFpbmVyQnlQb3M9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTAscj10aGlzLnRocmVlREVsZW1lbnRzLmxlbmd0aDtlPHI7KXtpZih0aGlzLnRocmVlREVsZW1lbnRzW2VdLnN0YXJ0UG9zPD10JiZ0aGlzLnRocmVlREVsZW1lbnRzW2VdLmVuZFBvcz49dClyZXR1cm4gdGhpcy50aHJlZURFbGVtZW50c1tlXS5wZXJzcGVjdGl2ZUVsZW07ZSs9MX1yZXR1cm4gbnVsbH0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmNyZWF0ZVRocmVlRENvbnRhaW5lcj1mdW5jdGlvbih0LGUpe3ZhciByLGkscz1jcmVhdGVUYWcoImRpdiIpO3N0eWxlRGl2KHMpO3ZhciBhPWNyZWF0ZVRhZygiZGl2Iik7aWYoc3R5bGVEaXYoYSksIjNkIj09PWUpeyhyPXMuc3R5bGUpLndpZHRoPXRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53KyJweCIsci5oZWlnaHQ9dGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgrInB4Ijt2YXIgbj0iNTAlIDUwJSI7ci53ZWJraXRUcmFuc2Zvcm1PcmlnaW49bixyLm1velRyYW5zZm9ybU9yaWdpbj1uLHIudHJhbnNmb3JtT3JpZ2luPW47dmFyIG89Im1hdHJpeDNkKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpIjsoaT1hLnN0eWxlKS50cmFuc2Zvcm09byxpLndlYmtpdFRyYW5zZm9ybT1vfXMuYXBwZW5kQ2hpbGQoYSk7dmFyIGg9e2NvbnRhaW5lcjphLHBlcnNwZWN0aXZlRWxlbTpzLHN0YXJ0UG9zOnQsZW5kUG9zOnQsdHlwZTplfTtyZXR1cm4gdGhpcy50aHJlZURFbGVtZW50cy5wdXNoKGgpLGh9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5idWlsZDNkQ29udGFpbmVycz1mdW5jdGlvbigpe3ZhciB0LGUscj10aGlzLmxheWVycy5sZW5ndGgsaT0iIjtmb3IodD0wO3Q8cjt0Kz0xKXRoaXMubGF5ZXJzW3RdLmRkZCYmMyE9PXRoaXMubGF5ZXJzW3RdLnR5PyIzZCIhPT1pJiYoaT0iM2QiLGU9dGhpcy5jcmVhdGVUaHJlZURDb250YWluZXIodCwiM2QiKSk6IjJkIiE9PWkmJihpPSIyZCIsZT10aGlzLmNyZWF0ZVRocmVlRENvbnRhaW5lcih0LCIyZCIpKSxlLmVuZFBvcz1NYXRoLm1heChlLmVuZFBvcyx0KTtmb3IodD0ocj10aGlzLnRocmVlREVsZW1lbnRzLmxlbmd0aCktMTswPD10O3QtPTEpdGhpcy5yZXNpemVyRWxlbS5hcHBlbmRDaGlsZCh0aGlzLnRocmVlREVsZW1lbnRzW3RdLnBlcnNwZWN0aXZlRWxlbSl9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5hZGRUbzNkQ29udGFpbmVyPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPTAsaT10aGlzLnRocmVlREVsZW1lbnRzLmxlbmd0aDtyPGk7KXtpZihlPD10aGlzLnRocmVlREVsZW1lbnRzW3JdLmVuZFBvcyl7Zm9yKHZhciBzLGE9dGhpcy50aHJlZURFbGVtZW50c1tyXS5zdGFydFBvczthPGU7KXRoaXMuZWxlbWVudHNbYV0mJnRoaXMuZWxlbWVudHNbYV0uZ2V0QmFzZUVsZW1lbnQmJihzPXRoaXMuZWxlbWVudHNbYV0uZ2V0QmFzZUVsZW1lbnQoKSksYSs9MTtzP3RoaXMudGhyZWVERWxlbWVudHNbcl0uY29udGFpbmVyLmluc2VydEJlZm9yZSh0LHMpOnRoaXMudGhyZWVERWxlbWVudHNbcl0uY29udGFpbmVyLmFwcGVuZENoaWxkKHQpO2JyZWFrfXIrPTF9fSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuY29uZmlnQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe3ZhciBlPWNyZWF0ZVRhZygiZGl2Iikscj10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlcixpPWUuc3R5bGU7aS53aWR0aD10LncrInB4IixpLmhlaWdodD10LmgrInB4IixzdHlsZURpdih0aGlzLnJlc2l6ZXJFbGVtPWUpLGkudHJhbnNmb3JtU3R5bGU9ImZsYXQiLGkubW96VHJhbnNmb3JtU3R5bGU9ImZsYXQiLGkud2Via2l0VHJhbnNmb3JtU3R5bGU9ImZsYXQiLHRoaXMucmVuZGVyQ29uZmlnLmNsYXNzTmFtZSYmZS5zZXRBdHRyaWJ1dGUoImNsYXNzIix0aGlzLnJlbmRlckNvbmZpZy5jbGFzc05hbWUpLHIuYXBwZW5kQ2hpbGQoZSksaS5vdmVyZmxvdz0iaGlkZGVuIjt2YXIgcz1jcmVhdGVOUygic3ZnIik7cy5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMSIpLHMuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxIiksc3R5bGVEaXYocyksdGhpcy5yZXNpemVyRWxlbS5hcHBlbmRDaGlsZChzKTt2YXIgYT1jcmVhdGVOUygiZGVmcyIpO3MuYXBwZW5kQ2hpbGQoYSksdGhpcy5kYXRhPXQsdGhpcy5zZXR1cEdsb2JhbERhdGEodCxzKSx0aGlzLmdsb2JhbERhdGEuZGVmcz1hLHRoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMubGF5ZXJFbGVtZW50PXRoaXMucmVzaXplckVsZW0sdGhpcy5idWlsZDNkQ29udGFpbmVycygpLHRoaXMudXBkYXRlQ29udGFpbmVyU2l6ZSgpfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0O3RoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyJiYodGhpcy5hbmltYXRpb25JdGVtLndyYXBwZXIuaW5uZXJUZXh0PSIiKSx0aGlzLmFuaW1hdGlvbkl0ZW0uY29udGFpbmVyPW51bGwsdGhpcy5nbG9iYWxEYXRhLmRlZnM9bnVsbDt2YXIgZT10aGlzLmxheWVycz90aGlzLmxheWVycy5sZW5ndGg6MDtmb3IodD0wO3Q8ZTt0Kz0xKXRoaXMuZWxlbWVudHNbdF0uZGVzdHJveSgpO3RoaXMuZWxlbWVudHMubGVuZ3RoPTAsdGhpcy5kZXN0cm95ZWQ9ITAsdGhpcy5hbmltYXRpb25JdGVtPW51bGx9LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS51cGRhdGVDb250YWluZXJTaXplPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGkscz10aGlzLmFuaW1hdGlvbkl0ZW0ud3JhcHBlci5vZmZzZXRXaWR0aCxhPXRoaXMuYW5pbWF0aW9uSXRlbS53cmFwcGVyLm9mZnNldEhlaWdodDtpPXMvYTx0aGlzLmdsb2JhbERhdGEuY29tcFNpemUudy90aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaD8odD1zL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53LGU9cy90aGlzLmdsb2JhbERhdGEuY29tcFNpemUudyxyPTAsKGEtdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgqKHMvdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncpKS8yKToodD1hL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oLGU9YS90aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCxyPShzLXRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53KihhL3RoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oKSkvMiwwKTt2YXIgbj10aGlzLnJlc2l6ZXJFbGVtLnN0eWxlO24ud2Via2l0VHJhbnNmb3JtPSJtYXRyaXgzZCgiK3QrIiwwLDAsMCwwLCIrZSsiLDAsMCwwLDAsMSwwLCIrcisiLCIraSsiLDAsMSkiLG4udHJhbnNmb3JtPW4ud2Via2l0VHJhbnNmb3JtfSxIeWJyaWRSZW5kZXJlci5wcm90b3R5cGUucmVuZGVyRnJhbWU9U1ZHUmVuZGVyZXIucHJvdG90eXBlLnJlbmRlckZyYW1lLEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5yZXNpemVyRWxlbS5zdHlsZS5kaXNwbGF5PSJub25lIn0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt0aGlzLnJlc2l6ZXJFbGVtLnN0eWxlLmRpc3BsYXk9ImJsb2NrIn0sSHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmluaXRJdGVtcz1mdW5jdGlvbigpe2lmKHRoaXMuYnVpbGRBbGxJdGVtcygpLHRoaXMuY2FtZXJhKXRoaXMuY2FtZXJhLnNldHVwKCk7ZWxzZXt2YXIgdCxlPXRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53LHI9dGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgsaT10aGlzLnRocmVlREVsZW1lbnRzLmxlbmd0aDtmb3IodD0wO3Q8aTt0Kz0xKXt2YXIgcz10aGlzLnRocmVlREVsZW1lbnRzW3RdLnBlcnNwZWN0aXZlRWxlbS5zdHlsZTtzLndlYmtpdFBlcnNwZWN0aXZlPU1hdGguc3FydChNYXRoLnBvdyhlLDIpK01hdGgucG93KHIsMikpKyJweCIscy5wZXJzcGVjdGl2ZT1zLndlYmtpdFBlcnNwZWN0aXZlfX19LEh5YnJpZFJlbmRlcmVyLnByb3RvdHlwZS5zZWFyY2hFeHRyYUNvbXBvc2l0aW9ucz1mdW5jdGlvbih0KXt2YXIgZSxyPXQubGVuZ3RoLGk9Y3JlYXRlVGFnKCJkaXYiKTtmb3IoZT0wO2U8cjtlKz0xKWlmKHRbZV0ueHQpe3ZhciBzPXRoaXMuY3JlYXRlQ29tcCh0W2VdLGksdGhpcy5nbG9iYWxEYXRhLmNvbXAsbnVsbCk7cy5pbml0RXhwcmVzc2lvbnMoKSx0aGlzLmdsb2JhbERhdGEucHJvamVjdEludGVyZmFjZS5yZWdpc3RlckNvbXBvc2l0aW9uKHMpfX0sTWFza0VsZW1lbnQucHJvdG90eXBlLmdldE1hc2tQcm9wZXJ0eT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52aWV3RGF0YVt0XS5wcm9wfSxNYXNrRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7dmFyIGUscj10aGlzLmVsZW1lbnQuZmluYWxUcmFuc2Zvcm0ubWF0LGk9dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihlPTA7ZTxpO2UrPTEpaWYoKHRoaXMudmlld0RhdGFbZV0ucHJvcC5fbWRmfHx0KSYmdGhpcy5kcmF3UGF0aCh0aGlzLm1hc2tzUHJvcGVydGllc1tlXSx0aGlzLnZpZXdEYXRhW2VdLnByb3Audix0aGlzLnZpZXdEYXRhW2VdKSwodGhpcy52aWV3RGF0YVtlXS5vcC5fbWRmfHx0KSYmdGhpcy52aWV3RGF0YVtlXS5lbGVtLnNldEF0dHJpYnV0ZSgiZmlsbC1vcGFjaXR5Iix0aGlzLnZpZXdEYXRhW2VdLm9wLnYpLCJuIiE9PXRoaXMubWFza3NQcm9wZXJ0aWVzW2VdLm1vZGUmJih0aGlzLnZpZXdEYXRhW2VdLmludlJlY3QmJih0aGlzLmVsZW1lbnQuZmluYWxUcmFuc2Zvcm0ubVByb3AuX21kZnx8dCkmJnRoaXMudmlld0RhdGFbZV0uaW52UmVjdC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsci5nZXRJbnZlcnNlTWF0cml4KCkudG8yZENTUygpKSx0aGlzLnN0b3JlZERhdGFbZV0ueCYmKHRoaXMuc3RvcmVkRGF0YVtlXS54Ll9tZGZ8fHQpKSl7dmFyIHM9dGhpcy5zdG9yZWREYXRhW2VdLmV4cGFuO3RoaXMuc3RvcmVkRGF0YVtlXS54LnY8MD8oImVyb2RlIiE9PXRoaXMuc3RvcmVkRGF0YVtlXS5sYXN0T3BlcmF0b3ImJih0aGlzLnN0b3JlZERhdGFbZV0ubGFzdE9wZXJhdG9yPSJlcm9kZSIsdGhpcy5zdG9yZWREYXRhW2VdLmVsZW0uc2V0QXR0cmlidXRlKCJmaWx0ZXIiLCJ1cmwoIitsb2NhdGlvbkhyZWYrIiMiK3RoaXMuc3RvcmVkRGF0YVtlXS5maWx0ZXJJZCsiKSIpKSxzLnNldEF0dHJpYnV0ZSgicmFkaXVzIiwtdGhpcy5zdG9yZWREYXRhW2VdLngudikpOigiZGlsYXRlIiE9PXRoaXMuc3RvcmVkRGF0YVtlXS5sYXN0T3BlcmF0b3ImJih0aGlzLnN0b3JlZERhdGFbZV0ubGFzdE9wZXJhdG9yPSJkaWxhdGUiLHRoaXMuc3RvcmVkRGF0YVtlXS5lbGVtLnNldEF0dHJpYnV0ZSgiZmlsdGVyIixudWxsKSksdGhpcy5zdG9yZWREYXRhW2VdLmVsZW0uc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLDIqdGhpcy5zdG9yZWREYXRhW2VdLngudikpfX0sTWFza0VsZW1lbnQucHJvdG90eXBlLmdldE1hc2tlbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFza0VsZW1lbnR9LE1hc2tFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVMYXllclNvbGlkUGF0aD1mdW5jdGlvbigpe3ZhciB0PSJNMCwwICI7cmV0dXJuIHQrPSIgaCIrdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLncsdCs9IiB2Iit0aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCx0Kz0iIGgtIit0aGlzLmdsb2JhbERhdGEuY29tcFNpemUudyx0Kz0iIHYtIit0aGlzLmdsb2JhbERhdGEuY29tcFNpemUuaCsiICJ9LE1hc2tFbGVtZW50LnByb3RvdHlwZS5kcmF3UGF0aD1mdW5jdGlvbih0LGUscil7dmFyIGkscyxhPSIgTSIrZS52WzBdWzBdKyIsIitlLnZbMF1bMV07Zm9yKHM9ZS5fbGVuZ3RoLGk9MTtpPHM7aSs9MSlhKz0iIEMiK2Uub1tpLTFdWzBdKyIsIitlLm9baS0xXVsxXSsiICIrZS5pW2ldWzBdKyIsIitlLmlbaV1bMV0rIiAiK2UudltpXVswXSsiLCIrZS52W2ldWzFdO2lmKGUuYyYmMTxzJiYoYSs9IiBDIitlLm9baS0xXVswXSsiLCIrZS5vW2ktMV1bMV0rIiAiK2UuaVswXVswXSsiLCIrZS5pWzBdWzFdKyIgIitlLnZbMF1bMF0rIiwiK2UudlswXVsxXSksci5sYXN0UGF0aCE9PWEpe3ZhciBuPSIiO3IuZWxlbSYmKGUuYyYmKG49dC5pbnY/dGhpcy5zb2xpZFBhdGgrYTphKSxyLmVsZW0uc2V0QXR0cmlidXRlKCJkIixuKSksci5sYXN0UGF0aD1hfX0sTWFza0VsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQ9bnVsbCx0aGlzLmdsb2JhbERhdGE9bnVsbCx0aGlzLm1hc2tFbGVtZW50PW51bGwsdGhpcy5kYXRhPW51bGwsdGhpcy5tYXNrc1Byb3BlcnRpZXM9bnVsbH0sSGllcmFyY2h5RWxlbWVudC5wcm90b3R5cGU9e2luaXRIaWVyYXJjaHk6ZnVuY3Rpb24oKXt0aGlzLmhpZXJhcmNoeT1bXSx0aGlzLl9pc1BhcmVudD0hMSx0aGlzLmNoZWNrUGFyZW50aW5nKCl9LHNldEhpZXJhcmNoeTpmdW5jdGlvbih0KXt0aGlzLmhpZXJhcmNoeT10fSxzZXRBc1BhcmVudDpmdW5jdGlvbigpe3RoaXMuX2lzUGFyZW50PSEwfSxjaGVja1BhcmVudGluZzpmdW5jdGlvbigpe3ZvaWQgMCE9PXRoaXMuZGF0YS5wYXJlbnQmJnRoaXMuY29tcC5idWlsZEVsZW1lbnRQYXJlbnRpbmcodGhpcyx0aGlzLmRhdGEucGFyZW50LFtdKX19LEZyYW1lRWxlbWVudC5wcm90b3R5cGU9e2luaXRGcmFtZTpmdW5jdGlvbigpe3RoaXMuX2lzRmlyc3RGcmFtZT0hMSx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzPVtdLHRoaXMuX21kZj0hMX0scHJlcGFyZVByb3BlcnRpZXM6ZnVuY3Rpb24odCxlKXt2YXIgcixpPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihyPTA7cjxpO3IrPTEpKGV8fHRoaXMuX2lzUGFyZW50JiYidHJhbnNmb3JtIj09PXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbcl0ucHJvcFR5cGUpJiYodGhpcy5keW5hbWljUHJvcGVydGllc1tyXS5nZXRWYWx1ZSgpLHRoaXMuZHluYW1pY1Byb3BlcnRpZXNbcl0uX21kZiYmKHRoaXMuZ2xvYmFsRGF0YS5fbWRmPSEwLHRoaXMuX21kZj0hMCkpfSxhZGREeW5hbWljUHJvcGVydHk6ZnVuY3Rpb24odCl7LTE9PT10aGlzLmR5bmFtaWNQcm9wZXJ0aWVzLmluZGV4T2YodCkmJnRoaXMuZHluYW1pY1Byb3BlcnRpZXMucHVzaCh0KX19LFRyYW5zZm9ybUVsZW1lbnQucHJvdG90eXBlPXtpbml0VHJhbnNmb3JtOmZ1bmN0aW9uKCl7dGhpcy5maW5hbFRyYW5zZm9ybT17bVByb3A6dGhpcy5kYXRhLmtzP1RyYW5zZm9ybVByb3BlcnR5RmFjdG9yeS5nZXRUcmFuc2Zvcm1Qcm9wZXJ0eSh0aGlzLHRoaXMuZGF0YS5rcyx0aGlzKTp7bzowfSxfbWF0TWRmOiExLF9vcE1kZjohMSxtYXQ6bmV3IE1hdHJpeH0sdGhpcy5kYXRhLmFvJiYodGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5hdXRvT3JpZW50ZWQ9ITApLHRoaXMuZGF0YS50eX0scmVuZGVyVHJhbnNmb3JtOmZ1bmN0aW9uKCl7aWYodGhpcy5maW5hbFRyYW5zZm9ybS5fb3BNZGY9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5vLl9tZGZ8fHRoaXMuX2lzRmlyc3RGcmFtZSx0aGlzLmZpbmFsVHJhbnNmb3JtLl9tYXRNZGY9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5fbWRmfHx0aGlzLl9pc0ZpcnN0RnJhbWUsdGhpcy5oaWVyYXJjaHkpe3ZhciB0LGU9dGhpcy5maW5hbFRyYW5zZm9ybS5tYXQscj0wLGk9dGhpcy5oaWVyYXJjaHkubGVuZ3RoO2lmKCF0aGlzLmZpbmFsVHJhbnNmb3JtLl9tYXRNZGYpZm9yKDtyPGk7KXtpZih0aGlzLmhpZXJhcmNoeVtyXS5maW5hbFRyYW5zZm9ybS5tUHJvcC5fbWRmKXt0aGlzLmZpbmFsVHJhbnNmb3JtLl9tYXRNZGY9ITA7YnJlYWt9cis9MX1pZih0aGlzLmZpbmFsVHJhbnNmb3JtLl9tYXRNZGYpZm9yKHQ9dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC52LnByb3BzLGUuY2xvbmVGcm9tUHJvcHModCkscj0wO3I8aTtyKz0xKXQ9dGhpcy5oaWVyYXJjaHlbcl0uZmluYWxUcmFuc2Zvcm0ubVByb3Audi5wcm9wcyxlLnRyYW5zZm9ybSh0WzBdLHRbMV0sdFsyXSx0WzNdLHRbNF0sdFs1XSx0WzZdLHRbN10sdFs4XSx0WzldLHRbMTBdLHRbMTFdLHRbMTJdLHRbMTNdLHRbMTRdLHRbMTVdKX19LGdsb2JhbFRvTG9jYWw6ZnVuY3Rpb24odCl7dmFyIGU9W107ZS5wdXNoKHRoaXMuZmluYWxUcmFuc2Zvcm0pO2Zvcih2YXIgcixpPSEwLHM9dGhpcy5jb21wO2k7KXMuZmluYWxUcmFuc2Zvcm0/KHMuZGF0YS5oYXNNYXNrJiZlLnNwbGljZSgwLDAscy5maW5hbFRyYW5zZm9ybSkscz1zLmNvbXApOmk9ITE7dmFyIGEsbj1lLmxlbmd0aDtmb3Iocj0wO3I8bjtyKz0xKWE9ZVtyXS5tYXQuYXBwbHlUb1BvaW50QXJyYXkoMCwwLDApLHQ9W3RbMF0tYVswXSx0WzFdLWFbMV0sMF07cmV0dXJuIHR9LG1IZWxwZXI6bmV3IE1hdHJpeH0sUmVuZGVyYWJsZUVsZW1lbnQucHJvdG90eXBlPXtpbml0UmVuZGVyYWJsZTpmdW5jdGlvbigpe3RoaXMuaXNJblJhbmdlPSExLHRoaXMuaGlkZGVuPSExLHRoaXMuaXNUcmFuc3BhcmVudD0hMSx0aGlzLnJlbmRlcmFibGVDb21wb25lbnRzPVtdfSxhZGRSZW5kZXJhYmxlQ29tcG9uZW50OmZ1bmN0aW9uKHQpey0xPT09dGhpcy5yZW5kZXJhYmxlQ29tcG9uZW50cy5pbmRleE9mKHQpJiZ0aGlzLnJlbmRlcmFibGVDb21wb25lbnRzLnB1c2godCl9LHJlbW92ZVJlbmRlcmFibGVDb21wb25lbnQ6ZnVuY3Rpb24odCl7LTEhPT10aGlzLnJlbmRlcmFibGVDb21wb25lbnRzLmluZGV4T2YodCkmJnRoaXMucmVuZGVyYWJsZUNvbXBvbmVudHMuc3BsaWNlKHRoaXMucmVuZGVyYWJsZUNvbXBvbmVudHMuaW5kZXhPZih0KSwxKX0scHJlcGFyZVJlbmRlcmFibGVGcmFtZTpmdW5jdGlvbih0KXt0aGlzLmNoZWNrTGF5ZXJMaW1pdHModCl9LGNoZWNrVHJhbnNwYXJlbmN5OmZ1bmN0aW9uKCl7dGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5vLnY8PTA/IXRoaXMuaXNUcmFuc3BhcmVudCYmdGhpcy5nbG9iYWxEYXRhLnJlbmRlckNvbmZpZy5oaWRlT25UcmFuc3BhcmVudCYmKHRoaXMuaXNUcmFuc3BhcmVudD0hMCx0aGlzLmhpZGUoKSk6dGhpcy5pc1RyYW5zcGFyZW50JiYodGhpcy5pc1RyYW5zcGFyZW50PSExLHRoaXMuc2hvdygpKX0sY2hlY2tMYXllckxpbWl0czpmdW5jdGlvbih0KXt0aGlzLmRhdGEuaXAtdGhpcy5kYXRhLnN0PD10JiZ0aGlzLmRhdGEub3AtdGhpcy5kYXRhLnN0PnQ/ITAhPT10aGlzLmlzSW5SYW5nZSYmKHRoaXMuZ2xvYmFsRGF0YS5fbWRmPSEwLHRoaXMuX21kZj0hMCx0aGlzLmlzSW5SYW5nZT0hMCx0aGlzLnNob3coKSk6ITEhPT10aGlzLmlzSW5SYW5nZSYmKHRoaXMuZ2xvYmFsRGF0YS5fbWRmPSEwLHRoaXMuaXNJblJhbmdlPSExLHRoaXMuaGlkZSgpKX0scmVuZGVyUmVuZGVyYWJsZTpmdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5yZW5kZXJhYmxlQ29tcG9uZW50cy5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSl0aGlzLnJlbmRlcmFibGVDb21wb25lbnRzW3RdLnJlbmRlckZyYW1lKHRoaXMuX2lzRmlyc3RGcmFtZSl9LHNvdXJjZVJlY3RBdFRpbWU6ZnVuY3Rpb24oKXtyZXR1cm57dG9wOjAsbGVmdDowLHdpZHRoOjEwMCxoZWlnaHQ6MTAwfX0sZ2V0TGF5ZXJTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIDU9PT10aGlzLmRhdGEudHk/e3c6dGhpcy5kYXRhLnRleHREYXRhLndpZHRoLGg6dGhpcy5kYXRhLnRleHREYXRhLmhlaWdodH06e3c6dGhpcy5kYXRhLndpZHRoLGg6dGhpcy5kYXRhLmhlaWdodH19fSxleHRlbmRQcm90b3R5cGUoW1JlbmRlcmFibGVFbGVtZW50LGNyZWF0ZVByb3h5RnVuY3Rpb24oe2luaXRFbGVtZW50OmZ1bmN0aW9uKHQsZSxyKXt0aGlzLmluaXRGcmFtZSgpLHRoaXMuaW5pdEJhc2VEYXRhKHQsZSxyKSx0aGlzLmluaXRUcmFuc2Zvcm0odCxlLHIpLHRoaXMuaW5pdEhpZXJhcmNoeSgpLHRoaXMuaW5pdFJlbmRlcmFibGUoKSx0aGlzLmluaXRSZW5kZXJlckVsZW1lbnQoKSx0aGlzLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnRzKCksdGhpcy5jcmVhdGVSZW5kZXJhYmxlQ29tcG9uZW50cygpLHRoaXMuY3JlYXRlQ29udGVudCgpLHRoaXMuaGlkZSgpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5oaWRkZW58fHRoaXMuaXNJblJhbmdlJiYhdGhpcy5pc1RyYW5zcGFyZW50fHwoKHRoaXMuYmFzZUVsZW1lbnR8fHRoaXMubGF5ZXJFbGVtZW50KS5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLmhpZGRlbj0hMCl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLmlzSW5SYW5nZSYmIXRoaXMuaXNUcmFuc3BhcmVudCYmKHRoaXMuZGF0YS5oZHx8KCh0aGlzLmJhc2VFbGVtZW50fHx0aGlzLmxheWVyRWxlbWVudCkuc3R5bGUuZGlzcGxheT0iYmxvY2siKSx0aGlzLmhpZGRlbj0hMSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITApfSxyZW5kZXJGcmFtZTpmdW5jdGlvbigpe3RoaXMuZGF0YS5oZHx8dGhpcy5oaWRkZW58fCh0aGlzLnJlbmRlclRyYW5zZm9ybSgpLHRoaXMucmVuZGVyUmVuZGVyYWJsZSgpLHRoaXMucmVuZGVyRWxlbWVudCgpLHRoaXMucmVuZGVySW5uZXJDb250ZW50KCksdGhpcy5faXNGaXJzdEZyYW1lJiYodGhpcy5faXNGaXJzdEZyYW1lPSExKSl9LHJlbmRlcklubmVyQ29udGVudDpmdW5jdGlvbigpe30scHJlcGFyZUZyYW1lOmZ1bmN0aW9uKHQpe3RoaXMuX21kZj0hMSx0aGlzLnByZXBhcmVSZW5kZXJhYmxlRnJhbWUodCksdGhpcy5wcmVwYXJlUHJvcGVydGllcyh0LHRoaXMuaXNJblJhbmdlKSx0aGlzLmNoZWNrVHJhbnNwYXJlbmN5KCl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmlubmVyRWxlbT1udWxsLHRoaXMuZGVzdHJveUJhc2VFbGVtZW50KCl9fSldLFJlbmRlcmFibGVET01FbGVtZW50KSxTVkdTdHlsZURhdGEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5kPSIiLHRoaXMuX21kZj0hMX0sU1ZHU2hhcGVEYXRhLnByb3RvdHlwZS5zZXRBc0FuaW1hdGVkPWZ1bmN0aW9uKCl7dGhpcy5faXNBbmltYXRlZD0hMH0sZXh0ZW5kUHJvdG90eXBlKFtEeW5hbWljUHJvcGVydHlDb250YWluZXJdLFNWR1N0cm9rZVN0eWxlRGF0YSksZXh0ZW5kUHJvdG90eXBlKFtEeW5hbWljUHJvcGVydHlDb250YWluZXJdLFNWR0ZpbGxTdHlsZURhdGEpLFNWR0dyYWRpZW50RmlsbFN0eWxlRGF0YS5wcm90b3R5cGUuaW5pdEdyYWRpZW50RGF0YT1mdW5jdGlvbih0LGUscil7dGhpcy5vPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5vLDAsLjAxLHRoaXMpLHRoaXMucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUucywxLG51bGwsdGhpcyksdGhpcy5lPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHQsZS5lLDEsbnVsbCx0aGlzKSx0aGlzLmg9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodCxlLmh8fHtrOjB9LDAsLjAxLHRoaXMpLHRoaXMuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0LGUuYXx8e2s6MH0sMCxkZWdUb1JhZHMsdGhpcyksdGhpcy5nPW5ldyBHcmFkaWVudFByb3BlcnR5KHQsZS5nLHRoaXMpLHRoaXMuc3R5bGU9cix0aGlzLnN0b3BzPVtdLHRoaXMuc2V0R3JhZGllbnREYXRhKHIucEVsZW0sZSksdGhpcy5zZXRHcmFkaWVudE9wYWNpdHkoZSxyKSx0aGlzLl9pc0FuaW1hdGVkPSEhdGhpcy5faXNBbmltYXRlZH0sU1ZHR3JhZGllbnRGaWxsU3R5bGVEYXRhLnByb3RvdHlwZS5zZXRHcmFkaWVudERhdGE9ZnVuY3Rpb24odCxlKXt2YXIgcj1jcmVhdGVFbGVtZW50SUQoKSxpPWNyZWF0ZU5TKDE9PT1lLnQ/ImxpbmVhckdyYWRpZW50IjoicmFkaWFsR3JhZGllbnQiKTtpLnNldEF0dHJpYnV0ZSgiaWQiLHIpLGkuc2V0QXR0cmlidXRlKCJzcHJlYWRNZXRob2QiLCJwYWQiKSxpLnNldEF0dHJpYnV0ZSgiZ3JhZGllbnRVbml0cyIsInVzZXJTcGFjZU9uVXNlIik7dmFyIHMsYSxuLG89W107Zm9yKG49NCplLmcucCxhPTA7YTxuO2ErPTQpcz1jcmVhdGVOUygic3RvcCIpLGkuYXBwZW5kQ2hpbGQocyksby5wdXNoKHMpO3Quc2V0QXR0cmlidXRlKCJnZiI9PT1lLnR5PyJmaWxsIjoic3Ryb2tlIiwidXJsKCIrbG9jYXRpb25IcmVmKyIjIityKyIpIiksdGhpcy5nZj1pLHRoaXMuY3N0PW99LFNWR0dyYWRpZW50RmlsbFN0eWxlRGF0YS5wcm90b3R5cGUuc2V0R3JhZGllbnRPcGFjaXR5PWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5nLl9oYXNPcGFjaXR5JiYhdGhpcy5nLl9jb2xsYXBzYWJsZSl7dmFyIHIsaSxzLGE9Y3JlYXRlTlMoIm1hc2siKSxuPWNyZWF0ZU5TKCJwYXRoIik7YS5hcHBlbmRDaGlsZChuKTt2YXIgbz1jcmVhdGVFbGVtZW50SUQoKSxoPWNyZWF0ZUVsZW1lbnRJRCgpO2Euc2V0QXR0cmlidXRlKCJpZCIsaCk7dmFyIGw9Y3JlYXRlTlMoMT09PXQudD8ibGluZWFyR3JhZGllbnQiOiJyYWRpYWxHcmFkaWVudCIpO2wuc2V0QXR0cmlidXRlKCJpZCIsbyksbC5zZXRBdHRyaWJ1dGUoInNwcmVhZE1ldGhvZCIsInBhZCIpLGwuc2V0QXR0cmlidXRlKCJncmFkaWVudFVuaXRzIiwidXNlclNwYWNlT25Vc2UiKSxzPXQuZy5rLmtbMF0ucz90Lmcuay5rWzBdLnMubGVuZ3RoOnQuZy5rLmsubGVuZ3RoO3ZhciBwPXRoaXMuc3RvcHM7Zm9yKGk9NCp0LmcucDtpPHM7aSs9Mikocj1jcmVhdGVOUygic3RvcCIpKS5zZXRBdHRyaWJ1dGUoInN0b3AtY29sb3IiLCJyZ2IoMjU1LDI1NSwyNTUpIiksbC5hcHBlbmRDaGlsZChyKSxwLnB1c2gocik7bi5zZXRBdHRyaWJ1dGUoImdmIj09PXQudHk/ImZpbGwiOiJzdHJva2UiLCJ1cmwoIitsb2NhdGlvbkhyZWYrIiMiK28rIikiKSwiZ3MiPT09dC50eSYmKG4uc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsbGluZUNhcEVudW1bdC5sY3x8Ml0pLG4uc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWpvaW4iLGxpbmVKb2luRW51bVt0LmxqfHwyXSksMT09PXQubGomJm4uc2V0QXR0cmlidXRlKCJzdHJva2UtbWl0ZXJsaW1pdCIsdC5tbCkpLHRoaXMub2Y9bCx0aGlzLm1zPWEsdGhpcy5vc3Q9cCx0aGlzLm1hc2tJZD1oLGUubXNFbGVtPW59fSxleHRlbmRQcm90b3R5cGUoW0R5bmFtaWNQcm9wZXJ0eUNvbnRhaW5lcl0sU1ZHR3JhZGllbnRGaWxsU3R5bGVEYXRhKSxleHRlbmRQcm90b3R5cGUoW1NWR0dyYWRpZW50RmlsbFN0eWxlRGF0YSxEeW5hbWljUHJvcGVydHlDb250YWluZXJdLFNWR0dyYWRpZW50U3Ryb2tlU3R5bGVEYXRhKTt2YXIgU1ZHRWxlbWVudHNSZW5kZXJlcj1mdW5jdGlvbigpe3ZhciB5PW5ldyBNYXRyaXgsZz1uZXcgTWF0cml4O2Z1bmN0aW9uIGUodCxlLHIpeyhyfHxlLnRyYW5zZm9ybS5vcC5fbWRmKSYmZS50cmFuc2Zvcm0uY29udGFpbmVyLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsZS50cmFuc2Zvcm0ub3AudiksKHJ8fGUudHJhbnNmb3JtLm1Qcm9wcy5fbWRmKSYmZS50cmFuc2Zvcm0uY29udGFpbmVyLnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIixlLnRyYW5zZm9ybS5tUHJvcHMudi50bzJkQ1NTKCkpfWZ1bmN0aW9uIHIodCxlLHIpe3ZhciBpLHMsYSxuLG8saCxsLHAsbSxmLGMsZD1lLnN0eWxlcy5sZW5ndGgsdT1lLmx2bDtmb3IoaD0wO2g8ZDtoKz0xKXtpZihuPWUuc2guX21kZnx8cixlLnN0eWxlc1toXS5sdmw8dSl7Zm9yKHA9Zy5yZXNldCgpLGY9dS1lLnN0eWxlc1toXS5sdmwsYz1lLnRyYW5zZm9ybWVycy5sZW5ndGgtMTshbiYmMDxmOyluPWUudHJhbnNmb3JtZXJzW2NdLm1Qcm9wcy5fbWRmfHxuLGYtPTEsYy09MTtpZihuKWZvcihmPXUtZS5zdHlsZXNbaF0ubHZsLGM9ZS50cmFuc2Zvcm1lcnMubGVuZ3RoLTE7MDxmOyltPWUudHJhbnNmb3JtZXJzW2NdLm1Qcm9wcy52LnByb3BzLHAudHJhbnNmb3JtKG1bMF0sbVsxXSxtWzJdLG1bM10sbVs0XSxtWzVdLG1bNl0sbVs3XSxtWzhdLG1bOV0sbVsxMF0sbVsxMV0sbVsxMl0sbVsxM10sbVsxNF0sbVsxNV0pLGYtPTEsYy09MX1lbHNlIHA9eTtpZihzPShsPWUuc2gucGF0aHMpLl9sZW5ndGgsbil7Zm9yKGE9IiIsaT0wO2k8cztpKz0xKShvPWwuc2hhcGVzW2ldKSYmby5fbGVuZ3RoJiYoYSs9YnVpbGRTaGFwZVN0cmluZyhvLG8uX2xlbmd0aCxvLmMscCkpO2UuY2FjaGVzW2hdPWF9ZWxzZSBhPWUuY2FjaGVzW2hdO2Uuc3R5bGVzW2hdLmQrPSEwPT09dC5oZD8iIjphLGUuc3R5bGVzW2hdLl9tZGY9bnx8ZS5zdHlsZXNbaF0uX21kZn19ZnVuY3Rpb24gaSh0LGUscil7dmFyIGk9ZS5zdHlsZTsoZS5jLl9tZGZ8fHIpJiZpLnBFbGVtLnNldEF0dHJpYnV0ZSgiZmlsbCIsInJnYigiK2JtRmxvb3IoZS5jLnZbMF0pKyIsIitibUZsb29yKGUuYy52WzFdKSsiLCIrYm1GbG9vcihlLmMudlsyXSkrIikiKSwoZS5vLl9tZGZ8fHIpJiZpLnBFbGVtLnNldEF0dHJpYnV0ZSgiZmlsbC1vcGFjaXR5IixlLm8udil9ZnVuY3Rpb24gcyh0LGUscil7YSh0LGUsciksbih0LGUscil9ZnVuY3Rpb24gYSh0LGUscil7dmFyIGkscyxhLG4sbyxoPWUuZ2YsbD1lLmcuX2hhc09wYWNpdHkscD1lLnMudixtPWUuZS52O2lmKGUuby5fbWRmfHxyKXt2YXIgZj0iZ2YiPT09dC50eT8iZmlsbC1vcGFjaXR5Ijoic3Ryb2tlLW9wYWNpdHkiO2Uuc3R5bGUucEVsZW0uc2V0QXR0cmlidXRlKGYsZS5vLnYpfWlmKGUucy5fbWRmfHxyKXt2YXIgYz0xPT09dC50PyJ4MSI6ImN4IixkPSJ4MSI9PT1jPyJ5MSI6ImN5IjtoLnNldEF0dHJpYnV0ZShjLHBbMF0pLGguc2V0QXR0cmlidXRlKGQscFsxXSksbCYmIWUuZy5fY29sbGFwc2FibGUmJihlLm9mLnNldEF0dHJpYnV0ZShjLHBbMF0pLGUub2Yuc2V0QXR0cmlidXRlKGQscFsxXSkpfWlmKGUuZy5fY21kZnx8cil7aT1lLmNzdDt2YXIgdT1lLmcuYztmb3IoYT1pLmxlbmd0aCxzPTA7czxhO3MrPTEpKG49aVtzXSkuc2V0QXR0cmlidXRlKCJvZmZzZXQiLHVbNCpzXSsiJSIpLG4uc2V0QXR0cmlidXRlKCJzdG9wLWNvbG9yIiwicmdiKCIrdVs0KnMrMV0rIiwiK3VbNCpzKzJdKyIsIit1WzQqcyszXSsiKSIpfWlmKGwmJihlLmcuX29tZGZ8fHIpKXt2YXIgeT1lLmcubztmb3IoYT0oaT1lLmcuX2NvbGxhcHNhYmxlP2UuY3N0OmUub3N0KS5sZW5ndGgscz0wO3M8YTtzKz0xKW49aVtzXSxlLmcuX2NvbGxhcHNhYmxlfHxuLnNldEF0dHJpYnV0ZSgib2Zmc2V0Iix5WzIqc10rIiUiKSxuLnNldEF0dHJpYnV0ZSgic3RvcC1vcGFjaXR5Iix5WzIqcysxXSl9aWYoMT09PXQudCkoZS5lLl9tZGZ8fHIpJiYoaC5zZXRBdHRyaWJ1dGUoIngyIixtWzBdKSxoLnNldEF0dHJpYnV0ZSgieTIiLG1bMV0pLGwmJiFlLmcuX2NvbGxhcHNhYmxlJiYoZS5vZi5zZXRBdHRyaWJ1dGUoIngyIixtWzBdKSxlLm9mLnNldEF0dHJpYnV0ZSgieTIiLG1bMV0pKSk7ZWxzZSBpZigoZS5zLl9tZGZ8fGUuZS5fbWRmfHxyKSYmKG89TWF0aC5zcXJ0KE1hdGgucG93KHBbMF0tbVswXSwyKStNYXRoLnBvdyhwWzFdLW1bMV0sMikpLGguc2V0QXR0cmlidXRlKCJyIixvKSxsJiYhZS5nLl9jb2xsYXBzYWJsZSYmZS5vZi5zZXRBdHRyaWJ1dGUoInIiLG8pKSxlLmUuX21kZnx8ZS5oLl9tZGZ8fGUuYS5fbWRmfHxyKXtvfHwobz1NYXRoLnNxcnQoTWF0aC5wb3cocFswXS1tWzBdLDIpK01hdGgucG93KHBbMV0tbVsxXSwyKSkpO3ZhciBnPU1hdGguYXRhbjIobVsxXS1wWzFdLG1bMF0tcFswXSksdj1lLmgudjsxPD12P3Y9Ljk5OnY8PS0xJiYodj0tLjk5KTt2YXIgYj1vKnYsUD1NYXRoLmNvcyhnK2UuYS52KSpiK3BbMF0sRT1NYXRoLnNpbihnK2UuYS52KSpiK3BbMV07aC5zZXRBdHRyaWJ1dGUoImZ4IixQKSxoLnNldEF0dHJpYnV0ZSgiZnkiLEUpLGwmJiFlLmcuX2NvbGxhcHNhYmxlJiYoZS5vZi5zZXRBdHRyaWJ1dGUoImZ4IixQKSxlLm9mLnNldEF0dHJpYnV0ZSgiZnkiLEUpKX19ZnVuY3Rpb24gbih0LGUscil7dmFyIGk9ZS5zdHlsZSxzPWUuZDtzJiYocy5fbWRmfHxyKSYmcy5kYXNoU3RyJiYoaS5wRWxlbS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNoYXJyYXkiLHMuZGFzaFN0ciksaS5wRWxlbS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNob2Zmc2V0IixzLmRhc2hvZmZzZXRbMF0pKSxlLmMmJihlLmMuX21kZnx8cikmJmkucEVsZW0uc2V0QXR0cmlidXRlKCJzdHJva2UiLCJyZ2IoIitibUZsb29yKGUuYy52WzBdKSsiLCIrYm1GbG9vcihlLmMudlsxXSkrIiwiK2JtRmxvb3IoZS5jLnZbMl0pKyIpIiksKGUuby5fbWRmfHxyKSYmaS5wRWxlbS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1vcGFjaXR5IixlLm8udiksKGUudy5fbWRmfHxyKSYmKGkucEVsZW0uc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLGUudy52KSxpLm1zRWxlbSYmaS5tc0VsZW0uc2V0QXR0cmlidXRlKCJzdHJva2Utd2lkdGgiLGUudy52KSl9cmV0dXJue2NyZWF0ZVJlbmRlckZ1bmN0aW9uOmZ1bmN0aW9uKHQpe3N3aXRjaCh0LnR5KXtjYXNlImZsIjpyZXR1cm4gaTtjYXNlImdmIjpyZXR1cm4gYTtjYXNlImdzIjpyZXR1cm4gcztjYXNlInN0IjpyZXR1cm4gbjtjYXNlInNoIjpjYXNlImVsIjpjYXNlInJjIjpjYXNlInNyIjpyZXR1cm4gcjtjYXNlInRyIjpyZXR1cm4gZTtkZWZhdWx0OnJldHVybiBudWxsfX19fSgpO2Z1bmN0aW9uIFNoYXBlVHJhbnNmb3JtTWFuYWdlcigpe3RoaXMuc2VxdWVuY2VzPXt9LHRoaXMuc2VxdWVuY2VMaXN0PVtdLHRoaXMudHJhbnNmb3JtX2tleV9jb3VudD0wfWZ1bmN0aW9uIENWU2hhcGVEYXRhKHQsZSxyLGkpe3RoaXMuc3R5bGVkU2hhcGVzPVtdLHRoaXMudHI9WzAsMCwwLDAsMCwwXTt2YXIgcyxhPTQ7InJjIj09PWUudHk/YT01OiJlbCI9PT1lLnR5P2E9Njoic3IiPT09ZS50eSYmKGE9NyksdGhpcy5zaD1TaGFwZVByb3BlcnR5RmFjdG9yeS5nZXRTaGFwZVByb3AodCxlLGEsdCk7dmFyIG4sbz1yLmxlbmd0aDtmb3Iocz0wO3M8bztzKz0xKXJbc10uY2xvc2VkfHwobj17dHJhbnNmb3JtczppLmFkZFRyYW5zZm9ybVNlcXVlbmNlKHJbc10udHJhbnNmb3JtcyksdHJOb2RlczpbXX0sdGhpcy5zdHlsZWRTaGFwZXMucHVzaChuKSxyW3NdLmVsZW1lbnRzLnB1c2gobikpfWZ1bmN0aW9uIEJhc2VFbGVtZW50KCl7fWZ1bmN0aW9uIE51bGxFbGVtZW50KHQsZSxyKXt0aGlzLmluaXRGcmFtZSgpLHRoaXMuaW5pdEJhc2VEYXRhKHQsZSxyKSx0aGlzLmluaXRGcmFtZSgpLHRoaXMuaW5pdFRyYW5zZm9ybSh0LGUsciksdGhpcy5pbml0SGllcmFyY2h5KCl9ZnVuY3Rpb24gU1ZHQmFzZUVsZW1lbnQoKXt9ZnVuY3Rpb24gSVNoYXBlRWxlbWVudCgpe31mdW5jdGlvbiBJVGV4dEVsZW1lbnQoKXt9ZnVuY3Rpb24gSUNvbXBFbGVtZW50KCl7fWZ1bmN0aW9uIElJbWFnZUVsZW1lbnQodCxlLHIpe3RoaXMuYXNzZXREYXRhPWUuZ2V0QXNzZXREYXRhKHQucmVmSWQpLHRoaXMuaW5pdEVsZW1lbnQodCxlLHIpLHRoaXMuc291cmNlUmVjdD17dG9wOjAsbGVmdDowLHdpZHRoOnRoaXMuYXNzZXREYXRhLncsaGVpZ2h0OnRoaXMuYXNzZXREYXRhLmh9fWZ1bmN0aW9uIElTb2xpZEVsZW1lbnQodCxlLHIpe3RoaXMuaW5pdEVsZW1lbnQodCxlLHIpfWZ1bmN0aW9uIEF1ZGlvRWxlbWVudCh0LGUscil7dGhpcy5pbml0RnJhbWUoKSx0aGlzLmluaXRSZW5kZXJhYmxlKCksdGhpcy5hc3NldERhdGE9ZS5nZXRBc3NldERhdGEodC5yZWZJZCksdGhpcy5pbml0QmFzZURhdGEodCxlLHIpLHRoaXMuX2lzUGxheWluZz0hMSx0aGlzLl9jYW5QbGF5PSExO3ZhciBpPXRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoKHRoaXMuYXNzZXREYXRhKTt0aGlzLmF1ZGlvPXRoaXMuZ2xvYmFsRGF0YS5hdWRpb0NvbnRyb2xsZXIuY3JlYXRlQXVkaW8oaSksdGhpcy5fY3VycmVudFRpbWU9MCx0aGlzLmdsb2JhbERhdGEuYXVkaW9Db250cm9sbGVyLmFkZEF1ZGlvKHRoaXMpLHRoaXMudG09dC50bT9Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQudG0sMCxlLmZyYW1lUmF0ZSx0aGlzKTp7X3BsYWNlaG9sZGVyOiEwfX1mdW5jdGlvbiBGb290YWdlRWxlbWVudCh0LGUscil7dGhpcy5pbml0RnJhbWUoKSx0aGlzLmluaXRSZW5kZXJhYmxlKCksdGhpcy5hc3NldERhdGE9ZS5nZXRBc3NldERhdGEodC5yZWZJZCksdGhpcy5mb290YWdlRGF0YT1lLmltYWdlTG9hZGVyLmdldEFzc2V0KHRoaXMuYXNzZXREYXRhKSx0aGlzLmluaXRCYXNlRGF0YSh0LGUscil9ZnVuY3Rpb24gU1ZHQ29tcEVsZW1lbnQodCxlLHIpe3RoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMuc3VwcG9ydHMzZD0hMCx0aGlzLmNvbXBsZXRlTGF5ZXJzPSExLHRoaXMucGVuZGluZ0VsZW1lbnRzPVtdLHRoaXMuZWxlbWVudHM9dGhpcy5sYXllcnM/Y3JlYXRlU2l6ZWRBcnJheSh0aGlzLmxheWVycy5sZW5ndGgpOltdLHRoaXMuaW5pdEVsZW1lbnQodCxlLHIpLHRoaXMudG09dC50bT9Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQudG0sMCxlLmZyYW1lUmF0ZSx0aGlzKTp7X3BsYWNlaG9sZGVyOiEwfX1mdW5jdGlvbiBTVkdUZXh0TG90dGllRWxlbWVudCh0LGUscil7dGhpcy50ZXh0U3BhbnM9W10sdGhpcy5yZW5kZXJUeXBlPSJzdmciLHRoaXMuaW5pdEVsZW1lbnQodCxlLHIpfWZ1bmN0aW9uIFNWR1NoYXBlRWxlbWVudCh0LGUscil7dGhpcy5zaGFwZXM9W10sdGhpcy5zaGFwZXNEYXRhPXQuc2hhcGVzLHRoaXMuc3R5bGVzTGlzdD1bXSx0aGlzLnNoYXBlTW9kaWZpZXJzPVtdLHRoaXMuaXRlbXNEYXRhPVtdLHRoaXMucHJvY2Vzc2VkRWxlbWVudHM9W10sdGhpcy5hbmltYXRlZENvbnRlbnRzPVtdLHRoaXMuaW5pdEVsZW1lbnQodCxlLHIpLHRoaXMucHJldlZpZXdEYXRhPVtdfWZ1bmN0aW9uIFNWR1RpbnRGaWx0ZXIodCxlKXt0aGlzLmZpbHRlck1hbmFnZXI9ZTt2YXIgcj1jcmVhdGVOUygiZmVDb2xvck1hdHJpeCIpO2lmKHIuc2V0QXR0cmlidXRlKCJ0eXBlIiwibWF0cml4Iiksci5zZXRBdHRyaWJ1dGUoImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyIsImxpbmVhclJHQiIpLHIuc2V0QXR0cmlidXRlKCJ2YWx1ZXMiLCIwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwIDAgMCAxIDAiKSxyLnNldEF0dHJpYnV0ZSgicmVzdWx0IiwiZjEiKSx0LmFwcGVuZENoaWxkKHIpLChyPWNyZWF0ZU5TKCJmZUNvbG9yTWF0cml4IikpLnNldEF0dHJpYnV0ZSgidHlwZSIsIm1hdHJpeCIpLHIuc2V0QXR0cmlidXRlKCJjb2xvci1pbnRlcnBvbGF0aW9uLWZpbHRlcnMiLCJzUkdCIiksci5zZXRBdHRyaWJ1dGUoInZhbHVlcyIsIjEgMCAwIDAgMCAwIDEgMCAwIDAgMCAwIDEgMCAwIDAgMCAwIDEgMCIpLHIuc2V0QXR0cmlidXRlKCJyZXN1bHQiLCJmMiIpLHQuYXBwZW5kQ2hpbGQociksdGhpcy5tYXRyaXhGaWx0ZXI9ciwxMDAhPT1lLmVmZmVjdEVsZW1lbnRzWzJdLnAudnx8ZS5lZmZlY3RFbGVtZW50c1syXS5wLmspe3ZhciBpLHM9Y3JlYXRlTlMoImZlTWVyZ2UiKTt0LmFwcGVuZENoaWxkKHMpLChpPWNyZWF0ZU5TKCJmZU1lcmdlTm9kZSIpKS5zZXRBdHRyaWJ1dGUoImluIiwiU291cmNlR3JhcGhpYyIpLHMuYXBwZW5kQ2hpbGQoaSksKGk9Y3JlYXRlTlMoImZlTWVyZ2VOb2RlIikpLnNldEF0dHJpYnV0ZSgiaW4iLCJmMiIpLHMuYXBwZW5kQ2hpbGQoaSl9fWZ1bmN0aW9uIFNWR0ZpbGxGaWx0ZXIodCxlKXt0aGlzLmZpbHRlck1hbmFnZXI9ZTt2YXIgcj1jcmVhdGVOUygiZmVDb2xvck1hdHJpeCIpO3Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwibWF0cml4Iiksci5zZXRBdHRyaWJ1dGUoImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyIsInNSR0IiKSxyLnNldEF0dHJpYnV0ZSgidmFsdWVzIiwiMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIDAgMCAwIDAgMSAwIiksdC5hcHBlbmRDaGlsZChyKSx0aGlzLm1hdHJpeEZpbHRlcj1yfWZ1bmN0aW9uIFNWR0dhdXNzaWFuQmx1ckVmZmVjdCh0LGUpe3Quc2V0QXR0cmlidXRlKCJ4IiwiLTEwMCUiKSx0LnNldEF0dHJpYnV0ZSgieSIsIi0xMDAlIiksdC5zZXRBdHRyaWJ1dGUoIndpZHRoIiwiMzAwJSIpLHQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIzMDAlIiksdGhpcy5maWx0ZXJNYW5hZ2VyPWU7dmFyIHI9Y3JlYXRlTlMoImZlR2F1c3NpYW5CbHVyIik7dC5hcHBlbmRDaGlsZChyKSx0aGlzLmZlR2F1c3NpYW5CbHVyPXJ9ZnVuY3Rpb24gU1ZHU3Ryb2tlRWZmZWN0KHQsZSl7dGhpcy5pbml0aWFsaXplZD0hMSx0aGlzLmZpbHRlck1hbmFnZXI9ZSx0aGlzLmVsZW09dCx0aGlzLnBhdGhzPVtdfWZ1bmN0aW9uIFNWR1RyaXRvbmVGaWx0ZXIodCxlKXt0aGlzLmZpbHRlck1hbmFnZXI9ZTt2YXIgcj1jcmVhdGVOUygiZmVDb2xvck1hdHJpeCIpO3Iuc2V0QXR0cmlidXRlKCJ0eXBlIiwibWF0cml4Iiksci5zZXRBdHRyaWJ1dGUoImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyIsImxpbmVhclJHQiIpLHIuc2V0QXR0cmlidXRlKCJ2YWx1ZXMiLCIwLjMzMzMgMC4zMzMzIDAuMzMzMyAwIDAgMC4zMzMzIDAuMzMzMyAwLjMzMzMgMCAwIDAuMzMzMyAwLjMzMzMgMC4zMzMzIDAgMCAwIDAgMCAxIDAiKSxyLnNldEF0dHJpYnV0ZSgicmVzdWx0IiwiZjEiKSx0LmFwcGVuZENoaWxkKHIpO3ZhciBpPWNyZWF0ZU5TKCJmZUNvbXBvbmVudFRyYW5zZmVyIik7aS5zZXRBdHRyaWJ1dGUoImNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycyIsInNSR0IiKSx0LmFwcGVuZENoaWxkKGkpLHRoaXMubWF0cml4RmlsdGVyPWk7dmFyIHM9Y3JlYXRlTlMoImZlRnVuY1IiKTtzLnNldEF0dHJpYnV0ZSgidHlwZSIsInRhYmxlIiksaS5hcHBlbmRDaGlsZChzKSx0aGlzLmZlRnVuY1I9czt2YXIgYT1jcmVhdGVOUygiZmVGdW5jRyIpO2Euc2V0QXR0cmlidXRlKCJ0eXBlIiwidGFibGUiKSxpLmFwcGVuZENoaWxkKGEpLHRoaXMuZmVGdW5jRz1hO3ZhciBuPWNyZWF0ZU5TKCJmZUZ1bmNCIik7bi5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0YWJsZSIpLGkuYXBwZW5kQ2hpbGQobiksdGhpcy5mZUZ1bmNCPW59ZnVuY3Rpb24gU1ZHUHJvTGV2ZWxzRmlsdGVyKHQsZSl7dGhpcy5maWx0ZXJNYW5hZ2VyPWU7dmFyIHI9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzLGk9Y3JlYXRlTlMoImZlQ29tcG9uZW50VHJhbnNmZXIiKTsoclsxMF0ucC5rfHwwIT09clsxMF0ucC52fHxyWzExXS5wLmt8fDEhPT1yWzExXS5wLnZ8fHJbMTJdLnAua3x8MSE9PXJbMTJdLnAudnx8clsxM10ucC5rfHwwIT09clsxM10ucC52fHxyWzE0XS5wLmt8fDEhPT1yWzE0XS5wLnYpJiYodGhpcy5mZUZ1bmNSPXRoaXMuY3JlYXRlRmVGdW5jKCJmZUZ1bmNSIixpKSksKHJbMTddLnAua3x8MCE9PXJbMTddLnAudnx8clsxOF0ucC5rfHwxIT09clsxOF0ucC52fHxyWzE5XS5wLmt8fDEhPT1yWzE5XS5wLnZ8fHJbMjBdLnAua3x8MCE9PXJbMjBdLnAudnx8clsyMV0ucC5rfHwxIT09clsyMV0ucC52KSYmKHRoaXMuZmVGdW5jRz10aGlzLmNyZWF0ZUZlRnVuYygiZmVGdW5jRyIsaSkpLChyWzI0XS5wLmt8fDAhPT1yWzI0XS5wLnZ8fHJbMjVdLnAua3x8MSE9PXJbMjVdLnAudnx8clsyNl0ucC5rfHwxIT09clsyNl0ucC52fHxyWzI3XS5wLmt8fDAhPT1yWzI3XS5wLnZ8fHJbMjhdLnAua3x8MSE9PXJbMjhdLnAudikmJih0aGlzLmZlRnVuY0I9dGhpcy5jcmVhdGVGZUZ1bmMoImZlRnVuY0IiLGkpKSwoclszMV0ucC5rfHwwIT09clszMV0ucC52fHxyWzMyXS5wLmt8fDEhPT1yWzMyXS5wLnZ8fHJbMzNdLnAua3x8MSE9PXJbMzNdLnAudnx8clszNF0ucC5rfHwwIT09clszNF0ucC52fHxyWzM1XS5wLmt8fDEhPT1yWzM1XS5wLnYpJiYodGhpcy5mZUZ1bmNBPXRoaXMuY3JlYXRlRmVGdW5jKCJmZUZ1bmNBIixpKSksKHRoaXMuZmVGdW5jUnx8dGhpcy5mZUZ1bmNHfHx0aGlzLmZlRnVuY0J8fHRoaXMuZmVGdW5jQSkmJihpLnNldEF0dHJpYnV0ZSgiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIiwic1JHQiIpLHQuYXBwZW5kQ2hpbGQoaSksaT1jcmVhdGVOUygiZmVDb21wb25lbnRUcmFuc2ZlciIpKSwoclszXS5wLmt8fDAhPT1yWzNdLnAudnx8cls0XS5wLmt8fDEhPT1yWzRdLnAudnx8cls1XS5wLmt8fDEhPT1yWzVdLnAudnx8cls2XS5wLmt8fDAhPT1yWzZdLnAudnx8cls3XS5wLmt8fDEhPT1yWzddLnAudikmJihpLnNldEF0dHJpYnV0ZSgiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzIiwic1JHQiIpLHQuYXBwZW5kQ2hpbGQoaSksdGhpcy5mZUZ1bmNSQ29tcG9zZWQ9dGhpcy5jcmVhdGVGZUZ1bmMoImZlRnVuY1IiLGkpLHRoaXMuZmVGdW5jR0NvbXBvc2VkPXRoaXMuY3JlYXRlRmVGdW5jKCJmZUZ1bmNHIixpKSx0aGlzLmZlRnVuY0JDb21wb3NlZD10aGlzLmNyZWF0ZUZlRnVuYygiZmVGdW5jQiIsaSkpfWZ1bmN0aW9uIFNWR0Ryb3BTaGFkb3dFZmZlY3QodCxlKXt2YXIgcj1lLmNvbnRhaW5lci5nbG9iYWxEYXRhLnJlbmRlckNvbmZpZy5maWx0ZXJTaXplO3Quc2V0QXR0cmlidXRlKCJ4IixyLngpLHQuc2V0QXR0cmlidXRlKCJ5IixyLnkpLHQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsci53aWR0aCksdC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsci5oZWlnaHQpLHRoaXMuZmlsdGVyTWFuYWdlcj1lO3ZhciBpPWNyZWF0ZU5TKCJmZUdhdXNzaWFuQmx1ciIpO2kuc2V0QXR0cmlidXRlKCJpbiIsIlNvdXJjZUFscGhhIiksaS5zZXRBdHRyaWJ1dGUoInJlc3VsdCIsImRyb3Bfc2hhZG93XzEiKSxpLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIiwiMCIpLHRoaXMuZmVHYXVzc2lhbkJsdXI9aSx0LmFwcGVuZENoaWxkKGkpO3ZhciBzPWNyZWF0ZU5TKCJmZU9mZnNldCIpO3Muc2V0QXR0cmlidXRlKCJkeCIsIjI1Iikscy5zZXRBdHRyaWJ1dGUoImR5IiwiMCIpLHMuc2V0QXR0cmlidXRlKCJpbiIsImRyb3Bfc2hhZG93XzEiKSxzLnNldEF0dHJpYnV0ZSgicmVzdWx0IiwiZHJvcF9zaGFkb3dfMiIpLHRoaXMuZmVPZmZzZXQ9cyx0LmFwcGVuZENoaWxkKHMpO3ZhciBhPWNyZWF0ZU5TKCJmZUZsb29kIik7YS5zZXRBdHRyaWJ1dGUoImZsb29kLWNvbG9yIiwiIzAwZmYwMCIpLGEuc2V0QXR0cmlidXRlKCJmbG9vZC1vcGFjaXR5IiwiMSIpLGEuc2V0QXR0cmlidXRlKCJyZXN1bHQiLCJkcm9wX3NoYWRvd18zIiksdGhpcy5mZUZsb29kPWEsdC5hcHBlbmRDaGlsZChhKTt2YXIgbj1jcmVhdGVOUygiZmVDb21wb3NpdGUiKTtuLnNldEF0dHJpYnV0ZSgiaW4iLCJkcm9wX3NoYWRvd18zIiksbi5zZXRBdHRyaWJ1dGUoImluMiIsImRyb3Bfc2hhZG93XzIiKSxuLnNldEF0dHJpYnV0ZSgib3BlcmF0b3IiLCJpbiIpLG4uc2V0QXR0cmlidXRlKCJyZXN1bHQiLCJkcm9wX3NoYWRvd180IiksdC5hcHBlbmRDaGlsZChuKTt2YXIgbyxoPWNyZWF0ZU5TKCJmZU1lcmdlIik7dC5hcHBlbmRDaGlsZChoKSxvPWNyZWF0ZU5TKCJmZU1lcmdlTm9kZSIpLGguYXBwZW5kQ2hpbGQobyksKG89Y3JlYXRlTlMoImZlTWVyZ2VOb2RlIikpLnNldEF0dHJpYnV0ZSgiaW4iLCJTb3VyY2VHcmFwaGljIiksdGhpcy5mZU1lcmdlTm9kZT1vLHRoaXMuZmVNZXJnZT1oLHRoaXMub3JpZ2luYWxOb2RlQWRkZWQ9ITEsaC5hcHBlbmRDaGlsZChvKX1TaGFwZVRyYW5zZm9ybU1hbmFnZXIucHJvdG90eXBlPXthZGRUcmFuc2Zvcm1TZXF1ZW5jZTpmdW5jdGlvbih0KXt2YXIgZSxyPXQubGVuZ3RoLGk9Il8iO2ZvcihlPTA7ZTxyO2UrPTEpaSs9dFtlXS50cmFuc2Zvcm0ua2V5KyJfIjt2YXIgcz10aGlzLnNlcXVlbmNlc1tpXTtyZXR1cm4gc3x8KHM9e3RyYW5zZm9ybXM6W10uY29uY2F0KHQpLGZpbmFsVHJhbnNmb3JtOm5ldyBNYXRyaXgsX21kZjohMX0sdGhpcy5zZXF1ZW5jZXNbaV09cyx0aGlzLnNlcXVlbmNlTGlzdC5wdXNoKHMpKSxzfSxwcm9jZXNzU2VxdWVuY2U6ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsaT0wLHM9dC50cmFuc2Zvcm1zLmxlbmd0aCxhPWU7aTxzJiYhZTspe2lmKHQudHJhbnNmb3Jtc1tpXS50cmFuc2Zvcm0ubVByb3BzLl9tZGYpe2E9ITA7YnJlYWt9aSs9MX1pZihhKWZvcih0LmZpbmFsVHJhbnNmb3JtLnJlc2V0KCksaT1zLTE7MDw9aTtpLT0xKXI9dC50cmFuc2Zvcm1zW2ldLnRyYW5zZm9ybS5tUHJvcHMudi5wcm9wcyx0LmZpbmFsVHJhbnNmb3JtLnRyYW5zZm9ybShyWzBdLHJbMV0sclsyXSxyWzNdLHJbNF0scls1XSxyWzZdLHJbN10scls4XSxyWzldLHJbMTBdLHJbMTFdLHJbMTJdLHJbMTNdLHJbMTRdLHJbMTVdKTt0Ll9tZGY9YX0scHJvY2Vzc1NlcXVlbmNlczpmdW5jdGlvbih0KXt2YXIgZSxyPXRoaXMuc2VxdWVuY2VMaXN0Lmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXRoaXMucHJvY2Vzc1NlcXVlbmNlKHRoaXMuc2VxdWVuY2VMaXN0W2VdLHQpfSxnZXROZXdLZXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFuc2Zvcm1fa2V5X2NvdW50Kz0xLCJfIit0aGlzLnRyYW5zZm9ybV9rZXlfY291bnR9fSxDVlNoYXBlRGF0YS5wcm90b3R5cGUuc2V0QXNBbmltYXRlZD1TVkdTaGFwZURhdGEucHJvdG90eXBlLnNldEFzQW5pbWF0ZWQsQmFzZUVsZW1lbnQucHJvdG90eXBlPXtjaGVja01hc2tzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZGF0YS5oYXNNYXNrKXJldHVybiExO2Zvcih2YXIgdD0wLGU9dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllcy5sZW5ndGg7dDxlOyl7aWYoIm4iIT09dGhpcy5kYXRhLm1hc2tzUHJvcGVydGllc1t0XS5tb2RlJiYhMSE9PXRoaXMuZGF0YS5tYXNrc1Byb3BlcnRpZXNbdF0uY2wpcmV0dXJuITA7dCs9MX1yZXR1cm4hMX0saW5pdEV4cHJlc3Npb25zOmZ1bmN0aW9uKCl7dGhpcy5sYXllckludGVyZmFjZT1MYXllckV4cHJlc3Npb25JbnRlcmZhY2UodGhpcyksdGhpcy5kYXRhLmhhc01hc2smJnRoaXMubWFza01hbmFnZXImJnRoaXMubGF5ZXJJbnRlcmZhY2UucmVnaXN0ZXJNYXNrSW50ZXJmYWNlKHRoaXMubWFza01hbmFnZXIpO3ZhciB0PUVmZmVjdHNFeHByZXNzaW9uSW50ZXJmYWNlLmNyZWF0ZUVmZmVjdHNJbnRlcmZhY2UodGhpcyx0aGlzLmxheWVySW50ZXJmYWNlKTt0aGlzLmxheWVySW50ZXJmYWNlLnJlZ2lzdGVyRWZmZWN0c0ludGVyZmFjZSh0KSwwPT09dGhpcy5kYXRhLnR5fHx0aGlzLmRhdGEueHQ/dGhpcy5jb21wSW50ZXJmYWNlPUNvbXBFeHByZXNzaW9uSW50ZXJmYWNlKHRoaXMpOjQ9PT10aGlzLmRhdGEudHk/KHRoaXMubGF5ZXJJbnRlcmZhY2Uuc2hhcGVJbnRlcmZhY2U9U2hhcGVFeHByZXNzaW9uSW50ZXJmYWNlKHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSx0aGlzLmxheWVySW50ZXJmYWNlKSx0aGlzLmxheWVySW50ZXJmYWNlLmNvbnRlbnQ9dGhpcy5sYXllckludGVyZmFjZS5zaGFwZUludGVyZmFjZSk6NT09PXRoaXMuZGF0YS50eSYmKHRoaXMubGF5ZXJJbnRlcmZhY2UudGV4dEludGVyZmFjZT1UZXh0RXhwcmVzc2lvbkludGVyZmFjZSh0aGlzKSx0aGlzLmxheWVySW50ZXJmYWNlLnRleHQ9dGhpcy5sYXllckludGVyZmFjZS50ZXh0SW50ZXJmYWNlKX0sc2V0QmxlbmRNb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9Z2V0QmxlbmRNb2RlKHRoaXMuZGF0YS5ibSk7KHRoaXMuYmFzZUVsZW1lbnR8fHRoaXMubGF5ZXJFbGVtZW50KS5zdHlsZVsibWl4LWJsZW5kLW1vZGUiXT10fSxpbml0QmFzZURhdGE6ZnVuY3Rpb24odCxlLHIpe3RoaXMuZ2xvYmFsRGF0YT1lLHRoaXMuY29tcD1yLHRoaXMuZGF0YT10LHRoaXMubGF5ZXJJZD1jcmVhdGVFbGVtZW50SUQoKSx0aGlzLmRhdGEuc3J8fCh0aGlzLmRhdGEuc3I9MSksdGhpcy5lZmZlY3RzTWFuYWdlcj1uZXcgRWZmZWN0c01hbmFnZXIodGhpcy5kYXRhLHRoaXMsdGhpcy5keW5hbWljUHJvcGVydGllcyl9LGdldFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50eXBlfSxzb3VyY2VSZWN0QXRUaW1lOmZ1bmN0aW9uKCl7fX0sTnVsbEVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1mdW5jdGlvbih0KXt0aGlzLnByZXBhcmVQcm9wZXJ0aWVzKHQsITApfSxOdWxsRWxlbWVudC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24oKXt9LE51bGxFbGVtZW50LnByb3RvdHlwZS5nZXRCYXNlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxOdWxsRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe30sTnVsbEVsZW1lbnQucHJvdG90eXBlLnNvdXJjZVJlY3RBdFRpbWU9ZnVuY3Rpb24oKXt9LE51bGxFbGVtZW50LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7fSxleHRlbmRQcm90b3R5cGUoW0Jhc2VFbGVtZW50LFRyYW5zZm9ybUVsZW1lbnQsSGllcmFyY2h5RWxlbWVudCxGcmFtZUVsZW1lbnRdLE51bGxFbGVtZW50KSxTVkdCYXNlRWxlbWVudC5wcm90b3R5cGU9e2luaXRSZW5kZXJlckVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmxheWVyRWxlbWVudD1jcmVhdGVOUygiZyIpfSxjcmVhdGVDb250YWluZXJFbGVtZW50czpmdW5jdGlvbigpe3RoaXMubWF0dGVFbGVtZW50PWNyZWF0ZU5TKCJnIiksdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQsdGhpcy5tYXNrZWRFbGVtZW50PXRoaXMubGF5ZXJFbGVtZW50LHRoaXMuX3NpemVDaGFuZ2VkPSExO3ZhciB0LGUscixpPW51bGw7aWYodGhpcy5kYXRhLnRkKXtpZigzPT10aGlzLmRhdGEudGR8fDE9PXRoaXMuZGF0YS50ZCl7dmFyIHM9Y3JlYXRlTlMoIm1hc2siKTtzLnNldEF0dHJpYnV0ZSgiaWQiLHRoaXMubGF5ZXJJZCkscy5zZXRBdHRyaWJ1dGUoIm1hc2stdHlwZSIsMz09dGhpcy5kYXRhLnRkPyJsdW1pbmFuY2UiOiJhbHBoYSIpLHMuYXBwZW5kQ2hpbGQodGhpcy5sYXllckVsZW1lbnQpLGk9cyx0aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChzKSxmZWF0dXJlU3VwcG9ydC5tYXNrVHlwZXx8MSE9dGhpcy5kYXRhLnRkfHwocy5zZXRBdHRyaWJ1dGUoIm1hc2stdHlwZSIsImx1bWluYW5jZSIpLHQ9Y3JlYXRlRWxlbWVudElEKCksZT1maWx0ZXJzRmFjdG9yeS5jcmVhdGVGaWx0ZXIodCksdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQoZSksZS5hcHBlbmRDaGlsZChmaWx0ZXJzRmFjdG9yeS5jcmVhdGVBbHBoYVRvTHVtaW5hbmNlRmlsdGVyKCkpLChyPWNyZWF0ZU5TKCJnIikpLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSxpPXIscy5hcHBlbmRDaGlsZChyKSxyLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwidXJsKCIrbG9jYXRpb25IcmVmKyIjIit0KyIpIikpfWVsc2UgaWYoMj09dGhpcy5kYXRhLnRkKXt2YXIgYT1jcmVhdGVOUygibWFzayIpO2Euc2V0QXR0cmlidXRlKCJpZCIsdGhpcy5sYXllcklkKSxhLnNldEF0dHJpYnV0ZSgibWFzay10eXBlIiwiYWxwaGEiKTt2YXIgbj1jcmVhdGVOUygiZyIpO2EuYXBwZW5kQ2hpbGQobiksdD1jcmVhdGVFbGVtZW50SUQoKSxlPWZpbHRlcnNGYWN0b3J5LmNyZWF0ZUZpbHRlcih0KTt2YXIgbz1jcmVhdGVOUygiZmVDb21wb25lbnRUcmFuc2ZlciIpO28uc2V0QXR0cmlidXRlKCJpbiIsIlNvdXJjZUdyYXBoaWMiKSxlLmFwcGVuZENoaWxkKG8pO3ZhciBoPWNyZWF0ZU5TKCJmZUZ1bmNBIik7aC5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0YWJsZSIpLGguc2V0QXR0cmlidXRlKCJ0YWJsZVZhbHVlcyIsIjEuMCAwLjAiKSxvLmFwcGVuZENoaWxkKGgpLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKGUpO3ZhciBsPWNyZWF0ZU5TKCJyZWN0Iik7bC5zZXRBdHRyaWJ1dGUoIndpZHRoIix0aGlzLmNvbXAuZGF0YS53KSxsLnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmNvbXAuZGF0YS5oKSxsLnNldEF0dHJpYnV0ZSgieCIsIjAiKSxsLnNldEF0dHJpYnV0ZSgieSIsIjAiKSxsLnNldEF0dHJpYnV0ZSgiZmlsbCIsIiNmZmZmZmYiKSxsLnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsIjAiKSxuLnNldEF0dHJpYnV0ZSgiZmlsdGVyIiwidXJsKCIrbG9jYXRpb25IcmVmKyIjIit0KyIpIiksbi5hcHBlbmRDaGlsZChsKSxuLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSxpPW4sZmVhdHVyZVN1cHBvcnQubWFza1R5cGV8fChhLnNldEF0dHJpYnV0ZSgibWFzay10eXBlIiwibHVtaW5hbmNlIiksZS5hcHBlbmRDaGlsZChmaWx0ZXJzRmFjdG9yeS5jcmVhdGVBbHBoYVRvTHVtaW5hbmNlRmlsdGVyKCkpLHI9Y3JlYXRlTlMoImciKSxuLmFwcGVuZENoaWxkKGwpLHIuYXBwZW5kQ2hpbGQodGhpcy5sYXllckVsZW1lbnQpLGk9cixuLmFwcGVuZENoaWxkKHIpKSx0aGlzLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChhKX19ZWxzZSB0aGlzLmRhdGEudHQ/KHRoaXMubWF0dGVFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSxpPXRoaXMubWF0dGVFbGVtZW50LHRoaXMuYmFzZUVsZW1lbnQ9dGhpcy5tYXR0ZUVsZW1lbnQpOnRoaXMuYmFzZUVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQ7aWYodGhpcy5kYXRhLmxuJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoImlkIix0aGlzLmRhdGEubG4pLHRoaXMuZGF0YS5jbCYmdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKCJjbGFzcyIsdGhpcy5kYXRhLmNsKSwwPT09dGhpcy5kYXRhLnR5JiYhdGhpcy5kYXRhLmhkKXt2YXIgcD1jcmVhdGVOUygiY2xpcFBhdGgiKSxtPWNyZWF0ZU5TKCJwYXRoIik7bS5zZXRBdHRyaWJ1dGUoImQiLCJNMCwwIEwiK3RoaXMuZGF0YS53KyIsMCBMIit0aGlzLmRhdGEudysiLCIrdGhpcy5kYXRhLmgrIiBMMCwiK3RoaXMuZGF0YS5oKyJ6Iik7dmFyIGY9Y3JlYXRlRWxlbWVudElEKCk7aWYocC5zZXRBdHRyaWJ1dGUoImlkIixmKSxwLmFwcGVuZENoaWxkKG0pLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKHApLHRoaXMuY2hlY2tNYXNrcygpKXt2YXIgYz1jcmVhdGVOUygiZyIpO2Muc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIitsb2NhdGlvbkhyZWYrIiMiK2YrIikiKSxjLmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD1jLGk/aS5hcHBlbmRDaGlsZCh0aGlzLnRyYW5zZm9ybWVkRWxlbWVudCk6dGhpcy5iYXNlRWxlbWVudD10aGlzLnRyYW5zZm9ybWVkRWxlbWVudH1lbHNlIHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgiY2xpcC1wYXRoIiwidXJsKCIrbG9jYXRpb25IcmVmKyIjIitmKyIpIil9MCE9PXRoaXMuZGF0YS5ibSYmdGhpcy5zZXRCbGVuZE1vZGUoKX0scmVuZGVyRWxlbWVudDpmdW5jdGlvbigpe3RoaXMuZmluYWxUcmFuc2Zvcm0uX21hdE1kZiYmdGhpcy50cmFuc2Zvcm1lZEVsZW1lbnQuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLHRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0LnRvMmRDU1MoKSksdGhpcy5maW5hbFRyYW5zZm9ybS5fb3BNZGYmJnRoaXMudHJhbnNmb3JtZWRFbGVtZW50LnNldEF0dHJpYnV0ZSgib3BhY2l0eSIsdGhpcy5maW5hbFRyYW5zZm9ybS5tUHJvcC5vLnYpfSxkZXN0cm95QmFzZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmxheWVyRWxlbWVudD1udWxsLHRoaXMubWF0dGVFbGVtZW50PW51bGwsdGhpcy5tYXNrTWFuYWdlci5kZXN0cm95KCl9LGdldEJhc2VFbGVtZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5oZD9udWxsOnRoaXMuYmFzZUVsZW1lbnR9LGNyZWF0ZVJlbmRlcmFibGVDb21wb25lbnRzOmZ1bmN0aW9uKCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgTWFza0VsZW1lbnQodGhpcy5kYXRhLHRoaXMsdGhpcy5nbG9iYWxEYXRhKSx0aGlzLnJlbmRlcmFibGVFZmZlY3RzTWFuYWdlcj1uZXcgU1ZHRWZmZWN0cyh0aGlzKX0sc2V0TWF0dGU6ZnVuY3Rpb24odCl7dGhpcy5tYXR0ZUVsZW1lbnQmJnRoaXMubWF0dGVFbGVtZW50LnNldEF0dHJpYnV0ZSgibWFzayIsInVybCgiK2xvY2F0aW9uSHJlZisiIyIrdCsiKSIpfX0sSVNoYXBlRWxlbWVudC5wcm90b3R5cGU9e2FkZFNoYXBlVG9Nb2RpZmllcnM6ZnVuY3Rpb24odCl7dmFyIGUscj10aGlzLnNoYXBlTW9kaWZpZXJzLmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXRoaXMuc2hhcGVNb2RpZmllcnNbZV0uYWRkU2hhcGUodCl9LGlzU2hhcGVJbkFuaW1hdGVkTW9kaWZpZXJzOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnNoYXBlTW9kaWZpZXJzLmxlbmd0aDswPGU7KWlmKHRoaXMuc2hhcGVNb2RpZmllcnNbMF0uaXNBbmltYXRlZFdpdGhTaGFwZSh0KSlyZXR1cm4hMDtyZXR1cm4hMX0scmVuZGVyTW9kaWZpZXJzOmZ1bmN0aW9uKCl7aWYodGhpcy5zaGFwZU1vZGlmaWVycy5sZW5ndGgpe3ZhciB0LGU9dGhpcy5zaGFwZXMubGVuZ3RoO2Zvcih0PTA7dDxlO3QrPTEpdGhpcy5zaGFwZXNbdF0uc2gucmVzZXQoKTtmb3IodD0oZT10aGlzLnNoYXBlTW9kaWZpZXJzLmxlbmd0aCktMTswPD10JiYhdGhpcy5zaGFwZU1vZGlmaWVyc1t0XS5wcm9jZXNzU2hhcGVzKHRoaXMuX2lzRmlyc3RGcmFtZSk7dC09MSk7fX0sc2VhcmNoUHJvY2Vzc2VkRWxlbWVudDpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcy5wcm9jZXNzZWRFbGVtZW50cyxyPTAsaT1lLmxlbmd0aDtyPGk7KXtpZihlW3JdLmVsZW09PT10KXJldHVybiBlW3JdLnBvcztyKz0xfXJldHVybiAwfSxhZGRQcm9jZXNzZWRFbGVtZW50OmZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMucHJvY2Vzc2VkRWxlbWVudHMsaT1yLmxlbmd0aDtpOylpZihyW2ktPTFdLmVsZW09PT10KXJldHVybiB2b2lkKHJbaV0ucG9zPWUpO3IucHVzaChuZXcgUHJvY2Vzc2VkRWxlbWVudCh0LGUpKX0scHJlcGFyZUZyYW1lOmZ1bmN0aW9uKHQpe3RoaXMucHJlcGFyZVJlbmRlcmFibGVGcmFtZSh0KSx0aGlzLnByZXBhcmVQcm9wZXJ0aWVzKHQsdGhpcy5pc0luUmFuZ2UpfX0sSVRleHRFbGVtZW50LnByb3RvdHlwZS5pbml0RWxlbWVudD1mdW5jdGlvbih0LGUscil7dGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWc9ITAsdGhpcy5pbml0RnJhbWUoKSx0aGlzLmluaXRCYXNlRGF0YSh0LGUsciksdGhpcy50ZXh0UHJvcGVydHk9bmV3IFRleHRQcm9wZXJ0eSh0aGlzLHQudCx0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzKSx0aGlzLnRleHRBbmltYXRvcj1uZXcgVGV4dEFuaW1hdG9yUHJvcGVydHkodC50LHRoaXMucmVuZGVyVHlwZSx0aGlzKSx0aGlzLmluaXRUcmFuc2Zvcm0odCxlLHIpLHRoaXMuaW5pdEhpZXJhcmNoeSgpLHRoaXMuaW5pdFJlbmRlcmFibGUoKSx0aGlzLmluaXRSZW5kZXJlckVsZW1lbnQoKSx0aGlzLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnRzKCksdGhpcy5jcmVhdGVSZW5kZXJhYmxlQ29tcG9uZW50cygpLHRoaXMuY3JlYXRlQ29udGVudCgpLHRoaXMuaGlkZSgpLHRoaXMudGV4dEFuaW1hdG9yLnNlYXJjaFByb3BlcnRpZXModGhpcy5keW5hbWljUHJvcGVydGllcyl9LElUZXh0RWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lPWZ1bmN0aW9uKHQpe3RoaXMuX21kZj0hMSx0aGlzLnByZXBhcmVSZW5kZXJhYmxlRnJhbWUodCksdGhpcy5wcmVwYXJlUHJvcGVydGllcyh0LHRoaXMuaXNJblJhbmdlKSwodGhpcy50ZXh0UHJvcGVydHkuX21kZnx8dGhpcy50ZXh0UHJvcGVydHkuX2lzRmlyc3RGcmFtZSkmJih0aGlzLmJ1aWxkTmV3VGV4dCgpLHRoaXMudGV4dFByb3BlcnR5Ll9pc0ZpcnN0RnJhbWU9ITEsdGhpcy50ZXh0UHJvcGVydHkuX21kZj0hMSl9LElUZXh0RWxlbWVudC5wcm90b3R5cGUuY3JlYXRlUGF0aFNoYXBlPWZ1bmN0aW9uKHQsZSl7dmFyIHIsaSxzPWUubGVuZ3RoLGE9IiI7Zm9yKHI9MDtyPHM7cis9MSlpPWVbcl0ua3MuayxhKz1idWlsZFNoYXBlU3RyaW5nKGksaS5pLmxlbmd0aCwhMCx0KTtyZXR1cm4gYX0sSVRleHRFbGVtZW50LnByb3RvdHlwZS51cGRhdGVEb2N1bWVudERhdGE9ZnVuY3Rpb24odCxlKXt0aGlzLnRleHRQcm9wZXJ0eS51cGRhdGVEb2N1bWVudERhdGEodCxlKX0sSVRleHRFbGVtZW50LnByb3RvdHlwZS5jYW5SZXNpemVGb250PWZ1bmN0aW9uKHQpe3RoaXMudGV4dFByb3BlcnR5LmNhblJlc2l6ZUZvbnQodCl9LElUZXh0RWxlbWVudC5wcm90b3R5cGUuc2V0TWluaW11bUZvbnRTaXplPWZ1bmN0aW9uKHQpe3RoaXMudGV4dFByb3BlcnR5LnNldE1pbmltdW1Gb250U2l6ZSh0KX0sSVRleHRFbGVtZW50LnByb3RvdHlwZS5hcHBseVRleHRQcm9wZXJ0aWVzVG9NYXRyaXg9ZnVuY3Rpb24odCxlLHIsaSxzKXtzd2l0Y2godC5wcyYmZS50cmFuc2xhdGUodC5wc1swXSx0LnBzWzFdK3QuYXNjZW50LDApLGUudHJhbnNsYXRlKDAsLXQubHMsMCksdC5qKXtjYXNlIDE6ZS50cmFuc2xhdGUodC5qdXN0aWZ5T2Zmc2V0Kyh0LmJveFdpZHRoLXQubGluZVdpZHRoc1tyXSksMCwwKTticmVhaztjYXNlIDI6ZS50cmFuc2xhdGUodC5qdXN0aWZ5T2Zmc2V0Kyh0LmJveFdpZHRoLXQubGluZVdpZHRoc1tyXSkvMiwwLDApfWUudHJhbnNsYXRlKGkscywwKX0sSVRleHRFbGVtZW50LnByb3RvdHlwZS5idWlsZENvbG9yPWZ1bmN0aW9uKHQpe3JldHVybiJyZ2IoIitNYXRoLnJvdW5kKDI1NSp0WzBdKSsiLCIrTWF0aC5yb3VuZCgyNTUqdFsxXSkrIiwiK01hdGgucm91bmQoMjU1KnRbMl0pKyIpIn0sSVRleHRFbGVtZW50LnByb3RvdHlwZS5lbXB0eVByb3A9bmV3IExldHRlclByb3BzLElUZXh0RWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe30sZXh0ZW5kUHJvdG90eXBlKFtCYXNlRWxlbWVudCxUcmFuc2Zvcm1FbGVtZW50LEhpZXJhcmNoeUVsZW1lbnQsRnJhbWVFbGVtZW50LFJlbmRlcmFibGVET01FbGVtZW50XSxJQ29tcEVsZW1lbnQpLElDb21wRWxlbWVudC5wcm90b3R5cGUuaW5pdEVsZW1lbnQ9ZnVuY3Rpb24odCxlLHIpe3RoaXMuaW5pdEZyYW1lKCksdGhpcy5pbml0QmFzZURhdGEodCxlLHIpLHRoaXMuaW5pdFRyYW5zZm9ybSh0LGUsciksdGhpcy5pbml0UmVuZGVyYWJsZSgpLHRoaXMuaW5pdEhpZXJhcmNoeSgpLHRoaXMuaW5pdFJlbmRlcmVyRWxlbWVudCgpLHRoaXMuY3JlYXRlQ29udGFpbmVyRWxlbWVudHMoKSx0aGlzLmNyZWF0ZVJlbmRlcmFibGVDb21wb25lbnRzKCksIXRoaXMuZGF0YS54dCYmZS5wcm9ncmVzc2l2ZUxvYWR8fHRoaXMuYnVpbGRBbGxJdGVtcygpLHRoaXMuaGlkZSgpfSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLl9tZGY9ITEsdGhpcy5wcmVwYXJlUmVuZGVyYWJsZUZyYW1lKHQpLHRoaXMucHJlcGFyZVByb3BlcnRpZXModCx0aGlzLmlzSW5SYW5nZSksdGhpcy5pc0luUmFuZ2V8fHRoaXMuZGF0YS54dCl7aWYodGhpcy50bS5fcGxhY2Vob2xkZXIpdGhpcy5yZW5kZXJlZEZyYW1lPXQvdGhpcy5kYXRhLnNyO2Vsc2V7dmFyIGU9dGhpcy50bS52O2U9PT10aGlzLmRhdGEub3AmJihlPXRoaXMuZGF0YS5vcC0xKSx0aGlzLnJlbmRlcmVkRnJhbWU9ZX12YXIgcixpPXRoaXMuZWxlbWVudHMubGVuZ3RoO2Zvcih0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmNoZWNrTGF5ZXJzKHRoaXMucmVuZGVyZWRGcmFtZSkscj1pLTE7MDw9cjtyLT0xKSh0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmVsZW1lbnRzW3JdKSYmKHRoaXMuZWxlbWVudHNbcl0ucHJlcGFyZUZyYW1lKHRoaXMucmVuZGVyZWRGcmFtZS10aGlzLmxheWVyc1tyXS5zdCksdGhpcy5lbGVtZW50c1tyXS5fbWRmJiYodGhpcy5fbWRmPSEwKSl9fSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudD1mdW5jdGlvbigpe3ZhciB0LGU9dGhpcy5sYXllcnMubGVuZ3RoO2Zvcih0PTA7dDxlO3QrPTEpKHRoaXMuY29tcGxldGVMYXllcnN8fHRoaXMuZWxlbWVudHNbdF0pJiZ0aGlzLmVsZW1lbnRzW3RdLnJlbmRlckZyYW1lKCl9LElDb21wRWxlbWVudC5wcm90b3R5cGUuc2V0RWxlbWVudHM9ZnVuY3Rpb24odCl7dGhpcy5lbGVtZW50cz10fSxJQ29tcEVsZW1lbnQucHJvdG90eXBlLmdldEVsZW1lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHN9LElDb21wRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveUVsZW1lbnRzPWZ1bmN0aW9uKCl7dmFyIHQsZT10aGlzLmxheWVycy5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSl0aGlzLmVsZW1lbnRzW3RdJiZ0aGlzLmVsZW1lbnRzW3RdLmRlc3Ryb3koKX0sSUNvbXBFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95RWxlbWVudHMoKSx0aGlzLmRlc3Ryb3lCYXNlRWxlbWVudCgpfSxleHRlbmRQcm90b3R5cGUoW0Jhc2VFbGVtZW50LFRyYW5zZm9ybUVsZW1lbnQsU1ZHQmFzZUVsZW1lbnQsSGllcmFyY2h5RWxlbWVudCxGcmFtZUVsZW1lbnQsUmVuZGVyYWJsZURPTUVsZW1lbnRdLElJbWFnZUVsZW1lbnQpLElJbWFnZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdsb2JhbERhdGEuZ2V0QXNzZXRzUGF0aCh0aGlzLmFzc2V0RGF0YSk7dGhpcy5pbm5lckVsZW09Y3JlYXRlTlMoImltYWdlIiksdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5hc3NldERhdGEudysicHgiKSx0aGlzLmlubmVyRWxlbS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5hc3NldERhdGEuaCsicHgiKSx0aGlzLmlubmVyRWxlbS5zZXRBdHRyaWJ1dGUoInByZXNlcnZlQXNwZWN0UmF0aW8iLHRoaXMuYXNzZXREYXRhLnByfHx0aGlzLmdsb2JhbERhdGEucmVuZGVyQ29uZmlnLmltYWdlUHJlc2VydmVBc3BlY3RSYXRpbyksdGhpcy5pbm5lckVsZW0uc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCJocmVmIix0KSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZCh0aGlzLmlubmVyRWxlbSl9LElJbWFnZUVsZW1lbnQucHJvdG90eXBlLnNvdXJjZVJlY3RBdFRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2VSZWN0fSxleHRlbmRQcm90b3R5cGUoW0lJbWFnZUVsZW1lbnRdLElTb2xpZEVsZW1lbnQpLElTb2xpZEVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZUNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD1jcmVhdGVOUygicmVjdCIpO3Quc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5kYXRhLnN3KSx0LnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmRhdGEuc2gpLHQuc2V0QXR0cmlidXRlKCJmaWxsIix0aGlzLmRhdGEuc2MpLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHQpfSxBdWRpb0VsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1mdW5jdGlvbih0KXtpZih0aGlzLnByZXBhcmVSZW5kZXJhYmxlRnJhbWUodCwhMCksdGhpcy5wcmVwYXJlUHJvcGVydGllcyh0LCEwKSx0aGlzLnRtLl9wbGFjZWhvbGRlcil0aGlzLl9jdXJyZW50VGltZT10L3RoaXMuZGF0YS5zcjtlbHNle3ZhciBlPXRoaXMudG0udjt0aGlzLl9jdXJyZW50VGltZT1lfX0sZXh0ZW5kUHJvdG90eXBlKFtSZW5kZXJhYmxlRWxlbWVudCxCYXNlRWxlbWVudCxGcmFtZUVsZW1lbnRdLEF1ZGlvRWxlbWVudCksQXVkaW9FbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe3RoaXMuaXNJblJhbmdlJiZ0aGlzLl9jYW5QbGF5JiYodGhpcy5faXNQbGF5aW5nPyghdGhpcy5hdWRpby5wbGF5aW5nKCl8fC4xPE1hdGguYWJzKHRoaXMuX2N1cnJlbnRUaW1lL3RoaXMuZ2xvYmFsRGF0YS5mcmFtZVJhdGUtdGhpcy5hdWRpby5zZWVrKCkpKSYmdGhpcy5hdWRpby5zZWVrKHRoaXMuX2N1cnJlbnRUaW1lL3RoaXMuZ2xvYmFsRGF0YS5mcmFtZVJhdGUpOih0aGlzLmF1ZGlvLnBsYXkoKSx0aGlzLmF1ZGlvLnNlZWsodGhpcy5fY3VycmVudFRpbWUvdGhpcy5nbG9iYWxEYXRhLmZyYW1lUmF0ZSksdGhpcy5faXNQbGF5aW5nPSEwKSl9LEF1ZGlvRWxlbWVudC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe30sQXVkaW9FbGVtZW50LnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7dGhpcy5hdWRpby5wYXVzZSgpLHRoaXMuX2lzUGxheWluZz0hMX0sQXVkaW9FbGVtZW50LnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3RoaXMuYXVkaW8ucGF1c2UoKSx0aGlzLl9pc1BsYXlpbmc9ITEsdGhpcy5fY2FuUGxheT0hMX0sQXVkaW9FbGVtZW50LnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXt0aGlzLl9jYW5QbGF5PSEwfSxBdWRpb0VsZW1lbnQucHJvdG90eXBlLnNldFJhdGU9ZnVuY3Rpb24odCl7dGhpcy5hdWRpby5yYXRlKHQpfSxBdWRpb0VsZW1lbnQucHJvdG90eXBlLnZvbHVtZT1mdW5jdGlvbih0KXt0aGlzLmF1ZGlvLnZvbHVtZSh0KX0sQXVkaW9FbGVtZW50LnByb3RvdHlwZS5nZXRCYXNlRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBudWxsfSxBdWRpb0VsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LEF1ZGlvRWxlbWVudC5wcm90b3R5cGUuc291cmNlUmVjdEF0VGltZT1mdW5jdGlvbigpe30sQXVkaW9FbGVtZW50LnByb3RvdHlwZS5pbml0RXhwcmVzc2lvbnM9ZnVuY3Rpb24oKXt9LEZvb3RhZ2VFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9ZnVuY3Rpb24oKXt9LGV4dGVuZFByb3RvdHlwZShbUmVuZGVyYWJsZUVsZW1lbnQsQmFzZUVsZW1lbnQsRnJhbWVFbGVtZW50XSxGb290YWdlRWxlbWVudCksRm9vdGFnZUVsZW1lbnQucHJvdG90eXBlLmdldEJhc2VFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LEZvb3RhZ2VFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe30sRm9vdGFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt9LEZvb3RhZ2VFbGVtZW50LnByb3RvdHlwZS5pbml0RXhwcmVzc2lvbnM9ZnVuY3Rpb24oKXt0aGlzLmxheWVySW50ZXJmYWNlPUZvb3RhZ2VJbnRlcmZhY2UodGhpcyl9LEZvb3RhZ2VFbGVtZW50LnByb3RvdHlwZS5nZXRGb290YWdlRGF0YT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZvb3RhZ2VEYXRhfSxleHRlbmRQcm90b3R5cGUoW1NWR1JlbmRlcmVyLElDb21wRWxlbWVudCxTVkdCYXNlRWxlbWVudF0sU1ZHQ29tcEVsZW1lbnQpLGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsVHJhbnNmb3JtRWxlbWVudCxTVkdCYXNlRWxlbWVudCxIaWVyYXJjaHlFbGVtZW50LEZyYW1lRWxlbWVudCxSZW5kZXJhYmxlRE9NRWxlbWVudCxJVGV4dEVsZW1lbnRdLFNWR1RleHRMb3R0aWVFbGVtZW50KSxTVkdUZXh0TG90dGllRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuZGF0YS5zaW5nbGVTaGFwZSYmIXRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5jaGFycyYmKHRoaXMudGV4dENvbnRhaW5lcj1jcmVhdGVOUygidGV4dCIpKX0sU1ZHVGV4dExvdHRpZUVsZW1lbnQucHJvdG90eXBlLmJ1aWxkVGV4dENvbnRlbnRzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9dC5sZW5ndGgsaT1bXSxzPSIiO2U8cjspdFtlXT09PVN0cmluZy5mcm9tQ2hhckNvZGUoMTMpfHx0W2VdPT09U3RyaW5nLmZyb21DaGFyQ29kZSgzKT8oaS5wdXNoKHMpLHM9IiIpOnMrPXRbZV0sZSs9MTtyZXR1cm4gaS5wdXNoKHMpLGl9LFNWR1RleHRMb3R0aWVFbGVtZW50LnByb3RvdHlwZS5idWlsZE5ld1RleHQ9ZnVuY3Rpb24oKXt2YXIgdCxlLHI9dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGE7dGhpcy5yZW5kZXJlZExldHRlcnM9Y3JlYXRlU2l6ZWRBcnJheShyP3IubC5sZW5ndGg6MCksci5mYz90aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoImZpbGwiLHRoaXMuYnVpbGRDb2xvcihyLmZjKSk6dGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKCJmaWxsIiwicmdiYSgwLDAsMCwwKSIpLHIuc2MmJih0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsdGhpcy5idWlsZENvbG9yKHIuc2MpKSx0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsci5zdykpLHRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgiZm9udC1zaXplIixyLmZpbmFsU2l6ZSk7dmFyIGk9dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUoci5mKTtpZihpLmZDbGFzcyl0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIixpLmZDbGFzcyk7ZWxzZXt0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoImZvbnQtZmFtaWx5IixpLmZGYW1pbHkpO3ZhciBzPXIuZldlaWdodCxhPXIuZlN0eWxlO3RoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgiZm9udC1zdHlsZSIsYSksdGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKCJmb250LXdlaWdodCIscyl9dGhpcy5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsIixyLnQpO3ZhciBuLG89ci5sfHxbXSxoPSEhdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmNoYXJzO2U9by5sZW5ndGg7dmFyIGwscD10aGlzLm1IZWxwZXIsbT0iIixmPXRoaXMuZGF0YS5zaW5nbGVTaGFwZSxjPTAsZD0wLHU9ITAseT0uMDAxKnIudHIqci5maW5hbFNpemU7aWYoIWZ8fGh8fHIuc3ope3ZhciBnLHYsYj10aGlzLnRleHRTcGFucy5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSloJiZmJiYwIT09dHx8KG49dDxiP3RoaXMudGV4dFNwYW5zW3RdOmNyZWF0ZU5TKGg/InBhdGgiOiJ0ZXh0IiksYjw9dCYmKG4uc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsImJ1dHQiKSxuLnNldEF0dHJpYnV0ZSgic3Ryb2tlLWxpbmVqb2luIiwicm91bmQiKSxuLnNldEF0dHJpYnV0ZSgic3Ryb2tlLW1pdGVybGltaXQiLCI0IiksdGhpcy50ZXh0U3BhbnNbdF09bix0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChuKSksbi5zdHlsZS5kaXNwbGF5PSJpbmhlcml0IikscC5yZXNldCgpLHAuc2NhbGUoci5maW5hbFNpemUvMTAwLHIuZmluYWxTaXplLzEwMCksZiYmKG9bdF0ubiYmKGM9LXksZCs9ci55T2Zmc2V0LGQrPXU/MTowLHU9ITEpLHRoaXMuYXBwbHlUZXh0UHJvcGVydGllc1RvTWF0cml4KHIscCxvW3RdLmxpbmUsYyxkKSxjKz1vW3RdLmx8fDAsYys9eSksaD8obD0oZz0odj10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Q2hhckRhdGEoci5maW5hbFRleHRbdF0saS5mU3R5bGUsdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUoci5mKS5mRmFtaWx5KSkmJnYuZGF0YXx8e30pLnNoYXBlcz9nLnNoYXBlc1swXS5pdDpbXSxmP20rPXRoaXMuY3JlYXRlUGF0aFNoYXBlKHAsbCk6bi5zZXRBdHRyaWJ1dGUoImQiLHRoaXMuY3JlYXRlUGF0aFNoYXBlKHAsbCkpKTooZiYmbi5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgiK3AucHJvcHNbMTJdKyIsIitwLnByb3BzWzEzXSsiKSIpLG4udGV4dENvbnRlbnQ9b1t0XS52YWwsbi5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvWE1MLzE5OTgvbmFtZXNwYWNlIiwieG1sOnNwYWNlIiwicHJlc2VydmUiKSk7ZiYmbiYmbi5zZXRBdHRyaWJ1dGUoImQiLG0pfWVsc2V7dmFyIFA9dGhpcy50ZXh0Q29udGFpbmVyLEU9InN0YXJ0Ijtzd2l0Y2goci5qKXtjYXNlIDE6RT0iZW5kIjticmVhaztjYXNlIDI6RT0ibWlkZGxlIjticmVhaztkZWZhdWx0OkU9InN0YXJ0In1QLnNldEF0dHJpYnV0ZSgidGV4dC1hbmNob3IiLEUpLFAuc2V0QXR0cmlidXRlKCJsZXR0ZXItc3BhY2luZyIseSk7dmFyIHg9dGhpcy5idWlsZFRleHRDb250ZW50cyhyLmZpbmFsVGV4dCk7Zm9yKGU9eC5sZW5ndGgsZD1yLnBzP3IucHNbMV0rci5hc2NlbnQ6MCx0PTA7dDxlO3QrPTEpKG49dGhpcy50ZXh0U3BhbnNbdF18fGNyZWF0ZU5TKCJ0c3BhbiIpKS50ZXh0Q29udGVudD14W3RdLG4uc2V0QXR0cmlidXRlKCJ4IiwwKSxuLnNldEF0dHJpYnV0ZSgieSIsZCksbi5zdHlsZS5kaXNwbGF5PSJpbmhlcml0IixQLmFwcGVuZENoaWxkKG4pLHRoaXMudGV4dFNwYW5zW3RdPW4sZCs9ci5maW5hbExpbmVIZWlnaHQ7dGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQoUCl9Zm9yKDt0PHRoaXMudGV4dFNwYW5zLmxlbmd0aDspdGhpcy50ZXh0U3BhbnNbdF0uc3R5bGUuZGlzcGxheT0ibm9uZSIsdCs9MTt0aGlzLl9zaXplQ2hhbmdlZD0hMH0sU1ZHVGV4dExvdHRpZUVsZW1lbnQucHJvdG90eXBlLnNvdXJjZVJlY3RBdFRpbWU9ZnVuY3Rpb24oKXtpZih0aGlzLnByZXBhcmVGcmFtZSh0aGlzLmNvbXAucmVuZGVyZWRGcmFtZS10aGlzLmRhdGEuc3QpLHRoaXMucmVuZGVySW5uZXJDb250ZW50KCksdGhpcy5fc2l6ZUNoYW5nZWQpe3RoaXMuX3NpemVDaGFuZ2VkPSExO3ZhciB0PXRoaXMubGF5ZXJFbGVtZW50LmdldEJCb3goKTt0aGlzLmJib3g9e3RvcDp0LnksbGVmdDp0Lngsd2lkdGg6dC53aWR0aCxoZWlnaHQ6dC5oZWlnaHR9fXJldHVybiB0aGlzLmJib3h9LFNWR1RleHRMb3R0aWVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJJbm5lckNvbnRlbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5kYXRhLnNpbmdsZVNoYXBlJiYodGhpcy50ZXh0QW5pbWF0b3IuZ2V0TWVhc3VyZXModGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGEsdGhpcy5sZXR0ZXJzQ2hhbmdlZEZsYWcpLHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnfHx0aGlzLnRleHRBbmltYXRvci5sZXR0ZXJzQ2hhbmdlZEZsYWcpKXt2YXIgdCxlO3RoaXMuX3NpemVDaGFuZ2VkPSEwO3ZhciByLGkscz10aGlzLnRleHRBbmltYXRvci5yZW5kZXJlZExldHRlcnMsYT10aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS5sO2ZvcihlPWEubGVuZ3RoLHQ9MDt0PGU7dCs9MSlhW3RdLm58fChyPXNbdF0saT10aGlzLnRleHRTcGFuc1t0XSxyLl9tZGYubSYmaS5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsci5tKSxyLl9tZGYubyYmaS5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLHIubyksci5fbWRmLnN3JiZpLnNldEF0dHJpYnV0ZSgic3Ryb2tlLXdpZHRoIixyLnN3KSxyLl9tZGYuc2MmJmkuc2V0QXR0cmlidXRlKCJzdHJva2UiLHIuc2MpLHIuX21kZi5mYyYmaS5zZXRBdHRyaWJ1dGUoImZpbGwiLHIuZmMpKX19LGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsVHJhbnNmb3JtRWxlbWVudCxTVkdCYXNlRWxlbWVudCxJU2hhcGVFbGVtZW50LEhpZXJhcmNoeUVsZW1lbnQsRnJhbWVFbGVtZW50LFJlbmRlcmFibGVET01FbGVtZW50XSxTVkdTaGFwZUVsZW1lbnQpLFNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuaW5pdFNlY29uZGFyeUVsZW1lbnQ9ZnVuY3Rpb24oKXt9LFNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuaWRlbnRpdHlNYXRyaXg9bmV3IE1hdHJpeCxTVkdTaGFwZUVsZW1lbnQucHJvdG90eXBlLmJ1aWxkRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbigpe30sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250ZW50PWZ1bmN0aW9uKCl7dGhpcy5zZWFyY2hTaGFwZXModGhpcy5zaGFwZXNEYXRhLHRoaXMuaXRlbXNEYXRhLHRoaXMucHJldlZpZXdEYXRhLHRoaXMubGF5ZXJFbGVtZW50LDAsW10sITApLHRoaXMuZmlsdGVyVW5pcXVlU2hhcGVzKCl9LFNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuZmlsdGVyVW5pcXVlU2hhcGVzPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGkscz10aGlzLnNoYXBlcy5sZW5ndGgsYT10aGlzLnN0eWxlc0xpc3QubGVuZ3RoLG49W10sbz0hMTtmb3Iocj0wO3I8YTtyKz0xKXtmb3IoaT10aGlzLnN0eWxlc0xpc3Rbcl0sbz0hMSx0PW4ubGVuZ3RoPTA7dDxzO3QrPTEpLTEhPT0oZT10aGlzLnNoYXBlc1t0XSkuc3R5bGVzLmluZGV4T2YoaSkmJihuLnB1c2goZSksbz1lLl9pc0FuaW1hdGVkfHxvKTsxPG4ubGVuZ3RoJiZvJiZ0aGlzLnNldFNoYXBlc0FzQW5pbWF0ZWQobil9fSxTVkdTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNldFNoYXBlc0FzQW5pbWF0ZWQ9ZnVuY3Rpb24odCl7dmFyIGUscj10Lmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXRbZV0uc2V0QXNBbmltYXRlZCgpfSxTVkdTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVN0eWxlRWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciByLGk9bmV3IFNWR1N0eWxlRGF0YSh0LGUpLHM9aS5wRWxlbTtpZigic3QiPT09dC50eSlyPW5ldyBTVkdTdHJva2VTdHlsZURhdGEodGhpcyx0LGkpO2Vsc2UgaWYoImZsIj09PXQudHkpcj1uZXcgU1ZHRmlsbFN0eWxlRGF0YSh0aGlzLHQsaSk7ZWxzZSBpZigiZ2YiPT09dC50eXx8ImdzIj09PXQudHkpe3I9bmV3KCJnZiI9PT10LnR5P1NWR0dyYWRpZW50RmlsbFN0eWxlRGF0YTpTVkdHcmFkaWVudFN0cm9rZVN0eWxlRGF0YSkodGhpcyx0LGkpLHRoaXMuZ2xvYmFsRGF0YS5kZWZzLmFwcGVuZENoaWxkKHIuZ2YpLHIubWFza0lkJiYodGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQoci5tcyksdGhpcy5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQoci5vZikscy5zZXRBdHRyaWJ1dGUoIm1hc2siLCJ1cmwoIitsb2NhdGlvbkhyZWYrIiMiK3IubWFza0lkKyIpIikpfXJldHVybiJzdCIhPT10LnR5JiYiZ3MiIT09dC50eXx8KHMuc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsbGluZUNhcEVudW1bdC5sY3x8Ml0pLHMuc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWpvaW4iLGxpbmVKb2luRW51bVt0LmxqfHwyXSkscy5zZXRBdHRyaWJ1dGUoImZpbGwtb3BhY2l0eSIsIjAiKSwxPT09dC5saiYmcy5zZXRBdHRyaWJ1dGUoInN0cm9rZS1taXRlcmxpbWl0Iix0Lm1sKSksMj09PXQuciYmcy5zZXRBdHRyaWJ1dGUoImZpbGwtcnVsZSIsImV2ZW5vZGQiKSx0LmxuJiZzLnNldEF0dHJpYnV0ZSgiaWQiLHQubG4pLHQuY2wmJnMuc2V0QXR0cmlidXRlKCJjbGFzcyIsdC5jbCksdC5ibSYmKHMuc3R5bGVbIm1peC1ibGVuZC1tb2RlIl09Z2V0QmxlbmRNb2RlKHQuYm0pKSx0aGlzLnN0eWxlc0xpc3QucHVzaChpKSx0aGlzLmFkZFRvQW5pbWF0ZWRDb250ZW50cyh0LHIpLHJ9LFNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlR3JvdXBFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBTaGFwZUdyb3VwRGF0YTtyZXR1cm4gdC5sbiYmZS5nci5zZXRBdHRyaWJ1dGUoImlkIix0LmxuKSx0LmNsJiZlLmdyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHQuY2wpLHQuYm0mJihlLmdyLnN0eWxlWyJtaXgtYmxlbmQtbW9kZSJdPWdldEJsZW5kTW9kZSh0LmJtKSksZX0sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVUcmFuc2Zvcm1FbGVtZW50PWZ1bmN0aW9uKHQsZSl7dmFyIHI9VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHRoaXMsdCx0aGlzKSxpPW5ldyBTVkdUcmFuc2Zvcm1EYXRhKHIsci5vLGUpO3JldHVybiB0aGlzLmFkZFRvQW5pbWF0ZWRDb250ZW50cyh0LGkpLGl9LFNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhcGVFbGVtZW50PWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT00OyJyYyI9PT10LnR5P2k9NToiZWwiPT09dC50eT9pPTY6InNyIj09PXQudHkmJihpPTcpO3ZhciBzPW5ldyBTVkdTaGFwZURhdGEoZSxyLFNoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcCh0aGlzLHQsaSx0aGlzKSk7cmV0dXJuIHRoaXMuc2hhcGVzLnB1c2gocyksdGhpcy5hZGRTaGFwZVRvTW9kaWZpZXJzKHMpLHRoaXMuYWRkVG9BbmltYXRlZENvbnRlbnRzKHQscyksc30sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5hZGRUb0FuaW1hdGVkQ29udGVudHM9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHI9MCxpPXRoaXMuYW5pbWF0ZWRDb250ZW50cy5sZW5ndGg7cjxpOyl7aWYodGhpcy5hbmltYXRlZENvbnRlbnRzW3JdLmVsZW1lbnQ9PT1lKXJldHVybjtyKz0xfXRoaXMuYW5pbWF0ZWRDb250ZW50cy5wdXNoKHtmbjpTVkdFbGVtZW50c1JlbmRlcmVyLmNyZWF0ZVJlbmRlckZ1bmN0aW9uKHQpLGVsZW1lbnQ6ZSxkYXRhOnR9KX0sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZXRFbGVtZW50U3R5bGVzPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5zdHlsZXMsaT10aGlzLnN0eWxlc0xpc3QubGVuZ3RoO2ZvcihlPTA7ZTxpO2UrPTEpdGhpcy5zdHlsZXNMaXN0W2VdLmNsb3NlZHx8ci5wdXNoKHRoaXMuc3R5bGVzTGlzdFtlXSl9LFNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUucmVsb2FkU2hhcGVzPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5faXNGaXJzdEZyYW1lPSEwO3ZhciBlPXRoaXMuaXRlbXNEYXRhLmxlbmd0aDtmb3IodD0wO3Q8ZTt0Kz0xKXRoaXMucHJldlZpZXdEYXRhW3RdPXRoaXMuaXRlbXNEYXRhW3RdO2Zvcih0aGlzLnNlYXJjaFNoYXBlcyh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5wcmV2Vmlld0RhdGEsdGhpcy5sYXllckVsZW1lbnQsMCxbXSwhMCksdGhpcy5maWx0ZXJVbmlxdWVTaGFwZXMoKSxlPXRoaXMuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoLHQ9MDt0PGU7dCs9MSl0aGlzLmR5bmFtaWNQcm9wZXJ0aWVzW3RdLmdldFZhbHVlKCk7dGhpcy5yZW5kZXJNb2RpZmllcnMoKX0sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zZWFyY2hTaGFwZXM9ZnVuY3Rpb24odCxlLHIsaSxzLGEsbil7dmFyIG8saCxsLHAsbSxmLGM9W10uY29uY2F0KGEpLGQ9dC5sZW5ndGgtMSx1PVtdLHk9W107Zm9yKG89ZDswPD1vO28tPTEpe2lmKChmPXRoaXMuc2VhcmNoUHJvY2Vzc2VkRWxlbWVudCh0W29dKSk/ZVtvXT1yW2YtMV06dFtvXS5fcmVuZGVyPW4sImZsIj09PXRbb10udHl8fCJzdCI9PT10W29dLnR5fHwiZ2YiPT09dFtvXS50eXx8ImdzIj09PXRbb10udHkpZj9lW29dLnN0eWxlLmNsb3NlZD0hMTplW29dPXRoaXMuY3JlYXRlU3R5bGVFbGVtZW50KHRbb10scyksdFtvXS5fcmVuZGVyJiZlW29dLnN0eWxlLnBFbGVtLnBhcmVudE5vZGUhPT1pJiZpLmFwcGVuZENoaWxkKGVbb10uc3R5bGUucEVsZW0pLHUucHVzaChlW29dLnN0eWxlKTtlbHNlIGlmKCJnciI9PT10W29dLnR5KXtpZihmKWZvcihsPWVbb10uaXQubGVuZ3RoLGg9MDtoPGw7aCs9MSllW29dLnByZXZWaWV3RGF0YVtoXT1lW29dLml0W2hdO2Vsc2UgZVtvXT10aGlzLmNyZWF0ZUdyb3VwRWxlbWVudCh0W29dKTt0aGlzLnNlYXJjaFNoYXBlcyh0W29dLml0LGVbb10uaXQsZVtvXS5wcmV2Vmlld0RhdGEsZVtvXS5ncixzKzEsYyxuKSx0W29dLl9yZW5kZXImJmVbb10uZ3IucGFyZW50Tm9kZSE9PWkmJmkuYXBwZW5kQ2hpbGQoZVtvXS5ncil9ZWxzZSJ0ciI9PT10W29dLnR5PyhmfHwoZVtvXT10aGlzLmNyZWF0ZVRyYW5zZm9ybUVsZW1lbnQodFtvXSxpKSkscD1lW29dLnRyYW5zZm9ybSxjLnB1c2gocCkpOiJzaCI9PT10W29dLnR5fHwicmMiPT09dFtvXS50eXx8ImVsIj09PXRbb10udHl8fCJzciI9PT10W29dLnR5PyhmfHwoZVtvXT10aGlzLmNyZWF0ZVNoYXBlRWxlbWVudCh0W29dLGMscykpLHRoaXMuc2V0RWxlbWVudFN0eWxlcyhlW29dKSk6InRtIj09PXRbb10udHl8fCJyZCI9PT10W29dLnR5fHwibXMiPT09dFtvXS50eXx8InBiIj09PXRbb10udHk/KGY/KG09ZVtvXSkuY2xvc2VkPSExOigobT1TaGFwZU1vZGlmaWVycy5nZXRNb2RpZmllcih0W29dLnR5KSkuaW5pdCh0aGlzLHRbb10pLGVbb109bSx0aGlzLnNoYXBlTW9kaWZpZXJzLnB1c2gobSkpLHkucHVzaChtKSk6InJwIj09PXRbb10udHkmJihmPyhtPWVbb10pLmNsb3NlZD0hMDoobT1TaGFwZU1vZGlmaWVycy5nZXRNb2RpZmllcih0W29dLnR5KSwoZVtvXT1tKS5pbml0KHRoaXMsdCxvLGUpLHRoaXMuc2hhcGVNb2RpZmllcnMucHVzaChtKSxuPSExKSx5LnB1c2gobSkpO3RoaXMuYWRkUHJvY2Vzc2VkRWxlbWVudCh0W29dLG8rMSl9Zm9yKGQ9dS5sZW5ndGgsbz0wO288ZDtvKz0xKXVbb10uY2xvc2VkPSEwO2ZvcihkPXkubGVuZ3RoLG89MDtvPGQ7bys9MSl5W29dLmNsb3NlZD0hMH0sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJJbm5lckNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdDt0aGlzLnJlbmRlck1vZGlmaWVycygpO3ZhciBlPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSl0aGlzLnN0eWxlc0xpc3RbdF0ucmVzZXQoKTtmb3IodGhpcy5yZW5kZXJTaGFwZSgpLHQ9MDt0PGU7dCs9MSkodGhpcy5zdHlsZXNMaXN0W3RdLl9tZGZ8fHRoaXMuX2lzRmlyc3RGcmFtZSkmJih0aGlzLnN0eWxlc0xpc3RbdF0ubXNFbGVtJiYodGhpcy5zdHlsZXNMaXN0W3RdLm1zRWxlbS5zZXRBdHRyaWJ1dGUoImQiLHRoaXMuc3R5bGVzTGlzdFt0XS5kKSx0aGlzLnN0eWxlc0xpc3RbdF0uZD0iTTAgMCIrdGhpcy5zdHlsZXNMaXN0W3RdLmQpLHRoaXMuc3R5bGVzTGlzdFt0XS5wRWxlbS5zZXRBdHRyaWJ1dGUoImQiLHRoaXMuc3R5bGVzTGlzdFt0XS5kfHwiTTAgMCIpKX0sU1ZHU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJTaGFwZT1mdW5jdGlvbigpe3ZhciB0LGUscj10aGlzLmFuaW1hdGVkQ29udGVudHMubGVuZ3RoO2Zvcih0PTA7dDxyO3QrPTEpZT10aGlzLmFuaW1hdGVkQ29udGVudHNbdF0sKHRoaXMuX2lzRmlyc3RGcmFtZXx8ZS5lbGVtZW50Ll9pc0FuaW1hdGVkKSYmITAhPT1lLmRhdGEmJmUuZm4oZS5kYXRhLGUuZWxlbWVudCx0aGlzLl9pc0ZpcnN0RnJhbWUpfSxTVkdTaGFwZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmRlc3Ryb3lCYXNlRWxlbWVudCgpLHRoaXMuc2hhcGVzRGF0YT1udWxsLHRoaXMuaXRlbXNEYXRhPW51bGx9LFNWR1RpbnRGaWx0ZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5fbWRmKXt2YXIgZT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52LHI9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzFdLnAudixpPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1syXS5wLnYvMTAwO3RoaXMubWF0cml4RmlsdGVyLnNldEF0dHJpYnV0ZSgidmFsdWVzIixyWzBdLWVbMF0rIiAwIDAgMCAiK2VbMF0rIiAiKyhyWzFdLWVbMV0pKyIgMCAwIDAgIitlWzFdKyIgIisoclsyXS1lWzJdKSsiIDAgMCAwICIrZVsyXSsiIDAgMCAwICIraSsiIDAiKX19LFNWR0ZpbGxGaWx0ZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5fbWRmKXt2YXIgZT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52LHI9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzZdLnAudjt0aGlzLm1hdHJpeEZpbHRlci5zZXRBdHRyaWJ1dGUoInZhbHVlcyIsIjAgMCAwIDAgIitlWzBdKyIgMCAwIDAgMCAiK2VbMV0rIiAwIDAgMCAwICIrZVsyXSsiIDAgMCAwICIrcisiIDAiKX19LFNWR0dhdXNzaWFuQmx1ckVmZmVjdC5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24odCl7aWYodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLl9tZGYpe3ZhciBlPS4zKnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1swXS5wLnYscj10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMV0ucC52LGk9Mz09cj8wOmUscz0yPT1yPzA6ZTt0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIixpKyIgIitzKTt2YXIgYT0xPT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52PyJ3cmFwIjoiZHVwbGljYXRlIjt0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZSgiZWRnZU1vZGUiLGEpfX0sU1ZHU3Ryb2tlRWZmZWN0LnByb3RvdHlwZS5pbml0aWFsaXplPWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGkscz10aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmNoaWxkcmVufHx0aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmNoaWxkTm9kZXM7Zm9yKDE9PT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMV0ucC52PyhpPXRoaXMuZWxlbS5tYXNrTWFuYWdlci5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoLHI9MCk6aT0ocj10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMF0ucC52LTEpKzEsKGU9Y3JlYXRlTlMoImciKSkuc2V0QXR0cmlidXRlKCJmaWxsIiwibm9uZSIpLGUuc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsInJvdW5kIiksZS5zZXRBdHRyaWJ1dGUoInN0cm9rZS1kYXNob2Zmc2V0IiwxKTtyPGk7cis9MSl0PWNyZWF0ZU5TKCJwYXRoIiksZS5hcHBlbmRDaGlsZCh0KSx0aGlzLnBhdGhzLnB1c2goe3A6dCxtOnJ9KTtpZigzPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnYpe3ZhciBhPWNyZWF0ZU5TKCJtYXNrIiksbj1jcmVhdGVFbGVtZW50SUQoKTthLnNldEF0dHJpYnV0ZSgiaWQiLG4pLGEuc2V0QXR0cmlidXRlKCJtYXNrLXR5cGUiLCJhbHBoYSIpLGEuYXBwZW5kQ2hpbGQoZSksdGhpcy5lbGVtLmdsb2JhbERhdGEuZGVmcy5hcHBlbmRDaGlsZChhKTt2YXIgbz1jcmVhdGVOUygiZyIpO2ZvcihvLnNldEF0dHJpYnV0ZSgibWFzayIsInVybCgiK2xvY2F0aW9uSHJlZisiIyIrbisiKSIpO3NbMF07KW8uYXBwZW5kQ2hpbGQoc1swXSk7dGhpcy5lbGVtLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChvKSx0aGlzLm1hc2tlcj1hLGUuc2V0QXR0cmlidXRlKCJzdHJva2UiLCIjZmZmIil9ZWxzZSBpZigxPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnZ8fDI9PT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMTBdLnAudil7aWYoMj09PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxMF0ucC52KWZvcihzPXRoaXMuZWxlbS5sYXllckVsZW1lbnQuY2hpbGRyZW58fHRoaXMuZWxlbS5sYXllckVsZW1lbnQuY2hpbGROb2RlcztzLmxlbmd0aDspdGhpcy5lbGVtLmxheWVyRWxlbWVudC5yZW1vdmVDaGlsZChzWzBdKTt0aGlzLmVsZW0ubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKGUpLHRoaXMuZWxlbS5sYXllckVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCJtYXNrIiksZS5zZXRBdHRyaWJ1dGUoInN0cm9rZSIsIiNmZmYiKX10aGlzLmluaXRpYWxpemVkPSEwLHRoaXMucGF0aE1hc2tlcj1lfSxTVkdTdHJva2VFZmZlY3QucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlO3RoaXMuaW5pdGlhbGl6ZWR8fHRoaXMuaW5pdGlhbGl6ZSgpO3ZhciByLGkscz10aGlzLnBhdGhzLmxlbmd0aDtmb3IoZT0wO2U8cztlKz0xKWlmKC0xIT09dGhpcy5wYXRoc1tlXS5tJiYocj10aGlzLmVsZW0ubWFza01hbmFnZXIudmlld0RhdGFbdGhpcy5wYXRoc1tlXS5tXSxpPXRoaXMucGF0aHNbZV0ucCwodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLl9tZGZ8fHIucHJvcC5fbWRmKSYmaS5zZXRBdHRyaWJ1dGUoImQiLHIubGFzdFBhdGgpLHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s5XS5wLl9tZGZ8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLl9tZGZ8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s3XS5wLl9tZGZ8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s4XS5wLl9tZGZ8fHIucHJvcC5fbWRmKSl7dmFyIGE7aWYoMCE9PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s3XS5wLnZ8fDEwMCE9PXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s4XS5wLnYpe3ZhciBuPS4wMSpNYXRoLm1pbih0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbN10ucC52LHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s4XS5wLnYpLG89LjAxKk1hdGgubWF4KHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s3XS5wLnYsdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzhdLnAudiksaD1pLmdldFRvdGFsTGVuZ3RoKCk7YT0iMCAwIDAgIitoKm4rIiAiO3ZhciBsLHA9aCooby1uKSxtPTErMip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52KnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s5XS5wLnYqLjAxLGY9TWF0aC5mbG9vcihwL20pO2ZvcihsPTA7bDxmO2wrPTEpYSs9IjEgIisyKnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLnYqdGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzldLnAudiouMDErIiAiO2ErPSIwICIrMTAqaCsiIDAgMCJ9ZWxzZSBhPSIxICIrMip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52KnRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s5XS5wLnYqLjAxO2kuc2V0QXR0cmlidXRlKCJzdHJva2UtZGFzaGFycmF5IixhKX1pZigodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzRdLnAuX21kZikmJnRoaXMucGF0aE1hc2tlci5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIsMip0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52KSwodHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzZdLnAuX21kZikmJnRoaXMucGF0aE1hc2tlci5zZXRBdHRyaWJ1dGUoIm9wYWNpdHkiLHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s2XS5wLnYpLCgxPT09dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzEwXS5wLnZ8fDI9PT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMTBdLnAudikmJih0fHx0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbM10ucC5fbWRmKSl7dmFyIGM9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzNdLnAudjt0aGlzLnBhdGhNYXNrZXIuc2V0QXR0cmlidXRlKCJzdHJva2UiLCJyZ2IoIitibUZsb29yKDI1NSpjWzBdKSsiLCIrYm1GbG9vcigyNTUqY1sxXSkrIiwiK2JtRmxvb3IoMjU1KmNbMl0pKyIpIil9fSxTVkdUcml0b25lRmlsdGVyLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0fHx0aGlzLmZpbHRlck1hbmFnZXIuX21kZil7dmFyIGU9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzBdLnAudixyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxXS5wLnYsaT10aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52LHM9aVswXSsiICIrclswXSsiICIrZVswXSxhPWlbMV0rIiAiK3JbMV0rIiAiK2VbMV0sbj1pWzJdKyIgIityWzJdKyIgIitlWzJdO3RoaXMuZmVGdW5jUi5zZXRBdHRyaWJ1dGUoInRhYmxlVmFsdWVzIixzKSx0aGlzLmZlRnVuY0cuc2V0QXR0cmlidXRlKCJ0YWJsZVZhbHVlcyIsYSksdGhpcy5mZUZ1bmNCLnNldEF0dHJpYnV0ZSgidGFibGVWYWx1ZXMiLG4pfX0sU1ZHUHJvTGV2ZWxzRmlsdGVyLnByb3RvdHlwZS5jcmVhdGVGZUZ1bmM9ZnVuY3Rpb24odCxlKXt2YXIgcj1jcmVhdGVOUyh0KTtyZXR1cm4gci5zZXRBdHRyaWJ1dGUoInR5cGUiLCJ0YWJsZSIpLGUuYXBwZW5kQ2hpbGQocikscn0sU1ZHUHJvTGV2ZWxzRmlsdGVyLnByb3RvdHlwZS5nZXRUYWJsZVZhbHVlPWZ1bmN0aW9uKHQsZSxyLGkscyl7Zm9yKHZhciBhLG4sbz0wLGg9TWF0aC5taW4odCxlKSxsPU1hdGgubWF4KHQsZSkscD1BcnJheS5jYWxsKG51bGwse2xlbmd0aDoyNTZ9KSxtPTAsZj1zLWksYz1lLXQ7bzw9MjU2OyluPShhPW8vMjU2KTw9aD9jPDA/czppOmw8PWE/YzwwP2k6czppK2YqTWF0aC5wb3coKGEtdCkvYywxL3IpLHBbbV09bixtKz0xLG8rPTI1Ni8yNTU7cmV0dXJuIHAuam9pbigiICIpfSxTVkdQcm9MZXZlbHNGaWx0ZXIucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe2lmKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5fbWRmKXt2YXIgZSxyPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50czt0aGlzLmZlRnVuY1JDb21wb3NlZCYmKHR8fHJbM10ucC5fbWRmfHxyWzRdLnAuX21kZnx8cls1XS5wLl9tZGZ8fHJbNl0ucC5fbWRmfHxyWzddLnAuX21kZikmJihlPXRoaXMuZ2V0VGFibGVWYWx1ZShyWzNdLnAudixyWzRdLnAudixyWzVdLnAudixyWzZdLnAudixyWzddLnAudiksdGhpcy5mZUZ1bmNSQ29tcG9zZWQuc2V0QXR0cmlidXRlKCJ0YWJsZVZhbHVlcyIsZSksdGhpcy5mZUZ1bmNHQ29tcG9zZWQuc2V0QXR0cmlidXRlKCJ0YWJsZVZhbHVlcyIsZSksdGhpcy5mZUZ1bmNCQ29tcG9zZWQuc2V0QXR0cmlidXRlKCJ0YWJsZVZhbHVlcyIsZSkpLHRoaXMuZmVGdW5jUiYmKHR8fHJbMTBdLnAuX21kZnx8clsxMV0ucC5fbWRmfHxyWzEyXS5wLl9tZGZ8fHJbMTNdLnAuX21kZnx8clsxNF0ucC5fbWRmKSYmKGU9dGhpcy5nZXRUYWJsZVZhbHVlKHJbMTBdLnAudixyWzExXS5wLnYsclsxMl0ucC52LHJbMTNdLnAudixyWzE0XS5wLnYpLHRoaXMuZmVGdW5jUi5zZXRBdHRyaWJ1dGUoInRhYmxlVmFsdWVzIixlKSksdGhpcy5mZUZ1bmNHJiYodHx8clsxN10ucC5fbWRmfHxyWzE4XS5wLl9tZGZ8fHJbMTldLnAuX21kZnx8clsyMF0ucC5fbWRmfHxyWzIxXS5wLl9tZGYpJiYoZT10aGlzLmdldFRhYmxlVmFsdWUoclsxN10ucC52LHJbMThdLnAudixyWzE5XS5wLnYsclsyMF0ucC52LHJbMjFdLnAudiksdGhpcy5mZUZ1bmNHLnNldEF0dHJpYnV0ZSgidGFibGVWYWx1ZXMiLGUpKSx0aGlzLmZlRnVuY0ImJih0fHxyWzI0XS5wLl9tZGZ8fHJbMjVdLnAuX21kZnx8clsyNl0ucC5fbWRmfHxyWzI3XS5wLl9tZGZ8fHJbMjhdLnAuX21kZikmJihlPXRoaXMuZ2V0VGFibGVWYWx1ZShyWzI0XS5wLnYsclsyNV0ucC52LHJbMjZdLnAudixyWzI3XS5wLnYsclsyOF0ucC52KSx0aGlzLmZlRnVuY0Iuc2V0QXR0cmlidXRlKCJ0YWJsZVZhbHVlcyIsZSkpLHRoaXMuZmVGdW5jQSYmKHR8fHJbMzFdLnAuX21kZnx8clszMl0ucC5fbWRmfHxyWzMzXS5wLl9tZGZ8fHJbMzRdLnAuX21kZnx8clszNV0ucC5fbWRmKSYmKGU9dGhpcy5nZXRUYWJsZVZhbHVlKHJbMzFdLnAudixyWzMyXS5wLnYsclszM10ucC52LHJbMzRdLnAudixyWzM1XS5wLnYpLHRoaXMuZmVGdW5jQS5zZXRBdHRyaWJ1dGUoInRhYmxlVmFsdWVzIixlKSl9fSxTVkdEcm9wU2hhZG93RWZmZWN0LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbih0KXtpZih0fHx0aGlzLmZpbHRlck1hbmFnZXIuX21kZil7aWYoKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1s0XS5wLl9tZGYpJiZ0aGlzLmZlR2F1c3NpYW5CbHVyLnNldEF0dHJpYnV0ZSgic3RkRGV2aWF0aW9uIix0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbNF0ucC52LzQpLHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1swXS5wLl9tZGYpe3ZhciBlPXRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1swXS5wLnY7dGhpcy5mZUZsb29kLnNldEF0dHJpYnV0ZSgiZmxvb2QtY29sb3IiLHJnYlRvSGV4KE1hdGgucm91bmQoMjU1KmVbMF0pLE1hdGgucm91bmQoMjU1KmVbMV0pLE1hdGgucm91bmQoMjU1KmVbMl0pKSl9aWYoKHR8fHRoaXMuZmlsdGVyTWFuYWdlci5lZmZlY3RFbGVtZW50c1sxXS5wLl9tZGYpJiZ0aGlzLmZlRmxvb2Quc2V0QXR0cmlidXRlKCJmbG9vZC1vcGFjaXR5Iix0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMV0ucC52LzI1NSksdHx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzJdLnAuX21kZnx8dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzNdLnAuX21kZil7dmFyIHI9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzNdLnAudixpPSh0aGlzLmZpbHRlck1hbmFnZXIuZWZmZWN0RWxlbWVudHNbMl0ucC52LTkwKSpkZWdUb1JhZHMscz1yKk1hdGguY29zKGkpLGE9cipNYXRoLnNpbihpKTt0aGlzLmZlT2Zmc2V0LnNldEF0dHJpYnV0ZSgiZHgiLHMpLHRoaXMuZmVPZmZzZXQuc2V0QXR0cmlidXRlKCJkeSIsYSl9fX07dmFyIF9zdmdNYXR0ZVN5bWJvbHM9W107ZnVuY3Rpb24gU1ZHTWF0dGUzRWZmZWN0KHQsZSxyKXt0aGlzLmluaXRpYWxpemVkPSExLHRoaXMuZmlsdGVyTWFuYWdlcj1lLHRoaXMuZmlsdGVyRWxlbT10LCh0aGlzLmVsZW09cikubWF0dGVFbGVtZW50PWNyZWF0ZU5TKCJnIiksci5tYXR0ZUVsZW1lbnQuYXBwZW5kQ2hpbGQoci5sYXllckVsZW1lbnQpLHIubWF0dGVFbGVtZW50LmFwcGVuZENoaWxkKHIudHJhbnNmb3JtZWRFbGVtZW50KSxyLmJhc2VFbGVtZW50PXIubWF0dGVFbGVtZW50fWZ1bmN0aW9uIFNWR0VmZmVjdHModCl7dmFyIGUscixpPXQuZGF0YS5lZj90LmRhdGEuZWYubGVuZ3RoOjAscz1jcmVhdGVFbGVtZW50SUQoKSxhPWZpbHRlcnNGYWN0b3J5LmNyZWF0ZUZpbHRlcihzLCEwKSxuPTA7Zm9yKHRoaXMuZmlsdGVycz1bXSxlPTA7ZTxpO2UrPTEpcj1udWxsLDIwPT09dC5kYXRhLmVmW2VdLnR5PyhuKz0xLHI9bmV3IFNWR1RpbnRGaWx0ZXIoYSx0LmVmZmVjdHNNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzW2VdKSk6MjE9PT10LmRhdGEuZWZbZV0udHk/KG4rPTEscj1uZXcgU1ZHRmlsbEZpbHRlcihhLHQuZWZmZWN0c01hbmFnZXIuZWZmZWN0RWxlbWVudHNbZV0pKToyMj09PXQuZGF0YS5lZltlXS50eT9yPW5ldyBTVkdTdHJva2VFZmZlY3QodCx0LmVmZmVjdHNNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzW2VdKToyMz09PXQuZGF0YS5lZltlXS50eT8obis9MSxyPW5ldyBTVkdUcml0b25lRmlsdGVyKGEsdC5lZmZlY3RzTWFuYWdlci5lZmZlY3RFbGVtZW50c1tlXSkpOjI0PT09dC5kYXRhLmVmW2VdLnR5PyhuKz0xLHI9bmV3IFNWR1Byb0xldmVsc0ZpbHRlcihhLHQuZWZmZWN0c01hbmFnZXIuZWZmZWN0RWxlbWVudHNbZV0pKToyNT09PXQuZGF0YS5lZltlXS50eT8obis9MSxyPW5ldyBTVkdEcm9wU2hhZG93RWZmZWN0KGEsdC5lZmZlY3RzTWFuYWdlci5lZmZlY3RFbGVtZW50c1tlXSkpOjI4PT09dC5kYXRhLmVmW2VdLnR5P3I9bmV3IFNWR01hdHRlM0VmZmVjdChhLHQuZWZmZWN0c01hbmFnZXIuZWZmZWN0RWxlbWVudHNbZV0sdCk6Mjk9PT10LmRhdGEuZWZbZV0udHkmJihuKz0xLHI9bmV3IFNWR0dhdXNzaWFuQmx1ckVmZmVjdChhLHQuZWZmZWN0c01hbmFnZXIuZWZmZWN0RWxlbWVudHNbZV0pKSxyJiZ0aGlzLmZpbHRlcnMucHVzaChyKTtuJiYodC5nbG9iYWxEYXRhLmRlZnMuYXBwZW5kQ2hpbGQoYSksdC5sYXllckVsZW1lbnQuc2V0QXR0cmlidXRlKCJmaWx0ZXIiLCJ1cmwoIitsb2NhdGlvbkhyZWYrIiMiK3MrIikiKSksdGhpcy5maWx0ZXJzLmxlbmd0aCYmdC5hZGRSZW5kZXJhYmxlQ29tcG9uZW50KHRoaXMpfWZ1bmN0aW9uIENWQ29udGV4dERhdGEoKXt2YXIgdDt0aGlzLnNhdmVkPVtdLHRoaXMuY0FyclBvcz0wLHRoaXMuY1RyPW5ldyBNYXRyaXgsdGhpcy5jTz0xO2Zvcih0aGlzLnNhdmVkT3A9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIsMTUpLHQ9MDt0PDE1O3QrPTEpdGhpcy5zYXZlZFt0XT1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIiwxNik7dGhpcy5fbGVuZ3RoPTE1fWZ1bmN0aW9uIENWQmFzZUVsZW1lbnQoKXt9ZnVuY3Rpb24gQ1ZJbWFnZUVsZW1lbnQodCxlLHIpe3RoaXMuYXNzZXREYXRhPWUuZ2V0QXNzZXREYXRhKHQucmVmSWQpLHRoaXMuaW1nPWUuaW1hZ2VMb2FkZXIuZ2V0QXNzZXQodGhpcy5hc3NldERhdGEpLHRoaXMuaW5pdEVsZW1lbnQodCxlLHIpfWZ1bmN0aW9uIENWQ29tcEVsZW1lbnQodCxlLHIpe3RoaXMuY29tcGxldGVMYXllcnM9ITEsdGhpcy5sYXllcnM9dC5sYXllcnMsdGhpcy5wZW5kaW5nRWxlbWVudHM9W10sdGhpcy5lbGVtZW50cz1jcmVhdGVTaXplZEFycmF5KHRoaXMubGF5ZXJzLmxlbmd0aCksdGhpcy5pbml0RWxlbWVudCh0LGUsciksdGhpcy50bT10LnRtP1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC50bSwwLGUuZnJhbWVSYXRlLHRoaXMpOntfcGxhY2Vob2xkZXI6ITB9fWZ1bmN0aW9uIENWTWFza0VsZW1lbnQodCxlKXt2YXIgcjt0aGlzLmRhdGE9dCx0aGlzLmVsZW1lbnQ9ZSx0aGlzLm1hc2tzUHJvcGVydGllcz10aGlzLmRhdGEubWFza3NQcm9wZXJ0aWVzfHxbXSx0aGlzLnZpZXdEYXRhPWNyZWF0ZVNpemVkQXJyYXkodGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoKTt2YXIgaT10aGlzLm1hc2tzUHJvcGVydGllcy5sZW5ndGgscz0hMTtmb3Iocj0wO3I8aTtyKz0xKSJuIiE9PXRoaXMubWFza3NQcm9wZXJ0aWVzW3JdLm1vZGUmJihzPSEwKSx0aGlzLnZpZXdEYXRhW3JdPVNoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcCh0aGlzLmVsZW1lbnQsdGhpcy5tYXNrc1Byb3BlcnRpZXNbcl0sMyk7KHRoaXMuaGFzTWFza3M9cykmJnRoaXMuZWxlbWVudC5hZGRSZW5kZXJhYmxlQ29tcG9uZW50KHRoaXMpfWZ1bmN0aW9uIENWU2hhcGVFbGVtZW50KHQsZSxyKXt0aGlzLnNoYXBlcz1bXSx0aGlzLnNoYXBlc0RhdGE9dC5zaGFwZXMsdGhpcy5zdHlsZXNMaXN0PVtdLHRoaXMuaXRlbXNEYXRhPVtdLHRoaXMucHJldlZpZXdEYXRhPVtdLHRoaXMuc2hhcGVNb2RpZmllcnM9W10sdGhpcy5wcm9jZXNzZWRFbGVtZW50cz1bXSx0aGlzLnRyYW5zZm9ybXNNYW5hZ2VyPW5ldyBTaGFwZVRyYW5zZm9ybU1hbmFnZXIsdGhpcy5pbml0RWxlbWVudCh0LGUscil9ZnVuY3Rpb24gQ1ZTb2xpZEVsZW1lbnQodCxlLHIpe3RoaXMuaW5pdEVsZW1lbnQodCxlLHIpfWZ1bmN0aW9uIENWVGV4dEVsZW1lbnQodCxlLHIpe3RoaXMudGV4dFNwYW5zPVtdLHRoaXMueU9mZnNldD0wLHRoaXMuZmlsbENvbG9yQW5pbT0hMSx0aGlzLnN0cm9rZUNvbG9yQW5pbT0hMSx0aGlzLnN0cm9rZVdpZHRoQW5pbT0hMSx0aGlzLnN0cm9rZT0hMSx0aGlzLmZpbGw9ITEsdGhpcy5qdXN0aWZ5T2Zmc2V0PTAsdGhpcy5jdXJyZW50UmVuZGVyPW51bGwsdGhpcy5yZW5kZXJUeXBlPSJjYW52YXMiLHRoaXMudmFsdWVzPXtmaWxsOiJyZ2JhKDAsMCwwLDApIixzdHJva2U6InJnYmEoMCwwLDAsMCkiLHNXaWR0aDowLGZWYWx1ZToiIn0sdGhpcy5pbml0RWxlbWVudCh0LGUscil9ZnVuY3Rpb24gQ1ZFZmZlY3RzKCl7fWZ1bmN0aW9uIEhCYXNlRWxlbWVudCgpe31mdW5jdGlvbiBIU29saWRFbGVtZW50KHQsZSxyKXt0aGlzLmluaXRFbGVtZW50KHQsZSxyKX1mdW5jdGlvbiBIQ29tcEVsZW1lbnQodCxlLHIpe3RoaXMubGF5ZXJzPXQubGF5ZXJzLHRoaXMuc3VwcG9ydHMzZD0hdC5oYXNNYXNrLHRoaXMuY29tcGxldGVMYXllcnM9ITEsdGhpcy5wZW5kaW5nRWxlbWVudHM9W10sdGhpcy5lbGVtZW50cz10aGlzLmxheWVycz9jcmVhdGVTaXplZEFycmF5KHRoaXMubGF5ZXJzLmxlbmd0aCk6W10sdGhpcy5pbml0RWxlbWVudCh0LGUsciksdGhpcy50bT10LnRtP1Byb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC50bSwwLGUuZnJhbWVSYXRlLHRoaXMpOntfcGxhY2Vob2xkZXI6ITB9fWZ1bmN0aW9uIEhTaGFwZUVsZW1lbnQodCxlLHIpe3RoaXMuc2hhcGVzPVtdLHRoaXMuc2hhcGVzRGF0YT10LnNoYXBlcyx0aGlzLnN0eWxlc0xpc3Q9W10sdGhpcy5zaGFwZU1vZGlmaWVycz1bXSx0aGlzLml0ZW1zRGF0YT1bXSx0aGlzLnByb2Nlc3NlZEVsZW1lbnRzPVtdLHRoaXMuYW5pbWF0ZWRDb250ZW50cz1bXSx0aGlzLnNoYXBlc0NvbnRhaW5lcj1jcmVhdGVOUygiZyIpLHRoaXMuaW5pdEVsZW1lbnQodCxlLHIpLHRoaXMucHJldlZpZXdEYXRhPVtdLHRoaXMuY3VycmVudEJCb3g9e3g6OTk5OTk5LHk6LTk5OTk5OSxoOjAsdzowfX1mdW5jdGlvbiBIVGV4dEVsZW1lbnQodCxlLHIpe3RoaXMudGV4dFNwYW5zPVtdLHRoaXMudGV4dFBhdGhzPVtdLHRoaXMuY3VycmVudEJCb3g9e3g6OTk5OTk5LHk6LTk5OTk5OSxoOjAsdzowfSx0aGlzLnJlbmRlclR5cGU9InN2ZyIsdGhpcy5pc01hc2tlZD0hMSx0aGlzLmluaXRFbGVtZW50KHQsZSxyKX1mdW5jdGlvbiBISW1hZ2VFbGVtZW50KHQsZSxyKXt0aGlzLmFzc2V0RGF0YT1lLmdldEFzc2V0RGF0YSh0LnJlZklkKSx0aGlzLmluaXRFbGVtZW50KHQsZSxyKX1mdW5jdGlvbiBIQ2FtZXJhRWxlbWVudCh0LGUscil7dGhpcy5pbml0RnJhbWUoKSx0aGlzLmluaXRCYXNlRGF0YSh0LGUsciksdGhpcy5pbml0SGllcmFyY2h5KCk7dmFyIGk9UHJvcGVydHlGYWN0b3J5LmdldFByb3A7aWYodGhpcy5wZT1pKHRoaXMsdC5wZSwwLDAsdGhpcyksdC5rcy5wLnM/KHRoaXMucHg9aSh0aGlzLHQua3MucC54LDEsMCx0aGlzKSx0aGlzLnB5PWkodGhpcyx0LmtzLnAueSwxLDAsdGhpcyksdGhpcy5wej1pKHRoaXMsdC5rcy5wLnosMSwwLHRoaXMpKTp0aGlzLnA9aSh0aGlzLHQua3MucCwxLDAsdGhpcyksdC5rcy5hJiYodGhpcy5hPWkodGhpcyx0LmtzLmEsMSwwLHRoaXMpKSx0LmtzLm9yLmsubGVuZ3RoJiZ0LmtzLm9yLmtbMF0udG8pe3ZhciBzLGE9dC5rcy5vci5rLmxlbmd0aDtmb3Iocz0wO3M8YTtzKz0xKXQua3Mub3Iua1tzXS50bz1udWxsLHQua3Mub3Iua1tzXS50aT1udWxsfXRoaXMub3I9aSh0aGlzLHQua3Mub3IsMSxkZWdUb1JhZHMsdGhpcyksdGhpcy5vci5zaD0hMCx0aGlzLnJ4PWkodGhpcyx0LmtzLnJ4LDAsZGVnVG9SYWRzLHRoaXMpLHRoaXMucnk9aSh0aGlzLHQua3MucnksMCxkZWdUb1JhZHMsdGhpcyksdGhpcy5yej1pKHRoaXMsdC5rcy5yeiwwLGRlZ1RvUmFkcyx0aGlzKSx0aGlzLm1hdD1uZXcgTWF0cml4LHRoaXMuX3ByZXZNYXQ9bmV3IE1hdHJpeCx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5maW5hbFRyYW5zZm9ybT17bVByb3A6dGhpc319ZnVuY3Rpb24gSEVmZmVjdHMoKXt9U1ZHTWF0dGUzRWZmZWN0LnByb3RvdHlwZS5maW5kU3ltYm9sPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9X3N2Z01hdHRlU3ltYm9scy5sZW5ndGg7ZTxyOyl7aWYoX3N2Z01hdHRlU3ltYm9sc1tlXT09PXQpcmV0dXJuIF9zdmdNYXR0ZVN5bWJvbHNbZV07ZSs9MX1yZXR1cm4gbnVsbH0sU1ZHTWF0dGUzRWZmZWN0LnByb3RvdHlwZS5yZXBsYWNlSW5QYXJlbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10LmxheWVyRWxlbWVudC5wYXJlbnROb2RlO2lmKHIpe2Zvcih2YXIgaSxzPXIuY2hpbGRyZW4sYT0wLG49cy5sZW5ndGg7YTxuJiZzW2FdIT09dC5sYXllckVsZW1lbnQ7KWErPTE7YTw9bi0yJiYoaT1zW2ErMV0pO3ZhciBvPWNyZWF0ZU5TKCJ1c2UiKTtvLnNldEF0dHJpYnV0ZSgiaHJlZiIsIiMiK2UpLGk/ci5pbnNlcnRCZWZvcmUobyxpKTpyLmFwcGVuZENoaWxkKG8pfX0sU1ZHTWF0dGUzRWZmZWN0LnByb3RvdHlwZS5zZXRFbGVtZW50QXNNYXNrPWZ1bmN0aW9uKHQsZSl7aWYoIXRoaXMuZmluZFN5bWJvbChlKSl7dmFyIHI9Y3JlYXRlRWxlbWVudElEKCksaT1jcmVhdGVOUygibWFzayIpO2kuc2V0QXR0cmlidXRlKCJpZCIsZS5sYXllcklkKSxpLnNldEF0dHJpYnV0ZSgibWFzay10eXBlIiwiYWxwaGEiKSxfc3ZnTWF0dGVTeW1ib2xzLnB1c2goZSk7dmFyIHM9dC5nbG9iYWxEYXRhLmRlZnM7cy5hcHBlbmRDaGlsZChpKTt2YXIgYT1jcmVhdGVOUygic3ltYm9sIik7YS5zZXRBdHRyaWJ1dGUoImlkIixyKSx0aGlzLnJlcGxhY2VJblBhcmVudChlLHIpLGEuYXBwZW5kQ2hpbGQoZS5sYXllckVsZW1lbnQpLHMuYXBwZW5kQ2hpbGQoYSk7dmFyIG49Y3JlYXRlTlMoInVzZSIpO24uc2V0QXR0cmlidXRlKCJocmVmIiwiIyIrciksaS5hcHBlbmRDaGlsZChuKSxlLmRhdGEuaGQ9ITEsZS5zaG93KCl9dC5zZXRNYXR0ZShlLmxheWVySWQpfSxTVkdNYXR0ZTNFZmZlY3QucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9dGhpcy5maWx0ZXJNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzWzBdLnAudixlPXRoaXMuZWxlbS5jb21wLmVsZW1lbnRzLHI9MCxpPWUubGVuZ3RoO3I8aTspZVtyXSYmZVtyXS5kYXRhLmluZD09PXQmJnRoaXMuc2V0RWxlbWVudEFzTWFzayh0aGlzLmVsZW0sZVtyXSkscis9MTt0aGlzLmluaXRpYWxpemVkPSEwfSxTVkdNYXR0ZTNFZmZlY3QucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5pbml0aWFsaXplZHx8dGhpcy5pbml0aWFsaXplKCl9LFNWR0VmZmVjdHMucHJvdG90eXBlLnJlbmRlckZyYW1lPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dGhpcy5maWx0ZXJzLmxlbmd0aDtmb3IoZT0wO2U8cjtlKz0xKXRoaXMuZmlsdGVyc1tlXS5yZW5kZXJGcmFtZSh0KX0sQ1ZDb250ZXh0RGF0YS5wcm90b3R5cGUuZHVwbGljYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9Mip0aGlzLl9sZW5ndGgsZT10aGlzLnNhdmVkT3A7dGhpcy5zYXZlZE9wPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLHQpLHRoaXMuc2F2ZWRPcC5zZXQoZSk7dmFyIHI9MDtmb3Iocj10aGlzLl9sZW5ndGg7cjx0O3IrPTEpdGhpcy5zYXZlZFtyXT1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIiwxNik7dGhpcy5fbGVuZ3RoPXR9LENWQ29udGV4dERhdGEucHJvdG90eXBlLnJlc2V0PWZ1bmN0aW9uKCl7dGhpcy5jQXJyUG9zPTAsdGhpcy5jVHIucmVzZXQoKSx0aGlzLmNPPTF9LENWQmFzZUVsZW1lbnQucHJvdG90eXBlPXtjcmVhdGVFbGVtZW50czpmdW5jdGlvbigpe30saW5pdFJlbmRlcmVyRWxlbWVudDpmdW5jdGlvbigpe30sY3JlYXRlQ29udGFpbmVyRWxlbWVudHM6ZnVuY3Rpb24oKXt0aGlzLmNhbnZhc0NvbnRleHQ9dGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQsdGhpcy5yZW5kZXJhYmxlRWZmZWN0c01hbmFnZXI9bmV3IENWRWZmZWN0cyh0aGlzKX0sY3JlYXRlQ29udGVudDpmdW5jdGlvbigpe30sc2V0QmxlbmRNb2RlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nbG9iYWxEYXRhO2lmKHQuYmxlbmRNb2RlIT09dGhpcy5kYXRhLmJtKXt0LmJsZW5kTW9kZT10aGlzLmRhdGEuYm07dmFyIGU9Z2V0QmxlbmRNb2RlKHRoaXMuZGF0YS5ibSk7dC5jYW52YXNDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbj1lfX0sY3JlYXRlUmVuZGVyYWJsZUNvbXBvbmVudHM6ZnVuY3Rpb24oKXt0aGlzLm1hc2tNYW5hZ2VyPW5ldyBDVk1hc2tFbGVtZW50KHRoaXMuZGF0YSx0aGlzKX0saGlkZUVsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmhpZGRlbnx8dGhpcy5pc0luUmFuZ2UmJiF0aGlzLmlzVHJhbnNwYXJlbnR8fCh0aGlzLmhpZGRlbj0hMCl9LHNob3dFbGVtZW50OmZ1bmN0aW9uKCl7dGhpcy5pc0luUmFuZ2UmJiF0aGlzLmlzVHJhbnNwYXJlbnQmJih0aGlzLmhpZGRlbj0hMSx0aGlzLl9pc0ZpcnN0RnJhbWU9ITAsdGhpcy5tYXNrTWFuYWdlci5faXNGaXJzdEZyYW1lPSEwKX0scmVuZGVyRnJhbWU6ZnVuY3Rpb24oKXtpZighdGhpcy5oaWRkZW4mJiF0aGlzLmRhdGEuaGQpe3RoaXMucmVuZGVyVHJhbnNmb3JtKCksdGhpcy5yZW5kZXJSZW5kZXJhYmxlKCksdGhpcy5zZXRCbGVuZE1vZGUoKTt2YXIgdD0wPT09dGhpcy5kYXRhLnR5O3RoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5zYXZlKHQpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhUcmFuc2Zvcm0odGhpcy5maW5hbFRyYW5zZm9ybS5tYXQucHJvcHMpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5jdHhPcGFjaXR5KHRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3Auby52KSx0aGlzLnJlbmRlcklubmVyQ29udGVudCgpLHRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKHQpLHRoaXMubWFza01hbmFnZXIuaGFzTWFza3MmJnRoaXMuZ2xvYmFsRGF0YS5yZW5kZXJlci5yZXN0b3JlKCEwKSx0aGlzLl9pc0ZpcnN0RnJhbWUmJih0aGlzLl9pc0ZpcnN0RnJhbWU9ITEpfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2FudmFzQ29udGV4dD1udWxsLHRoaXMuZGF0YT1udWxsLHRoaXMuZ2xvYmFsRGF0YT1udWxsLHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpfSxtSGVscGVyOm5ldyBNYXRyaXh9LENWQmFzZUVsZW1lbnQucHJvdG90eXBlLmhpZGU9Q1ZCYXNlRWxlbWVudC5wcm90b3R5cGUuaGlkZUVsZW1lbnQsQ1ZCYXNlRWxlbWVudC5wcm90b3R5cGUuc2hvdz1DVkJhc2VFbGVtZW50LnByb3RvdHlwZS5zaG93RWxlbWVudCxleHRlbmRQcm90b3R5cGUoW0Jhc2VFbGVtZW50LFRyYW5zZm9ybUVsZW1lbnQsQ1ZCYXNlRWxlbWVudCxIaWVyYXJjaHlFbGVtZW50LEZyYW1lRWxlbWVudCxSZW5kZXJhYmxlRWxlbWVudF0sQ1ZJbWFnZUVsZW1lbnQpLENWSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5pbml0RWxlbWVudD1TVkdTaGFwZUVsZW1lbnQucHJvdG90eXBlLmluaXRFbGVtZW50LENWSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWU9SUltYWdlRWxlbWVudC5wcm90b3R5cGUucHJlcGFyZUZyYW1lLENWSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250ZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5pbWcud2lkdGgmJih0aGlzLmFzc2V0RGF0YS53IT09dGhpcy5pbWcud2lkdGh8fHRoaXMuYXNzZXREYXRhLmghPT10aGlzLmltZy5oZWlnaHQpKXt2YXIgdD1jcmVhdGVUYWcoImNhbnZhcyIpO3Qud2lkdGg9dGhpcy5hc3NldERhdGEudyx0LmhlaWdodD10aGlzLmFzc2V0RGF0YS5oO3ZhciBlLHIsaT10LmdldENvbnRleHQoIjJkIikscz10aGlzLmltZy53aWR0aCxhPXRoaXMuaW1nLmhlaWdodCxuPXMvYSxvPXRoaXMuYXNzZXREYXRhLncvdGhpcy5hc3NldERhdGEuaCxoPXRoaXMuYXNzZXREYXRhLnByfHx0aGlzLmdsb2JhbERhdGEucmVuZGVyQ29uZmlnLmltYWdlUHJlc2VydmVBc3BlY3RSYXRpbztvPG4mJiJ4TWlkWU1pZCBzbGljZSI9PT1ofHxuPG8mJiJ4TWlkWU1pZCBzbGljZSIhPT1oP2U9KHI9YSkqbzpyPShlPXMpL28saS5kcmF3SW1hZ2UodGhpcy5pbWcsKHMtZSkvMiwoYS1yKS8yLGUsciwwLDAsdGhpcy5hc3NldERhdGEudyx0aGlzLmFzc2V0RGF0YS5oKSx0aGlzLmltZz10fX0sQ1ZJbWFnZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudD1mdW5jdGlvbigpe3RoaXMuY2FudmFzQ29udGV4dC5kcmF3SW1hZ2UodGhpcy5pbWcsMCwwKX0sQ1ZJbWFnZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmltZz1udWxsfSxleHRlbmRQcm90b3R5cGUoW0NhbnZhc1JlbmRlcmVyLElDb21wRWxlbWVudCxDVkJhc2VFbGVtZW50XSxDVkNvbXBFbGVtZW50KSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJJbm5lckNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuY2FudmFzQ29udGV4dDtmb3IoZS5iZWdpblBhdGgoKSxlLm1vdmVUbygwLDApLGUubGluZVRvKHRoaXMuZGF0YS53LDApLGUubGluZVRvKHRoaXMuZGF0YS53LHRoaXMuZGF0YS5oKSxlLmxpbmVUbygwLHRoaXMuZGF0YS5oKSxlLmxpbmVUbygwLDApLGUuY2xpcCgpLHQ9dGhpcy5sYXllcnMubGVuZ3RoLTE7MDw9dDt0LT0xKSh0aGlzLmNvbXBsZXRlTGF5ZXJzfHx0aGlzLmVsZW1lbnRzW3RdKSYmdGhpcy5lbGVtZW50c1t0XS5yZW5kZXJGcmFtZSgpfSxDVkNvbXBFbGVtZW50LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQ9dGhpcy5sYXllcnMubGVuZ3RoLTE7MDw9dDt0LT0xKXRoaXMuZWxlbWVudHNbdF0mJnRoaXMuZWxlbWVudHNbdF0uZGVzdHJveSgpO3RoaXMubGF5ZXJzPW51bGwsdGhpcy5lbGVtZW50cz1udWxsfSxDVk1hc2tFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe2lmKHRoaXMuaGFzTWFza3Mpe3ZhciB0LGUscixpLHM9dGhpcy5lbGVtZW50LmZpbmFsVHJhbnNmb3JtLm1hdCxhPXRoaXMuZWxlbWVudC5jYW52YXNDb250ZXh0LG49dGhpcy5tYXNrc1Byb3BlcnRpZXMubGVuZ3RoO2ZvcihhLmJlZ2luUGF0aCgpLHQ9MDt0PG47dCs9MSlpZigibiIhPT10aGlzLm1hc2tzUHJvcGVydGllc1t0XS5tb2RlKXt2YXIgbzt0aGlzLm1hc2tzUHJvcGVydGllc1t0XS5pbnYmJihhLm1vdmVUbygwLDApLGEubGluZVRvKHRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLmNvbXBTaXplLncsMCksYS5saW5lVG8odGhpcy5lbGVtZW50Lmdsb2JhbERhdGEuY29tcFNpemUudyx0aGlzLmVsZW1lbnQuZ2xvYmFsRGF0YS5jb21wU2l6ZS5oKSxhLmxpbmVUbygwLHRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLmNvbXBTaXplLmgpLGEubGluZVRvKDAsMCkpLGk9dGhpcy52aWV3RGF0YVt0XS52LGU9cy5hcHBseVRvUG9pbnRBcnJheShpLnZbMF1bMF0saS52WzBdWzFdLDApLGEubW92ZVRvKGVbMF0sZVsxXSk7dmFyIGg9aS5fbGVuZ3RoO2ZvcihvPTE7bzxoO28rPTEpcj1zLmFwcGx5VG9UcmlwbGVQb2ludHMoaS5vW28tMV0saS5pW29dLGkudltvXSksYS5iZXppZXJDdXJ2ZVRvKHJbMF0sclsxXSxyWzJdLHJbM10scls0XSxyWzVdKTtyPXMuYXBwbHlUb1RyaXBsZVBvaW50cyhpLm9bby0xXSxpLmlbMF0saS52WzBdKSxhLmJlemllckN1cnZlVG8oclswXSxyWzFdLHJbMl0sclszXSxyWzRdLHJbNV0pfXRoaXMuZWxlbWVudC5nbG9iYWxEYXRhLnJlbmRlcmVyLnNhdmUoITApLGEuY2xpcCgpfX0sQ1ZNYXNrRWxlbWVudC5wcm90b3R5cGUuZ2V0TWFza1Byb3BlcnR5PU1hc2tFbGVtZW50LnByb3RvdHlwZS5nZXRNYXNrUHJvcGVydHksQ1ZNYXNrRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuZWxlbWVudD1udWxsfSxleHRlbmRQcm90b3R5cGUoW0Jhc2VFbGVtZW50LFRyYW5zZm9ybUVsZW1lbnQsQ1ZCYXNlRWxlbWVudCxJU2hhcGVFbGVtZW50LEhpZXJhcmNoeUVsZW1lbnQsRnJhbWVFbGVtZW50LFJlbmRlcmFibGVFbGVtZW50XSxDVlNoYXBlRWxlbWVudCksQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmluaXRFbGVtZW50PVJlbmRlcmFibGVET01FbGVtZW50LnByb3RvdHlwZS5pbml0RWxlbWVudCxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUudHJhbnNmb3JtSGVscGVyPXtvcGFjaXR5OjEsX29wTWRmOiExfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuZGFzaFJlc2V0dGVyPVtdLENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250ZW50PWZ1bmN0aW9uKCl7dGhpcy5zZWFyY2hTaGFwZXModGhpcy5zaGFwZXNEYXRhLHRoaXMuaXRlbXNEYXRhLHRoaXMucHJldlZpZXdEYXRhLCEwLFtdKX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVN0eWxlRWxlbWVudD1mdW5jdGlvbih0LGUpe3ZhciByPXtkYXRhOnQsdHlwZTp0LnR5LHByZVRyYW5zZm9ybXM6dGhpcy50cmFuc2Zvcm1zTWFuYWdlci5hZGRUcmFuc2Zvcm1TZXF1ZW5jZShlKSx0cmFuc2Zvcm1zOltdLGVsZW1lbnRzOltdLGNsb3NlZDohMD09PXQuaGR9LGk9e307aWYoImZsIj09PXQudHl8fCJzdCI9PT10LnR5PyhpLmM9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0LmMsMSwyNTUsdGhpcyksaS5jLmt8fChyLmNvPSJyZ2IoIitibUZsb29yKGkuYy52WzBdKSsiLCIrYm1GbG9vcihpLmMudlsxXSkrIiwiK2JtRmxvb3IoaS5jLnZbMl0pKyIpIikpOiJnZiIhPT10LnR5JiYiZ3MiIT09dC50eXx8KGkucz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQucywxLG51bGwsdGhpcyksaS5lPVByb3BlcnR5RmFjdG9yeS5nZXRQcm9wKHRoaXMsdC5lLDEsbnVsbCx0aGlzKSxpLmg9UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0Lmh8fHtrOjB9LDAsLjAxLHRoaXMpLGkuYT1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQuYXx8e2s6MH0sMCxkZWdUb1JhZHMsdGhpcyksaS5nPW5ldyBHcmFkaWVudFByb3BlcnR5KHRoaXMsdC5nLHRoaXMpKSxpLm89UHJvcGVydHlGYWN0b3J5LmdldFByb3AodGhpcyx0Lm8sMCwuMDEsdGhpcyksInN0Ij09PXQudHl8fCJncyI9PT10LnR5KXtpZihyLmxjPWxpbmVDYXBFbnVtW3QubGN8fDJdLHIubGo9bGluZUpvaW5FbnVtW3QubGp8fDJdLDE9PXQubGomJihyLm1sPXQubWwpLGkudz1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQudywwLG51bGwsdGhpcyksaS53Lmt8fChyLndpPWkudy52KSx0LmQpe3ZhciBzPW5ldyBEYXNoUHJvcGVydHkodGhpcyx0LmQsImNhbnZhcyIsdGhpcyk7aS5kPXMsaS5kLmt8fChyLmRhPWkuZC5kYXNoQXJyYXksci5kbz1pLmQuZGFzaG9mZnNldFswXSl9fWVsc2Ugci5yPTI9PT10LnI/ImV2ZW5vZGQiOiJub256ZXJvIjtyZXR1cm4gdGhpcy5zdHlsZXNMaXN0LnB1c2gociksaS5zdHlsZT1yLGl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVHcm91cEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm57aXQ6W10scHJldlZpZXdEYXRhOltdfX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNyZWF0ZVRyYW5zZm9ybUVsZW1lbnQ9ZnVuY3Rpb24odCl7cmV0dXJue3RyYW5zZm9ybTp7b3BhY2l0eToxLF9vcE1kZjohMSxrZXk6dGhpcy50cmFuc2Zvcm1zTWFuYWdlci5nZXROZXdLZXkoKSxvcDpQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcCh0aGlzLHQubywwLC4wMSx0aGlzKSxtUHJvcHM6VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5KHRoaXMsdCx0aGlzKX19fSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlU2hhcGVFbGVtZW50PWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBDVlNoYXBlRGF0YSh0aGlzLHQsdGhpcy5zdHlsZXNMaXN0LHRoaXMudHJhbnNmb3Jtc01hbmFnZXIpO3JldHVybiB0aGlzLnNoYXBlcy5wdXNoKGUpLHRoaXMuYWRkU2hhcGVUb01vZGlmaWVycyhlKSxlfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVsb2FkU2hhcGVzPWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5faXNGaXJzdEZyYW1lPSEwO3ZhciBlPXRoaXMuaXRlbXNEYXRhLmxlbmd0aDtmb3IodD0wO3Q8ZTt0Kz0xKXRoaXMucHJldlZpZXdEYXRhW3RdPXRoaXMuaXRlbXNEYXRhW3RdO2Zvcih0aGlzLnNlYXJjaFNoYXBlcyh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5wcmV2Vmlld0RhdGEsITAsW10pLGU9dGhpcy5keW5hbWljUHJvcGVydGllcy5sZW5ndGgsdD0wO3Q8ZTt0Kz0xKXRoaXMuZHluYW1pY1Byb3BlcnRpZXNbdF0uZ2V0VmFsdWUoKTt0aGlzLnJlbmRlck1vZGlmaWVycygpLHRoaXMudHJhbnNmb3Jtc01hbmFnZXIucHJvY2Vzc1NlcXVlbmNlcyh0aGlzLl9pc0ZpcnN0RnJhbWUpfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUuYWRkVHJhbnNmb3JtVG9TdHlsZUxpc3Q9ZnVuY3Rpb24odCl7dmFyIGUscj10aGlzLnN0eWxlc0xpc3QubGVuZ3RoO2ZvcihlPTA7ZTxyO2UrPTEpdGhpcy5zdHlsZXNMaXN0W2VdLmNsb3NlZHx8dGhpcy5zdHlsZXNMaXN0W2VdLnRyYW5zZm9ybXMucHVzaCh0KX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbW92ZVRyYW5zZm9ybUZyb21TdHlsZUxpc3Q9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuc3R5bGVzTGlzdC5sZW5ndGg7Zm9yKHQ9MDt0PGU7dCs9MSl0aGlzLnN0eWxlc0xpc3RbdF0uY2xvc2VkfHx0aGlzLnN0eWxlc0xpc3RbdF0udHJhbnNmb3Jtcy5wb3AoKX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNsb3NlU3R5bGVzPWZ1bmN0aW9uKHQpe3ZhciBlLHI9dC5sZW5ndGg7Zm9yKGU9MDtlPHI7ZSs9MSl0W2VdLmNsb3NlZD0hMH0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnNlYXJjaFNoYXBlcz1mdW5jdGlvbih0LGUscixpLHMpe3ZhciBhLG4sbyxoLGwscCxtPXQubGVuZ3RoLTEsZj1bXSxjPVtdLGQ9W10uY29uY2F0KHMpO2ZvcihhPW07MDw9YTthLT0xKXtpZigoaD10aGlzLnNlYXJjaFByb2Nlc3NlZEVsZW1lbnQodFthXSkpP2VbYV09cltoLTFdOnRbYV0uX3Nob3VsZFJlbmRlcj1pLCJmbCI9PT10W2FdLnR5fHwic3QiPT09dFthXS50eXx8ImdmIj09PXRbYV0udHl8fCJncyI9PT10W2FdLnR5KWg/ZVthXS5zdHlsZS5jbG9zZWQ9ITE6ZVthXT10aGlzLmNyZWF0ZVN0eWxlRWxlbWVudCh0W2FdLGQpLGYucHVzaChlW2FdLnN0eWxlKTtlbHNlIGlmKCJnciI9PT10W2FdLnR5KXtpZihoKWZvcihvPWVbYV0uaXQubGVuZ3RoLG49MDtuPG87bis9MSllW2FdLnByZXZWaWV3RGF0YVtuXT1lW2FdLml0W25dO2Vsc2UgZVthXT10aGlzLmNyZWF0ZUdyb3VwRWxlbWVudCh0W2FdKTt0aGlzLnNlYXJjaFNoYXBlcyh0W2FdLml0LGVbYV0uaXQsZVthXS5wcmV2Vmlld0RhdGEsaSxkKX1lbHNlInRyIj09PXRbYV0udHk/KGh8fChwPXRoaXMuY3JlYXRlVHJhbnNmb3JtRWxlbWVudCh0W2FdKSxlW2FdPXApLGQucHVzaChlW2FdKSx0aGlzLmFkZFRyYW5zZm9ybVRvU3R5bGVMaXN0KGVbYV0pKToic2giPT09dFthXS50eXx8InJjIj09PXRbYV0udHl8fCJlbCI9PT10W2FdLnR5fHwic3IiPT09dFthXS50eT9ofHwoZVthXT10aGlzLmNyZWF0ZVNoYXBlRWxlbWVudCh0W2FdKSk6InRtIj09PXRbYV0udHl8fCJyZCI9PT10W2FdLnR5fHwicGIiPT09dFthXS50eT8oaD8obD1lW2FdKS5jbG9zZWQ9ITE6KChsPVNoYXBlTW9kaWZpZXJzLmdldE1vZGlmaWVyKHRbYV0udHkpKS5pbml0KHRoaXMsdFthXSksZVthXT1sLHRoaXMuc2hhcGVNb2RpZmllcnMucHVzaChsKSksYy5wdXNoKGwpKToicnAiPT09dFthXS50eSYmKGg/KGw9ZVthXSkuY2xvc2VkPSEwOihsPVNoYXBlTW9kaWZpZXJzLmdldE1vZGlmaWVyKHRbYV0udHkpLChlW2FdPWwpLmluaXQodGhpcyx0LGEsZSksdGhpcy5zaGFwZU1vZGlmaWVycy5wdXNoKGwpLGk9ITEpLGMucHVzaChsKSk7dGhpcy5hZGRQcm9jZXNzZWRFbGVtZW50KHRbYV0sYSsxKX1mb3IodGhpcy5yZW1vdmVUcmFuc2Zvcm1Gcm9tU3R5bGVMaXN0KCksdGhpcy5jbG9zZVN0eWxlcyhmKSxtPWMubGVuZ3RoLGE9MDthPG07YSs9MSljW2FdLmNsb3NlZD0hMH0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudD1mdW5jdGlvbigpe3RoaXMudHJhbnNmb3JtSGVscGVyLm9wYWNpdHk9MSx0aGlzLnRyYW5zZm9ybUhlbHBlci5fb3BNZGY9ITEsdGhpcy5yZW5kZXJNb2RpZmllcnMoKSx0aGlzLnRyYW5zZm9ybXNNYW5hZ2VyLnByb2Nlc3NTZXF1ZW5jZXModGhpcy5faXNGaXJzdEZyYW1lKSx0aGlzLnJlbmRlclNoYXBlKHRoaXMudHJhbnNmb3JtSGVscGVyLHRoaXMuc2hhcGVzRGF0YSx0aGlzLml0ZW1zRGF0YSwhMCl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJTaGFwZVRyYW5zZm9ybT1mdW5jdGlvbih0LGUpeyh0Ll9vcE1kZnx8ZS5vcC5fbWRmfHx0aGlzLl9pc0ZpcnN0RnJhbWUpJiYoZS5vcGFjaXR5PXQub3BhY2l0eSxlLm9wYWNpdHkqPWUub3AudixlLl9vcE1kZj0hMCl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5kcmF3TGF5ZXI9ZnVuY3Rpb24oKXt2YXIgdCxlLHIsaSxzLGEsbixvLGgsbD10aGlzLnN0eWxlc0xpc3QubGVuZ3RoLHA9dGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLG09dGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQ7Zm9yKHQ9MDt0PGw7dCs9MSlpZigoInN0IiE9PShvPShoPXRoaXMuc3R5bGVzTGlzdFt0XSkudHlwZSkmJiJncyIhPT1vfHwwIT09aC53aSkmJmguZGF0YS5fc2hvdWxkUmVuZGVyJiYwIT09aC5jb09wJiYwIT09dGhpcy5nbG9iYWxEYXRhLmN1cnJlbnRHbG9iYWxBbHBoYSl7Zm9yKHAuc2F2ZSgpLGE9aC5lbGVtZW50cywic3QiPT09b3x8ImdzIj09PW8/KG0uc3Ryb2tlU3R5bGU9InN0Ij09PW8/aC5jbzpoLmdyZCxtLmxpbmVXaWR0aD1oLndpLG0ubGluZUNhcD1oLmxjLG0ubGluZUpvaW49aC5saixtLm1pdGVyTGltaXQ9aC5tbHx8MCk6bS5maWxsU3R5bGU9ImZsIj09PW8/aC5jbzpoLmdyZCxwLmN0eE9wYWNpdHkoaC5jb09wKSwic3QiIT09byYmImdzIiE9PW8mJm0uYmVnaW5QYXRoKCkscC5jdHhUcmFuc2Zvcm0oaC5wcmVUcmFuc2Zvcm1zLmZpbmFsVHJhbnNmb3JtLnByb3BzKSxyPWEubGVuZ3RoLGU9MDtlPHI7ZSs9MSl7Zm9yKCJzdCIhPT1vJiYiZ3MiIT09b3x8KG0uYmVnaW5QYXRoKCksaC5kYSYmKG0uc2V0TGluZURhc2goaC5kYSksbS5saW5lRGFzaE9mZnNldD1oLmRvKSkscz0obj1hW2VdLnRyTm9kZXMpLmxlbmd0aCxpPTA7aTxzO2krPTEpIm0iPT09bltpXS50P20ubW92ZVRvKG5baV0ucFswXSxuW2ldLnBbMV0pOiJjIj09PW5baV0udD9tLmJlemllckN1cnZlVG8obltpXS5wdHNbMF0sbltpXS5wdHNbMV0sbltpXS5wdHNbMl0sbltpXS5wdHNbM10sbltpXS5wdHNbNF0sbltpXS5wdHNbNV0pOm0uY2xvc2VQYXRoKCk7InN0IiE9PW8mJiJncyIhPT1vfHwobS5zdHJva2UoKSxoLmRhJiZtLnNldExpbmVEYXNoKHRoaXMuZGFzaFJlc2V0dGVyKSl9InN0IiE9PW8mJiJncyIhPT1vJiZtLmZpbGwoaC5yKSxwLnJlc3RvcmUoKX19LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJTaGFwZT1mdW5jdGlvbih0LGUscixpKXt2YXIgcyxhO2ZvcihhPXQscz1lLmxlbmd0aC0xOzA8PXM7cy09MSkidHIiPT09ZVtzXS50eT8oYT1yW3NdLnRyYW5zZm9ybSx0aGlzLnJlbmRlclNoYXBlVHJhbnNmb3JtKHQsYSkpOiJzaCI9PT1lW3NdLnR5fHwiZWwiPT09ZVtzXS50eXx8InJjIj09PWVbc10udHl8fCJzciI9PT1lW3NdLnR5P3RoaXMucmVuZGVyUGF0aChlW3NdLHJbc10pOiJmbCI9PT1lW3NdLnR5P3RoaXMucmVuZGVyRmlsbChlW3NdLHJbc10sYSk6InN0Ij09PWVbc10udHk/dGhpcy5yZW5kZXJTdHJva2UoZVtzXSxyW3NdLGEpOiJnZiI9PT1lW3NdLnR5fHwiZ3MiPT09ZVtzXS50eT90aGlzLnJlbmRlckdyYWRpZW50RmlsbChlW3NdLHJbc10sYSk6ImdyIj09PWVbc10udHk/dGhpcy5yZW5kZXJTaGFwZShhLGVbc10uaXQscltzXS5pdCk6ZVtzXS50eTtpJiZ0aGlzLmRyYXdMYXllcigpfSxDVlNoYXBlRWxlbWVudC5wcm90b3R5cGUucmVuZGVyU3R5bGVkU2hhcGU9ZnVuY3Rpb24odCxlKXtpZih0aGlzLl9pc0ZpcnN0RnJhbWV8fGUuX21kZnx8dC50cmFuc2Zvcm1zLl9tZGYpe3ZhciByLGkscyxhPXQudHJOb2RlcyxuPWUucGF0aHMsbz1uLl9sZW5ndGg7YS5sZW5ndGg9MDt2YXIgaD10LnRyYW5zZm9ybXMuZmluYWxUcmFuc2Zvcm07Zm9yKHM9MDtzPG87cys9MSl7dmFyIGw9bi5zaGFwZXNbc107aWYobCYmbC52KXtmb3IoaT1sLl9sZW5ndGgscj0xO3I8aTtyKz0xKTE9PT1yJiZhLnB1c2goe3Q6Im0iLHA6aC5hcHBseVRvUG9pbnRBcnJheShsLnZbMF1bMF0sbC52WzBdWzFdLDApfSksYS5wdXNoKHt0OiJjIixwdHM6aC5hcHBseVRvVHJpcGxlUG9pbnRzKGwub1tyLTFdLGwuaVtyXSxsLnZbcl0pfSk7MT09PWkmJmEucHVzaCh7dDoibSIscDpoLmFwcGx5VG9Qb2ludEFycmF5KGwudlswXVswXSxsLnZbMF1bMV0sMCl9KSxsLmMmJmkmJihhLnB1c2goe3Q6ImMiLHB0czpoLmFwcGx5VG9UcmlwbGVQb2ludHMobC5vW3ItMV0sbC5pWzBdLGwudlswXSl9KSxhLnB1c2goe3Q6InoifSkpfX10LnRyTm9kZXM9YX19LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJQYXRoPWZ1bmN0aW9uKHQsZSl7aWYoITAhPT10LmhkJiZ0Ll9zaG91bGRSZW5kZXIpe3ZhciByLGk9ZS5zdHlsZWRTaGFwZXMubGVuZ3RoO2ZvcihyPTA7cjxpO3IrPTEpdGhpcy5yZW5kZXJTdHlsZWRTaGFwZShlLnN0eWxlZFNoYXBlc1tyXSxlLnNoKX19LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGaWxsPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1lLnN0eWxlOyhlLmMuX21kZnx8dGhpcy5faXNGaXJzdEZyYW1lKSYmKGkuY289InJnYigiK2JtRmxvb3IoZS5jLnZbMF0pKyIsIitibUZsb29yKGUuYy52WzFdKSsiLCIrYm1GbG9vcihlLmMudlsyXSkrIikiKSwoZS5vLl9tZGZ8fHIuX29wTWRmfHx0aGlzLl9pc0ZpcnN0RnJhbWUpJiYoaS5jb09wPWUuby52KnIub3BhY2l0eSl9LENWU2hhcGVFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJHcmFkaWVudEZpbGw9ZnVuY3Rpb24odCxlLHIpe3ZhciBpLHM9ZS5zdHlsZTtpZighcy5ncmR8fGUuZy5fbWRmfHxlLnMuX21kZnx8ZS5lLl9tZGZ8fDEhPT10LnQmJihlLmguX21kZnx8ZS5hLl9tZGYpKXt2YXIgYSxuPXRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0LG89ZS5zLnYsaD1lLmUudjtpZigxPT09dC50KWk9bi5jcmVhdGVMaW5lYXJHcmFkaWVudChvWzBdLG9bMV0saFswXSxoWzFdKTtlbHNle3ZhciBsPU1hdGguc3FydChNYXRoLnBvdyhvWzBdLWhbMF0sMikrTWF0aC5wb3cob1sxXS1oWzFdLDIpKSxwPU1hdGguYXRhbjIoaFsxXS1vWzFdLGhbMF0tb1swXSksbT1lLmgudjsxPD1tP209Ljk5Om08PS0xJiYobT0tLjk5KTt2YXIgZj1sKm0sYz1NYXRoLmNvcyhwK2UuYS52KSpmK29bMF0sZD1NYXRoLnNpbihwK2UuYS52KSpmK29bMV07aT1uLmNyZWF0ZVJhZGlhbEdyYWRpZW50KGMsZCwwLG9bMF0sb1sxXSxsKX12YXIgdT10LmcucCx5PWUuZy5jLGc9MTtmb3IoYT0wO2E8dTthKz0xKWUuZy5faGFzT3BhY2l0eSYmZS5nLl9jb2xsYXBzYWJsZSYmKGc9ZS5nLm9bMiphKzFdKSxpLmFkZENvbG9yU3RvcCh5WzQqYV0vMTAwLCJyZ2JhKCIreVs0KmErMV0rIiwiK3lbNCphKzJdKyIsIit5WzQqYSszXSsiLCIrZysiKSIpO3MuZ3JkPWl9cy5jb09wPWUuby52KnIub3BhY2l0eX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlclN0cm9rZT1mdW5jdGlvbih0LGUscil7dmFyIGk9ZS5zdHlsZSxzPWUuZDtzJiYocy5fbWRmfHx0aGlzLl9pc0ZpcnN0RnJhbWUpJiYoaS5kYT1zLmRhc2hBcnJheSxpLmRvPXMuZGFzaG9mZnNldFswXSksKGUuYy5fbWRmfHx0aGlzLl9pc0ZpcnN0RnJhbWUpJiYoaS5jbz0icmdiKCIrYm1GbG9vcihlLmMudlswXSkrIiwiK2JtRmxvb3IoZS5jLnZbMV0pKyIsIitibUZsb29yKGUuYy52WzJdKSsiKSIpLChlLm8uX21kZnx8ci5fb3BNZGZ8fHRoaXMuX2lzRmlyc3RGcmFtZSkmJihpLmNvT3A9ZS5vLnYqci5vcGFjaXR5KSwoZS53Ll9tZGZ8fHRoaXMuX2lzRmlyc3RGcmFtZSkmJihpLndpPWUudy52KX0sQ1ZTaGFwZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLnNoYXBlc0RhdGE9bnVsbCx0aGlzLmdsb2JhbERhdGE9bnVsbCx0aGlzLmNhbnZhc0NvbnRleHQ9bnVsbCx0aGlzLnN0eWxlc0xpc3QubGVuZ3RoPTAsdGhpcy5pdGVtc0RhdGEubGVuZ3RoPTB9LGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsVHJhbnNmb3JtRWxlbWVudCxDVkJhc2VFbGVtZW50LEhpZXJhcmNoeUVsZW1lbnQsRnJhbWVFbGVtZW50LFJlbmRlcmFibGVFbGVtZW50XSxDVlNvbGlkRWxlbWVudCksQ1ZTb2xpZEVsZW1lbnQucHJvdG90eXBlLmluaXRFbGVtZW50PVNWR1NoYXBlRWxlbWVudC5wcm90b3R5cGUuaW5pdEVsZW1lbnQsQ1ZTb2xpZEVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1JSW1hZ2VFbGVtZW50LnByb3RvdHlwZS5wcmVwYXJlRnJhbWUsQ1ZTb2xpZEVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuY2FudmFzQ29udGV4dDt0LmZpbGxTdHlsZT10aGlzLmRhdGEuc2MsdC5maWxsUmVjdCgwLDAsdGhpcy5kYXRhLnN3LHRoaXMuZGF0YS5zaCl9LGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsVHJhbnNmb3JtRWxlbWVudCxDVkJhc2VFbGVtZW50LEhpZXJhcmNoeUVsZW1lbnQsRnJhbWVFbGVtZW50LFJlbmRlcmFibGVFbGVtZW50LElUZXh0RWxlbWVudF0sQ1ZUZXh0RWxlbWVudCksQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUudEhlbHBlcj1jcmVhdGVUYWcoImNhbnZhcyIpLmdldENvbnRleHQoIjJkIiksQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGROZXdUZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGE7dGhpcy5yZW5kZXJlZExldHRlcnM9Y3JlYXRlU2l6ZWRBcnJheSh0Lmw/dC5sLmxlbmd0aDowKTt2YXIgZT0hMTt0LmZjPyhlPSEwLHRoaXMudmFsdWVzLmZpbGw9dGhpcy5idWlsZENvbG9yKHQuZmMpKTp0aGlzLnZhbHVlcy5maWxsPSJyZ2JhKDAsMCwwLDApIix0aGlzLmZpbGw9ZTt2YXIgcj0hMTt0LnNjJiYocj0hMCx0aGlzLnZhbHVlcy5zdHJva2U9dGhpcy5idWlsZENvbG9yKHQuc2MpLHRoaXMudmFsdWVzLnNXaWR0aD10LnN3KTt2YXIgaSxzLGEsbixvLGgsbCxwLG0sZixjLGQsdT10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Rm9udEJ5TmFtZSh0LmYpLHk9dC5sLGc9dGhpcy5tSGVscGVyO3RoaXMuc3Ryb2tlPXIsdGhpcy52YWx1ZXMuZlZhbHVlPXQuZmluYWxTaXplKyJweCAiK3RoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRGb250QnlOYW1lKHQuZikuZkZhbWlseSxzPXQuZmluYWxUZXh0Lmxlbmd0aDt2YXIgdj10aGlzLmRhdGEuc2luZ2xlU2hhcGUsYj0uMDAxKnQudHIqdC5maW5hbFNpemUsUD0wLEU9MCx4PSEwLFM9MDtmb3IoaT0wO2k8cztpKz0xKXtmb3Iobj0oYT10aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuZ2V0Q2hhckRhdGEodC5maW5hbFRleHRbaV0sdS5mU3R5bGUsdGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldEZvbnRCeU5hbWUodC5mKS5mRmFtaWx5KSkmJmEuZGF0YXx8e30sZy5yZXNldCgpLHYmJnlbaV0ubiYmKFA9LWIsRSs9dC55T2Zmc2V0LEUrPXg/MTowLHg9ITEpLG09KGw9bi5zaGFwZXM/bi5zaGFwZXNbMF0uaXQ6W10pLmxlbmd0aCxnLnNjYWxlKHQuZmluYWxTaXplLzEwMCx0LmZpbmFsU2l6ZS8xMDApLHYmJnRoaXMuYXBwbHlUZXh0UHJvcGVydGllc1RvTWF0cml4KHQsZyx5W2ldLmxpbmUsUCxFKSxjPWNyZWF0ZVNpemVkQXJyYXkobSkscD0wO3A8bTtwKz0xKXtmb3IoaD1sW3BdLmtzLmsuaS5sZW5ndGgsZj1sW3BdLmtzLmssZD1bXSxvPTE7bzxoO28rPTEpMT09PW8mJmQucHVzaChnLmFwcGx5VG9YKGYudlswXVswXSxmLnZbMF1bMV0sMCksZy5hcHBseVRvWShmLnZbMF1bMF0sZi52WzBdWzFdLDApKSxkLnB1c2goZy5hcHBseVRvWChmLm9bby0xXVswXSxmLm9bby0xXVsxXSwwKSxnLmFwcGx5VG9ZKGYub1tvLTFdWzBdLGYub1tvLTFdWzFdLDApLGcuYXBwbHlUb1goZi5pW29dWzBdLGYuaVtvXVsxXSwwKSxnLmFwcGx5VG9ZKGYuaVtvXVswXSxmLmlbb11bMV0sMCksZy5hcHBseVRvWChmLnZbb11bMF0sZi52W29dWzFdLDApLGcuYXBwbHlUb1koZi52W29dWzBdLGYudltvXVsxXSwwKSk7ZC5wdXNoKGcuYXBwbHlUb1goZi5vW28tMV1bMF0sZi5vW28tMV1bMV0sMCksZy5hcHBseVRvWShmLm9bby0xXVswXSxmLm9bby0xXVsxXSwwKSxnLmFwcGx5VG9YKGYuaVswXVswXSxmLmlbMF1bMV0sMCksZy5hcHBseVRvWShmLmlbMF1bMF0sZi5pWzBdWzFdLDApLGcuYXBwbHlUb1goZi52WzBdWzBdLGYudlswXVsxXSwwKSxnLmFwcGx5VG9ZKGYudlswXVswXSxmLnZbMF1bMV0sMCkpLGNbcF09ZH12JiYoUCs9eVtpXS5sLFArPWIpLHRoaXMudGV4dFNwYW5zW1NdP3RoaXMudGV4dFNwYW5zW1NdLmVsZW09Yzp0aGlzLnRleHRTcGFuc1tTXT17ZWxlbTpjfSxTKz0xfX0sQ1ZUZXh0RWxlbWVudC5wcm90b3R5cGUucmVuZGVySW5uZXJDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQsZSxyLGkscyxhLG49dGhpcy5jYW52YXNDb250ZXh0O24uZm9udD10aGlzLnZhbHVlcy5mVmFsdWUsbi5saW5lQ2FwPSJidXR0IixuLmxpbmVKb2luPSJtaXRlciIsbi5taXRlckxpbWl0PTQsdGhpcy5kYXRhLnNpbmdsZVNoYXBlfHx0aGlzLnRleHRBbmltYXRvci5nZXRNZWFzdXJlcyh0aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YSx0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZyk7dmFyIG8saD10aGlzLnRleHRBbmltYXRvci5yZW5kZXJlZExldHRlcnMsbD10aGlzLnRleHRQcm9wZXJ0eS5jdXJyZW50RGF0YS5sO2U9bC5sZW5ndGg7dmFyIHAsbSxmPW51bGwsYz1udWxsLGQ9bnVsbDtmb3IodD0wO3Q8ZTt0Kz0xKWlmKCFsW3RdLm4pe2lmKChvPWhbdF0pJiYodGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnNhdmUoKSx0aGlzLmdsb2JhbERhdGEucmVuZGVyZXIuY3R4VHJhbnNmb3JtKG8ucCksdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLmN0eE9wYWNpdHkoby5vKSksdGhpcy5maWxsKXtmb3IobyYmby5mYz9mIT09by5mYyYmKGY9by5mYyxuLmZpbGxTdHlsZT1vLmZjKTpmIT09dGhpcy52YWx1ZXMuZmlsbCYmKGY9dGhpcy52YWx1ZXMuZmlsbCxuLmZpbGxTdHlsZT10aGlzLnZhbHVlcy5maWxsKSxpPShwPXRoaXMudGV4dFNwYW5zW3RdLmVsZW0pLmxlbmd0aCx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKSxyPTA7cjxpO3IrPTEpZm9yKGE9KG09cFtyXSkubGVuZ3RoLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0Lm1vdmVUbyhtWzBdLG1bMV0pLHM9MjtzPGE7cys9Nil0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5iZXppZXJDdXJ2ZVRvKG1bc10sbVtzKzFdLG1bcysyXSxtW3MrM10sbVtzKzRdLG1bcys1XSk7dGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQuZmlsbCgpfWlmKHRoaXMuc3Ryb2tlKXtmb3IobyYmby5zdz9kIT09by5zdyYmKGQ9by5zdyxuLmxpbmVXaWR0aD1vLnN3KTpkIT09dGhpcy52YWx1ZXMuc1dpZHRoJiYoZD10aGlzLnZhbHVlcy5zV2lkdGgsbi5saW5lV2lkdGg9dGhpcy52YWx1ZXMuc1dpZHRoKSxvJiZvLnNjP2MhPT1vLnNjJiYoYz1vLnNjLG4uc3Ryb2tlU3R5bGU9by5zYyk6YyE9PXRoaXMudmFsdWVzLnN0cm9rZSYmKGM9dGhpcy52YWx1ZXMuc3Ryb2tlLG4uc3Ryb2tlU3R5bGU9dGhpcy52YWx1ZXMuc3Ryb2tlKSxpPShwPXRoaXMudGV4dFNwYW5zW3RdLmVsZW0pLmxlbmd0aCx0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKSxyPTA7cjxpO3IrPTEpZm9yKGE9KG09cFtyXSkubGVuZ3RoLHRoaXMuZ2xvYmFsRGF0YS5jYW52YXNDb250ZXh0Lm1vdmVUbyhtWzBdLG1bMV0pLHM9MjtzPGE7cys9Nil0aGlzLmdsb2JhbERhdGEuY2FudmFzQ29udGV4dC5iZXppZXJDdXJ2ZVRvKG1bc10sbVtzKzFdLG1bcysyXSxtW3MrM10sbVtzKzRdLG1bcys1XSk7dGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQuY2xvc2VQYXRoKCksdGhpcy5nbG9iYWxEYXRhLmNhbnZhc0NvbnRleHQuc3Ryb2tlKCl9byYmdGhpcy5nbG9iYWxEYXRhLnJlbmRlcmVyLnJlc3RvcmUoKX19LENWRWZmZWN0cy5wcm90b3R5cGUucmVuZGVyRnJhbWU9ZnVuY3Rpb24oKXt9LEhCYXNlRWxlbWVudC5wcm90b3R5cGU9e2NoZWNrQmxlbmRNb2RlOmZ1bmN0aW9uKCl7fSxpbml0UmVuZGVyZXJFbGVtZW50OmZ1bmN0aW9uKCl7dGhpcy5iYXNlRWxlbWVudD1jcmVhdGVUYWcodGhpcy5kYXRhLnRnfHwiZGl2IiksdGhpcy5kYXRhLmhhc01hc2s/KHRoaXMuc3ZnRWxlbWVudD1jcmVhdGVOUygic3ZnIiksdGhpcy5sYXllckVsZW1lbnQ9Y3JlYXRlTlMoImciKSx0aGlzLm1hc2tlZEVsZW1lbnQ9dGhpcy5sYXllckVsZW1lbnQsdGhpcy5zdmdFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMubGF5ZXJFbGVtZW50KSx0aGlzLmJhc2VFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc3ZnRWxlbWVudCkpOnRoaXMubGF5ZXJFbGVtZW50PXRoaXMuYmFzZUVsZW1lbnQsc3R5bGVEaXYodGhpcy5iYXNlRWxlbWVudCl9LGNyZWF0ZUNvbnRhaW5lckVsZW1lbnRzOmZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJhYmxlRWZmZWN0c01hbmFnZXI9bmV3IENWRWZmZWN0cyh0aGlzKSx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD10aGlzLmJhc2VFbGVtZW50LHRoaXMubWFza2VkRWxlbWVudD10aGlzLmxheWVyRWxlbWVudCx0aGlzLmRhdGEubG4mJnRoaXMubGF5ZXJFbGVtZW50LnNldEF0dHJpYnV0ZSgiaWQiLHRoaXMuZGF0YS5sbiksdGhpcy5kYXRhLmNsJiZ0aGlzLmxheWVyRWxlbWVudC5zZXRBdHRyaWJ1dGUoImNsYXNzIix0aGlzLmRhdGEuY2wpLDAhPT10aGlzLmRhdGEuYm0mJnRoaXMuc2V0QmxlbmRNb2RlKCl9LHJlbmRlckVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnRyYW5zZm9ybWVkRWxlbWVudD90aGlzLnRyYW5zZm9ybWVkRWxlbWVudC5zdHlsZTp7fTtpZih0aGlzLmZpbmFsVHJhbnNmb3JtLl9tYXRNZGYpe3ZhciBlPXRoaXMuZmluYWxUcmFuc2Zvcm0ubWF0LnRvQ1NTKCk7dC50cmFuc2Zvcm09ZSx0LndlYmtpdFRyYW5zZm9ybT1lfXRoaXMuZmluYWxUcmFuc2Zvcm0uX29wTWRmJiYodC5vcGFjaXR5PXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3Auby52KX0scmVuZGVyRnJhbWU6ZnVuY3Rpb24oKXt0aGlzLmRhdGEuaGR8fHRoaXMuaGlkZGVufHwodGhpcy5yZW5kZXJUcmFuc2Zvcm0oKSx0aGlzLnJlbmRlclJlbmRlcmFibGUoKSx0aGlzLnJlbmRlckVsZW1lbnQoKSx0aGlzLnJlbmRlcklubmVyQ29udGVudCgpLHRoaXMuX2lzRmlyc3RGcmFtZSYmKHRoaXMuX2lzRmlyc3RGcmFtZT0hMSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5sYXllckVsZW1lbnQ9bnVsbCx0aGlzLnRyYW5zZm9ybWVkRWxlbWVudD1udWxsLHRoaXMubWF0dGVFbGVtZW50JiYodGhpcy5tYXR0ZUVsZW1lbnQ9bnVsbCksdGhpcy5tYXNrTWFuYWdlciYmKHRoaXMubWFza01hbmFnZXIuZGVzdHJveSgpLHRoaXMubWFza01hbmFnZXI9bnVsbCl9LGNyZWF0ZVJlbmRlcmFibGVDb21wb25lbnRzOmZ1bmN0aW9uKCl7dGhpcy5tYXNrTWFuYWdlcj1uZXcgTWFza0VsZW1lbnQodGhpcy5kYXRhLHRoaXMsdGhpcy5nbG9iYWxEYXRhKX0sYWRkRWZmZWN0czpmdW5jdGlvbigpe30sc2V0TWF0dGU6ZnVuY3Rpb24oKXt9fSxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmdldEJhc2VFbGVtZW50PVNWR0Jhc2VFbGVtZW50LnByb3RvdHlwZS5nZXRCYXNlRWxlbWVudCxIQmFzZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3lCYXNlRWxlbWVudD1IQmFzZUVsZW1lbnQucHJvdG90eXBlLmRlc3Ryb3ksSEJhc2VFbGVtZW50LnByb3RvdHlwZS5idWlsZEVsZW1lbnRQYXJlbnRpbmc9SHlicmlkUmVuZGVyZXIucHJvdG90eXBlLmJ1aWxkRWxlbWVudFBhcmVudGluZyxleHRlbmRQcm90b3R5cGUoW0Jhc2VFbGVtZW50LFRyYW5zZm9ybUVsZW1lbnQsSEJhc2VFbGVtZW50LEhpZXJhcmNoeUVsZW1lbnQsRnJhbWVFbGVtZW50LFJlbmRlcmFibGVET01FbGVtZW50XSxIU29saWRFbGVtZW50KSxIU29saWRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ7dGhpcy5kYXRhLmhhc01hc2s/KCh0PWNyZWF0ZU5TKCJyZWN0IikpLnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuZGF0YS5zdyksdC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5kYXRhLnNoKSx0LnNldEF0dHJpYnV0ZSgiZmlsbCIsdGhpcy5kYXRhLnNjKSx0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5kYXRhLnN3KSx0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHRoaXMuZGF0YS5zaCkpOigodD1jcmVhdGVUYWcoImRpdiIpKS5zdHlsZS53aWR0aD10aGlzLmRhdGEuc3crInB4Iix0LnN0eWxlLmhlaWdodD10aGlzLmRhdGEuc2grInB4Iix0LnN0eWxlLmJhY2tncm91bmRDb2xvcj10aGlzLmRhdGEuc2MpLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHQpfSxleHRlbmRQcm90b3R5cGUoW0h5YnJpZFJlbmRlcmVyLElDb21wRWxlbWVudCxIQmFzZUVsZW1lbnRdLEhDb21wRWxlbWVudCksSENvbXBFbGVtZW50LnByb3RvdHlwZS5fY3JlYXRlQmFzZUNvbnRhaW5lckVsZW1lbnRzPUhDb21wRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ29udGFpbmVyRWxlbWVudHMsSENvbXBFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250YWluZXJFbGVtZW50cz1mdW5jdGlvbigpe3RoaXMuX2NyZWF0ZUJhc2VDb250YWluZXJFbGVtZW50cygpLHRoaXMuZGF0YS5oYXNNYXNrPyh0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5kYXRhLncpLHRoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5kYXRhLmgpLHRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXRoaXMuYmFzZUVsZW1lbnQpOnRoaXMudHJhbnNmb3JtZWRFbGVtZW50PXRoaXMubGF5ZXJFbGVtZW50fSxIQ29tcEVsZW1lbnQucHJvdG90eXBlLmFkZFRvM2RDb250YWluZXI9ZnVuY3Rpb24odCxlKXtmb3IodmFyIHIsaT0wO2k8ZTspdGhpcy5lbGVtZW50c1tpXSYmdGhpcy5lbGVtZW50c1tpXS5nZXRCYXNlRWxlbWVudCYmKHI9dGhpcy5lbGVtZW50c1tpXS5nZXRCYXNlRWxlbWVudCgpKSxpKz0xO3I/dGhpcy5sYXllckVsZW1lbnQuaW5zZXJ0QmVmb3JlKHQscik6dGhpcy5sYXllckVsZW1lbnQuYXBwZW5kQ2hpbGQodCl9LGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsVHJhbnNmb3JtRWxlbWVudCxIU29saWRFbGVtZW50LFNWR1NoYXBlRWxlbWVudCxIQmFzZUVsZW1lbnQsSGllcmFyY2h5RWxlbWVudCxGcmFtZUVsZW1lbnQsUmVuZGVyYWJsZUVsZW1lbnRdLEhTaGFwZUVsZW1lbnQpLEhTaGFwZUVsZW1lbnQucHJvdG90eXBlLl9yZW5kZXJTaGFwZUZyYW1lPUhTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudCxIU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ7aWYodGhpcy5iYXNlRWxlbWVudC5zdHlsZS5mb250U2l6ZT0wLHRoaXMuZGF0YS5oYXNNYXNrKXRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc2hhcGVzQ29udGFpbmVyKSx0PXRoaXMuc3ZnRWxlbWVudDtlbHNle3Q9Y3JlYXRlTlMoInN2ZyIpO3ZhciBlPXRoaXMuY29tcC5kYXRhP3RoaXMuY29tcC5kYXRhOnRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZTt0LnNldEF0dHJpYnV0ZSgid2lkdGgiLGUudyksdC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZS5oKSx0LmFwcGVuZENoaWxkKHRoaXMuc2hhcGVzQ29udGFpbmVyKSx0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZCh0KX10aGlzLnNlYXJjaFNoYXBlcyh0aGlzLnNoYXBlc0RhdGEsdGhpcy5pdGVtc0RhdGEsdGhpcy5wcmV2Vmlld0RhdGEsdGhpcy5zaGFwZXNDb250YWluZXIsMCxbXSwhMCksdGhpcy5maWx0ZXJVbmlxdWVTaGFwZXMoKSx0aGlzLnNoYXBlQ29udD10fSxIU2hhcGVFbGVtZW50LnByb3RvdHlwZS5nZXRUcmFuc2Zvcm1lZFBvaW50PWZ1bmN0aW9uKHQsZSl7dmFyIHIsaT10Lmxlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKWU9dFtyXS5tUHJvcHMudi5hcHBseVRvUG9pbnRBcnJheShlWzBdLGVbMV0sMCk7cmV0dXJuIGV9LEhTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNhbGN1bGF0ZVNoYXBlQm91bmRpbmdCb3g9ZnVuY3Rpb24odCxlKXt2YXIgcixpLHMsYSxuLG89dC5zaC52LGg9dC50cmFuc2Zvcm1lcnMsbD1vLl9sZW5ndGg7aWYoIShsPD0xKSl7Zm9yKHI9MDtyPGwtMTtyKz0xKWk9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50KGgsby52W3JdKSxzPXRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludChoLG8ub1tyXSksYT10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnQoaCxvLmlbcisxXSksbj10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnQoaCxvLnZbcisxXSksdGhpcy5jaGVja0JvdW5kcyhpLHMsYSxuLGUpO28uYyYmKGk9dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50KGgsby52W3JdKSxzPXRoaXMuZ2V0VHJhbnNmb3JtZWRQb2ludChoLG8ub1tyXSksYT10aGlzLmdldFRyYW5zZm9ybWVkUG9pbnQoaCxvLmlbMF0pLG49dGhpcy5nZXRUcmFuc2Zvcm1lZFBvaW50KGgsby52WzBdKSx0aGlzLmNoZWNrQm91bmRzKGkscyxhLG4sZSkpfX0sSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuY2hlY2tCb3VuZHM9ZnVuY3Rpb24odCxlLHIsaSxzKXt0aGlzLmdldEJvdW5kc09mQ3VydmUodCxlLHIsaSk7dmFyIGE9dGhpcy5zaGFwZUJvdW5kaW5nQm94O3MueD1ibU1pbihhLmxlZnQscy54KSxzLnhNYXg9Ym1NYXgoYS5yaWdodCxzLnhNYXgpLHMueT1ibU1pbihhLnRvcCxzLnkpLHMueU1heD1ibU1heChhLmJvdHRvbSxzLnlNYXgpfSxIU2hhcGVFbGVtZW50LnByb3RvdHlwZS5zaGFwZUJvdW5kaW5nQm94PXtsZWZ0OjAscmlnaHQ6MCx0b3A6MCxib3R0b206MH0sSFNoYXBlRWxlbWVudC5wcm90b3R5cGUudGVtcEJvdW5kaW5nQm94PXt4OjAseE1heDowLHk6MCx5TWF4OjAsd2lkdGg6MCxoZWlnaHQ6MH0sSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuZ2V0Qm91bmRzT2ZDdXJ2ZT1mdW5jdGlvbih0LGUscixpKXtmb3IodmFyIHMsYSxuLG8saCxsLHAsbT1bW3RbMF0saVswXV0sW3RbMV0saVsxXV1dLGY9MDtmPDI7KytmKWE9Nip0W2ZdLTEyKmVbZl0rNipyW2ZdLHM9LTMqdFtmXSs5KmVbZl0tOSpyW2ZdKzMqaVtmXSxuPTMqZVtmXS0zKnRbZl0sYXw9MCxufD0wLDA9PT0oc3w9MCkmJjA9PT1hfHwoMD09PXM/MDwobz0tbi9hKSYmbzwxJiZtW2ZdLnB1c2godGhpcy5jYWxjdWxhdGVGKG8sdCxlLHIsaSxmKSk6MDw9KGg9YSphLTQqbipzKSYmKDA8KGw9KC1hK2JtU3FydChoKSkvKDIqcykpJiZsPDEmJm1bZl0ucHVzaCh0aGlzLmNhbGN1bGF0ZUYobCx0LGUscixpLGYpKSwwPChwPSgtYS1ibVNxcnQoaCkpLygyKnMpKSYmcDwxJiZtW2ZdLnB1c2godGhpcy5jYWxjdWxhdGVGKHAsdCxlLHIsaSxmKSkpKTt0aGlzLnNoYXBlQm91bmRpbmdCb3gubGVmdD1ibU1pbi5hcHBseShudWxsLG1bMF0pLHRoaXMuc2hhcGVCb3VuZGluZ0JveC50b3A9Ym1NaW4uYXBwbHkobnVsbCxtWzFdKSx0aGlzLnNoYXBlQm91bmRpbmdCb3gucmlnaHQ9Ym1NYXguYXBwbHkobnVsbCxtWzBdKSx0aGlzLnNoYXBlQm91bmRpbmdCb3guYm90dG9tPWJtTWF4LmFwcGx5KG51bGwsbVsxXSl9LEhTaGFwZUVsZW1lbnQucHJvdG90eXBlLmNhbGN1bGF0ZUY9ZnVuY3Rpb24odCxlLHIsaSxzLGEpe3JldHVybiBibVBvdygxLXQsMykqZVthXSszKmJtUG93KDEtdCwyKSp0KnJbYV0rMyooMS10KSpibVBvdyh0LDIpKmlbYV0rYm1Qb3codCwzKSpzW2FdfSxIU2hhcGVFbGVtZW50LnByb3RvdHlwZS5jYWxjdWxhdGVCb3VuZGluZ0JveD1mdW5jdGlvbih0LGUpe3ZhciByLGk9dC5sZW5ndGg7Zm9yKHI9MDtyPGk7cis9MSl0W3JdJiZ0W3JdLnNoP3RoaXMuY2FsY3VsYXRlU2hhcGVCb3VuZGluZ0JveCh0W3JdLGUpOnRbcl0mJnRbcl0uaXQmJnRoaXMuY2FsY3VsYXRlQm91bmRpbmdCb3godFtyXS5pdCxlKX0sSFNoYXBlRWxlbWVudC5wcm90b3R5cGUuY3VycmVudEJveENvbnRhaW5zPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmN1cnJlbnRCQm94Lng8PXQueCYmdGhpcy5jdXJyZW50QkJveC55PD10LnkmJnRoaXMuY3VycmVudEJCb3gud2lkdGgrdGhpcy5jdXJyZW50QkJveC54Pj10LngrdC53aWR0aCYmdGhpcy5jdXJyZW50QkJveC5oZWlnaHQrdGhpcy5jdXJyZW50QkJveC55Pj10LnkrdC5oZWlnaHR9LEhTaGFwZUVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudD1mdW5jdGlvbigpe2lmKHRoaXMuX3JlbmRlclNoYXBlRnJhbWUoKSwhdGhpcy5oaWRkZW4mJih0aGlzLl9pc0ZpcnN0RnJhbWV8fHRoaXMuX21kZikpe3ZhciB0PXRoaXMudGVtcEJvdW5kaW5nQm94LGU9OTk5OTk5O2lmKHQueD1lLHQueE1heD0tZSx0Lnk9ZSx0LnlNYXg9LWUsdGhpcy5jYWxjdWxhdGVCb3VuZGluZ0JveCh0aGlzLml0ZW1zRGF0YSx0KSx0LndpZHRoPXQueE1heDx0Lng/MDp0LnhNYXgtdC54LHQuaGVpZ2h0PXQueU1heDx0Lnk/MDp0LnlNYXgtdC55LHRoaXMuY3VycmVudEJveENvbnRhaW5zKHQpKXJldHVybjt2YXIgcj0hMTtpZih0aGlzLmN1cnJlbnRCQm94LnchPT10LndpZHRoJiYodGhpcy5jdXJyZW50QkJveC53PXQud2lkdGgsdGhpcy5zaGFwZUNvbnQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdC53aWR0aCkscj0hMCksdGhpcy5jdXJyZW50QkJveC5oIT09dC5oZWlnaHQmJih0aGlzLmN1cnJlbnRCQm94Lmg9dC5oZWlnaHQsdGhpcy5zaGFwZUNvbnQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHQuaGVpZ2h0KSxyPSEwKSxyfHx0aGlzLmN1cnJlbnRCQm94LnghPT10Lnh8fHRoaXMuY3VycmVudEJCb3gueSE9PXQueSl7dGhpcy5jdXJyZW50QkJveC53PXQud2lkdGgsdGhpcy5jdXJyZW50QkJveC5oPXQuaGVpZ2h0LHRoaXMuY3VycmVudEJCb3gueD10LngsdGhpcy5jdXJyZW50QkJveC55PXQueSx0aGlzLnNoYXBlQ29udC5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLHRoaXMuY3VycmVudEJCb3gueCsiICIrdGhpcy5jdXJyZW50QkJveC55KyIgIit0aGlzLmN1cnJlbnRCQm94LncrIiAiK3RoaXMuY3VycmVudEJCb3guaCk7dmFyIGk9dGhpcy5zaGFwZUNvbnQuc3R5bGUscz0idHJhbnNsYXRlKCIrdGhpcy5jdXJyZW50QkJveC54KyJweCwiK3RoaXMuY3VycmVudEJCb3gueSsicHgpIjtpLnRyYW5zZm9ybT1zLGkud2Via2l0VHJhbnNmb3JtPXN9fX0sZXh0ZW5kUHJvdG90eXBlKFtCYXNlRWxlbWVudCxUcmFuc2Zvcm1FbGVtZW50LEhCYXNlRWxlbWVudCxIaWVyYXJjaHlFbGVtZW50LEZyYW1lRWxlbWVudCxSZW5kZXJhYmxlRE9NRWxlbWVudCxJVGV4dEVsZW1lbnRdLEhUZXh0RWxlbWVudCksSFRleHRFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVDb250ZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5pc01hc2tlZD10aGlzLmNoZWNrTWFza3MoKSx0aGlzLmlzTWFza2VkKXt0aGlzLnJlbmRlclR5cGU9InN2ZyIsdGhpcy5jb21wVz10aGlzLmNvbXAuZGF0YS53LHRoaXMuY29tcEg9dGhpcy5jb21wLmRhdGEuaCx0aGlzLnN2Z0VsZW1lbnQuc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5jb21wVyksdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgiaGVpZ2h0Iix0aGlzLmNvbXBIKTt2YXIgdD1jcmVhdGVOUygiZyIpO3RoaXMubWFza2VkRWxlbWVudC5hcHBlbmRDaGlsZCh0KSx0aGlzLmlubmVyRWxlbT10fWVsc2UgdGhpcy5yZW5kZXJUeXBlPSJodG1sIix0aGlzLmlubmVyRWxlbT10aGlzLmxheWVyRWxlbWVudDt0aGlzLmNoZWNrUGFyZW50aW5nKCl9LEhUZXh0RWxlbWVudC5wcm90b3R5cGUuYnVpbGROZXdUZXh0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy50ZXh0UHJvcGVydHkuY3VycmVudERhdGE7dGhpcy5yZW5kZXJlZExldHRlcnM9Y3JlYXRlU2l6ZWRBcnJheSh0Lmw/dC5sLmxlbmd0aDowKTt2YXIgZT10aGlzLmlubmVyRWxlbS5zdHlsZSxyPXQuZmM/dGhpcy5idWlsZENvbG9yKHQuZmMpOiJyZ2JhKDAsMCwwLDApIjtlLmZpbGw9cixlLmNvbG9yPXIsdC5zYyYmKGUuc3Ryb2tlPXRoaXMuYnVpbGRDb2xvcih0LnNjKSxlLnN0cm9rZVdpZHRoPXQuc3crInB4Iik7dmFyIGkscyxhPXRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRGb250QnlOYW1lKHQuZik7aWYoIXRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5jaGFycylpZihlLmZvbnRTaXplPXQuZmluYWxTaXplKyJweCIsZS5saW5lSGVpZ2h0PXQuZmluYWxTaXplKyJweCIsYS5mQ2xhc3MpdGhpcy5pbm5lckVsZW0uY2xhc3NOYW1lPWEuZkNsYXNzO2Vsc2V7ZS5mb250RmFtaWx5PWEuZkZhbWlseTt2YXIgbj10LmZXZWlnaHQsbz10LmZTdHlsZTtlLmZvbnRTdHlsZT1vLGUuZm9udFdlaWdodD1ufXZhciBoLGwscCxtPXQubDtzPW0ubGVuZ3RoO3ZhciBmLGM9dGhpcy5tSGVscGVyLGQ9IiIsdT0wO2ZvcihpPTA7aTxzO2krPTEpe2lmKHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5jaGFycz8odGhpcy50ZXh0UGF0aHNbdV0/aD10aGlzLnRleHRQYXRoc1t1XTooKGg9Y3JlYXRlTlMoInBhdGgiKSkuc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWNhcCIsbGluZUNhcEVudW1bMV0pLGguc2V0QXR0cmlidXRlKCJzdHJva2UtbGluZWpvaW4iLGxpbmVKb2luRW51bVsyXSksaC5zZXRBdHRyaWJ1dGUoInN0cm9rZS1taXRlcmxpbWl0IiwiNCIpKSx0aGlzLmlzTWFza2VkfHwodGhpcy50ZXh0U3BhbnNbdV0/cD0obD10aGlzLnRleHRTcGFuc1t1XSkuY2hpbGRyZW5bMF06KChsPWNyZWF0ZVRhZygiZGl2IikpLnN0eWxlLmxpbmVIZWlnaHQ9MCwocD1jcmVhdGVOUygic3ZnIikpLmFwcGVuZENoaWxkKGgpLHN0eWxlRGl2KGwpKSkpOnRoaXMuaXNNYXNrZWQ/aD10aGlzLnRleHRQYXRoc1t1XT90aGlzLnRleHRQYXRoc1t1XTpjcmVhdGVOUygidGV4dCIpOnRoaXMudGV4dFNwYW5zW3VdPyhsPXRoaXMudGV4dFNwYW5zW3VdLGg9dGhpcy50ZXh0UGF0aHNbdV0pOihzdHlsZURpdihsPWNyZWF0ZVRhZygic3BhbiIpKSxzdHlsZURpdihoPWNyZWF0ZVRhZygic3BhbiIpKSxsLmFwcGVuZENoaWxkKGgpKSx0aGlzLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuY2hhcnMpe3ZhciB5LGc9dGhpcy5nbG9iYWxEYXRhLmZvbnRNYW5hZ2VyLmdldENoYXJEYXRhKHQuZmluYWxUZXh0W2ldLGEuZlN0eWxlLHRoaXMuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5nZXRGb250QnlOYW1lKHQuZikuZkZhbWlseSk7aWYoeT1nP2cuZGF0YTpudWxsLGMucmVzZXQoKSx5JiZ5LnNoYXBlcyYmKGY9eS5zaGFwZXNbMF0uaXQsYy5zY2FsZSh0LmZpbmFsU2l6ZS8xMDAsdC5maW5hbFNpemUvMTAwKSxkPXRoaXMuY3JlYXRlUGF0aFNoYXBlKGMsZiksaC5zZXRBdHRyaWJ1dGUoImQiLGQpKSx0aGlzLmlzTWFza2VkKXRoaXMuaW5uZXJFbGVtLmFwcGVuZENoaWxkKGgpO2Vsc2V7aWYodGhpcy5pbm5lckVsZW0uYXBwZW5kQ2hpbGQobCkseSYmeS5zaGFwZXMpe2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocCk7dmFyIHY9cC5nZXRCQm94KCk7cC5zZXRBdHRyaWJ1dGUoIndpZHRoIix2LndpZHRoKzIpLHAuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHYuaGVpZ2h0KzIpLHAuc2V0QXR0cmlidXRlKCJ2aWV3Qm94Iix2LngtMSsiICIrKHYueS0xKSsiICIrKHYud2lkdGgrMikrIiAiKyh2LmhlaWdodCsyKSk7dmFyIGI9cC5zdHlsZSxQPSJ0cmFuc2xhdGUoIisodi54LTEpKyJweCwiKyh2LnktMSkrInB4KSI7Yi50cmFuc2Zvcm09UCxiLndlYmtpdFRyYW5zZm9ybT1QLG1baV0ueU9mZnNldD12LnktMX1lbHNlIHAuc2V0QXR0cmlidXRlKCJ3aWR0aCIsMSkscC5zZXRBdHRyaWJ1dGUoImhlaWdodCIsMSk7bC5hcHBlbmRDaGlsZChwKX19ZWxzZSBpZihoLnRleHRDb250ZW50PW1baV0udmFsLGguc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSIsInhtbDpzcGFjZSIsInByZXNlcnZlIiksdGhpcy5pc01hc2tlZCl0aGlzLmlubmVyRWxlbS5hcHBlbmRDaGlsZChoKTtlbHNle3RoaXMuaW5uZXJFbGVtLmFwcGVuZENoaWxkKGwpO3ZhciBFPWguc3R5bGUseD0idHJhbnNsYXRlM2QoMCwiKy10LmZpbmFsU2l6ZS8xLjIrInB4LDApIjtFLnRyYW5zZm9ybT14LEUud2Via2l0VHJhbnNmb3JtPXh9dGhpcy5pc01hc2tlZD90aGlzLnRleHRTcGFuc1t1XT1oOnRoaXMudGV4dFNwYW5zW3VdPWwsdGhpcy50ZXh0U3BhbnNbdV0uc3R5bGUuZGlzcGxheT0iYmxvY2siLHRoaXMudGV4dFBhdGhzW3VdPWgsdSs9MX1mb3IoO3U8dGhpcy50ZXh0U3BhbnMubGVuZ3RoOyl0aGlzLnRleHRTcGFuc1t1XS5zdHlsZS5kaXNwbGF5PSJub25lIix1Kz0xfSxIVGV4dEVsZW1lbnQucHJvdG90eXBlLnJlbmRlcklubmVyQ29udGVudD1mdW5jdGlvbigpe3ZhciB0O2lmKHRoaXMuZGF0YS5zaW5nbGVTaGFwZSl7aWYoIXRoaXMuX2lzRmlyc3RGcmFtZSYmIXRoaXMubGV0dGVyc0NoYW5nZWRGbGFnKXJldHVybjtpZih0aGlzLmlzTWFza2VkJiZ0aGlzLmZpbmFsVHJhbnNmb3JtLl9tYXRNZGYpe3RoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLC10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnAudlswXSsiICIrLXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AucC52WzFdKyIgIit0aGlzLmNvbXBXKyIgIit0aGlzLmNvbXBIKSx0PXRoaXMuc3ZnRWxlbWVudC5zdHlsZTt2YXIgZT0idHJhbnNsYXRlKCIrLXRoaXMuZmluYWxUcmFuc2Zvcm0ubVByb3AucC52WzBdKyJweCwiKy10aGlzLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLnAudlsxXSsicHgpIjt0LnRyYW5zZm9ybT1lLHQud2Via2l0VHJhbnNmb3JtPWV9fWlmKHRoaXMudGV4dEFuaW1hdG9yLmdldE1lYXN1cmVzKHRoaXMudGV4dFByb3BlcnR5LmN1cnJlbnREYXRhLHRoaXMubGV0dGVyc0NoYW5nZWRGbGFnKSx0aGlzLmxldHRlcnNDaGFuZ2VkRmxhZ3x8dGhpcy50ZXh0QW5pbWF0b3IubGV0dGVyc0NoYW5nZWRGbGFnKXt2YXIgcixpLHMsYSxuLG89MCxoPXRoaXMudGV4dEFuaW1hdG9yLnJlbmRlcmVkTGV0dGVycyxsPXRoaXMudGV4dFByb3BlcnR5LmN1cnJlbnREYXRhLmw7Zm9yKGk9bC5sZW5ndGgscj0wO3I8aTtyKz0xKWxbcl0ubj9vKz0xOihhPXRoaXMudGV4dFNwYW5zW3JdLG49dGhpcy50ZXh0UGF0aHNbcl0scz1oW29dLG8rPTEscy5fbWRmLm0mJih0aGlzLmlzTWFza2VkP2Euc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLHMubSk6KGEuc3R5bGUud2Via2l0VHJhbnNmb3JtPXMubSxhLnN0eWxlLnRyYW5zZm9ybT1zLm0pKSxhLnN0eWxlLm9wYWNpdHk9cy5vLHMuc3cmJnMuX21kZi5zdyYmbi5zZXRBdHRyaWJ1dGUoInN0cm9rZS13aWR0aCIscy5zdykscy5zYyYmcy5fbWRmLnNjJiZuLnNldEF0dHJpYnV0ZSgic3Ryb2tlIixzLnNjKSxzLmZjJiZzLl9tZGYuZmMmJihuLnNldEF0dHJpYnV0ZSgiZmlsbCIscy5mYyksbi5zdHlsZS5jb2xvcj1zLmZjKSk7aWYodGhpcy5pbm5lckVsZW0uZ2V0QkJveCYmIXRoaXMuaGlkZGVuJiYodGhpcy5faXNGaXJzdEZyYW1lfHx0aGlzLl9tZGYpKXt2YXIgcD10aGlzLmlubmVyRWxlbS5nZXRCQm94KCk7dGhpcy5jdXJyZW50QkJveC53IT09cC53aWR0aCYmKHRoaXMuY3VycmVudEJCb3gudz1wLndpZHRoLHRoaXMuc3ZnRWxlbWVudC5zZXRBdHRyaWJ1dGUoIndpZHRoIixwLndpZHRoKSksdGhpcy5jdXJyZW50QkJveC5oIT09cC5oZWlnaHQmJih0aGlzLmN1cnJlbnRCQm94Lmg9cC5oZWlnaHQsdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgiaGVpZ2h0IixwLmhlaWdodCkpO2lmKHRoaXMuY3VycmVudEJCb3gudyE9PXAud2lkdGgrMnx8dGhpcy5jdXJyZW50QkJveC5oIT09cC5oZWlnaHQrMnx8dGhpcy5jdXJyZW50QkJveC54IT09cC54LTF8fHRoaXMuY3VycmVudEJCb3gueSE9PXAueS0xKXt0aGlzLmN1cnJlbnRCQm94Lnc9cC53aWR0aCsyLHRoaXMuY3VycmVudEJCb3guaD1wLmhlaWdodCsyLHRoaXMuY3VycmVudEJCb3gueD1wLngtMSx0aGlzLmN1cnJlbnRCQm94Lnk9cC55LTEsdGhpcy5zdmdFbGVtZW50LnNldEF0dHJpYnV0ZSgidmlld0JveCIsdGhpcy5jdXJyZW50QkJveC54KyIgIit0aGlzLmN1cnJlbnRCQm94LnkrIiAiK3RoaXMuY3VycmVudEJCb3gudysiICIrdGhpcy5jdXJyZW50QkJveC5oKSx0PXRoaXMuc3ZnRWxlbWVudC5zdHlsZTt2YXIgbT0idHJhbnNsYXRlKCIrdGhpcy5jdXJyZW50QkJveC54KyJweCwiK3RoaXMuY3VycmVudEJCb3gueSsicHgpIjt0LnRyYW5zZm9ybT1tLHQud2Via2l0VHJhbnNmb3JtPW19fX19LGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsVHJhbnNmb3JtRWxlbWVudCxIQmFzZUVsZW1lbnQsSFNvbGlkRWxlbWVudCxIaWVyYXJjaHlFbGVtZW50LEZyYW1lRWxlbWVudCxSZW5kZXJhYmxlRWxlbWVudF0sSEltYWdlRWxlbWVudCksSEltYWdlRWxlbWVudC5wcm90b3R5cGUuY3JlYXRlQ29udGVudD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuZ2xvYmFsRGF0YS5nZXRBc3NldHNQYXRoKHRoaXMuYXNzZXREYXRhKSxlPW5ldyBJbWFnZTt0aGlzLmRhdGEuaGFzTWFzaz8odGhpcy5pbWFnZUVsZW09Y3JlYXRlTlMoImltYWdlIiksdGhpcy5pbWFnZUVsZW0uc2V0QXR0cmlidXRlKCJ3aWR0aCIsdGhpcy5hc3NldERhdGEudysicHgiKSx0aGlzLmltYWdlRWxlbS5zZXRBdHRyaWJ1dGUoImhlaWdodCIsdGhpcy5hc3NldERhdGEuaCsicHgiKSx0aGlzLmltYWdlRWxlbS5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsImhyZWYiLHQpLHRoaXMubGF5ZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuaW1hZ2VFbGVtKSx0aGlzLmJhc2VFbGVtZW50LnNldEF0dHJpYnV0ZSgid2lkdGgiLHRoaXMuYXNzZXREYXRhLncpLHRoaXMuYmFzZUVsZW1lbnQuc2V0QXR0cmlidXRlKCJoZWlnaHQiLHRoaXMuYXNzZXREYXRhLmgpKTp0aGlzLmxheWVyRWxlbWVudC5hcHBlbmRDaGlsZChlKSxlLmNyb3NzT3JpZ2luPSJhbm9ueW1vdXMiLGUuc3JjPXQsdGhpcy5kYXRhLmxuJiZ0aGlzLmJhc2VFbGVtZW50LnNldEF0dHJpYnV0ZSgiaWQiLHRoaXMuZGF0YS5sbil9LGV4dGVuZFByb3RvdHlwZShbQmFzZUVsZW1lbnQsRnJhbWVFbGVtZW50LEhpZXJhcmNoeUVsZW1lbnRdLEhDYW1lcmFFbGVtZW50KSxIQ2FtZXJhRWxlbWVudC5wcm90b3R5cGUuc2V0dXA9ZnVuY3Rpb24oKXt2YXIgdCxlLHIsaSxzPXRoaXMuY29tcC50aHJlZURFbGVtZW50cy5sZW5ndGg7Zm9yKHQ9MDt0PHM7dCs9MSlpZigiM2QiPT09KGU9dGhpcy5jb21wLnRocmVlREVsZW1lbnRzW3RdKS50eXBlKXtyPWUucGVyc3BlY3RpdmVFbGVtLnN0eWxlLGk9ZS5jb250YWluZXIuc3R5bGU7dmFyIGE9dGhpcy5wZS52KyJweCIsbj0iMHB4IDBweCAwcHgiLG89Im1hdHJpeDNkKDEsMCwwLDAsMCwxLDAsMCwwLDAsMSwwLDAsMCwwLDEpIjtyLnBlcnNwZWN0aXZlPWEsci53ZWJraXRQZXJzcGVjdGl2ZT1hLGkudHJhbnNmb3JtT3JpZ2luPW4saS5tb3pUcmFuc2Zvcm1PcmlnaW49bixpLndlYmtpdFRyYW5zZm9ybU9yaWdpbj1uLHIudHJhbnNmb3JtPW8sci53ZWJraXRUcmFuc2Zvcm09b319LEhDYW1lcmFFbGVtZW50LnByb3RvdHlwZS5jcmVhdGVFbGVtZW50cz1mdW5jdGlvbigpe30sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt9LEhDYW1lcmFFbGVtZW50LnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe3ZhciB0LGUscj10aGlzLl9pc0ZpcnN0RnJhbWU7aWYodGhpcy5oaWVyYXJjaHkpZm9yKGU9dGhpcy5oaWVyYXJjaHkubGVuZ3RoLHQ9MDt0PGU7dCs9MSlyPXRoaXMuaGllcmFyY2h5W3RdLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLl9tZGZ8fHI7aWYocnx8dGhpcy5wZS5fbWRmfHx0aGlzLnAmJnRoaXMucC5fbWRmfHx0aGlzLnB4JiYodGhpcy5weC5fbWRmfHx0aGlzLnB5Ll9tZGZ8fHRoaXMucHouX21kZil8fHRoaXMucnguX21kZnx8dGhpcy5yeS5fbWRmfHx0aGlzLnJ6Ll9tZGZ8fHRoaXMub3IuX21kZnx8dGhpcy5hJiZ0aGlzLmEuX21kZil7aWYodGhpcy5tYXQucmVzZXQoKSx0aGlzLmhpZXJhcmNoeSlmb3IodD1lPXRoaXMuaGllcmFyY2h5Lmxlbmd0aC0xOzA8PXQ7dC09MSl7dmFyIGk9dGhpcy5oaWVyYXJjaHlbdF0uZmluYWxUcmFuc2Zvcm0ubVByb3A7dGhpcy5tYXQudHJhbnNsYXRlKC1pLnAudlswXSwtaS5wLnZbMV0saS5wLnZbMl0pLHRoaXMubWF0LnJvdGF0ZVgoLWkub3IudlswXSkucm90YXRlWSgtaS5vci52WzFdKS5yb3RhdGVaKGkub3IudlsyXSksdGhpcy5tYXQucm90YXRlWCgtaS5yeC52KS5yb3RhdGVZKC1pLnJ5LnYpLnJvdGF0ZVooaS5yei52KSx0aGlzLm1hdC5zY2FsZSgxL2kucy52WzBdLDEvaS5zLnZbMV0sMS9pLnMudlsyXSksdGhpcy5tYXQudHJhbnNsYXRlKGkuYS52WzBdLGkuYS52WzFdLGkuYS52WzJdKX1pZih0aGlzLnA/dGhpcy5tYXQudHJhbnNsYXRlKC10aGlzLnAudlswXSwtdGhpcy5wLnZbMV0sdGhpcy5wLnZbMl0pOnRoaXMubWF0LnRyYW5zbGF0ZSgtdGhpcy5weC52LC10aGlzLnB5LnYsdGhpcy5wei52KSx0aGlzLmEpe3ZhciBzO3M9dGhpcy5wP1t0aGlzLnAudlswXS10aGlzLmEudlswXSx0aGlzLnAudlsxXS10aGlzLmEudlsxXSx0aGlzLnAudlsyXS10aGlzLmEudlsyXV06W3RoaXMucHgudi10aGlzLmEudlswXSx0aGlzLnB5LnYtdGhpcy5hLnZbMV0sdGhpcy5wei52LXRoaXMuYS52WzJdXTt2YXIgYT1NYXRoLnNxcnQoTWF0aC5wb3coc1swXSwyKStNYXRoLnBvdyhzWzFdLDIpK01hdGgucG93KHNbMl0sMikpLG49W3NbMF0vYSxzWzFdL2Esc1syXS9hXSxvPU1hdGguc3FydChuWzJdKm5bMl0rblswXSpuWzBdKSxoPU1hdGguYXRhbjIoblsxXSxvKSxsPU1hdGguYXRhbjIoblswXSwtblsyXSk7dGhpcy5tYXQucm90YXRlWShsKS5yb3RhdGVYKC1oKX10aGlzLm1hdC5yb3RhdGVYKC10aGlzLnJ4LnYpLnJvdGF0ZVkoLXRoaXMucnkudikucm90YXRlWih0aGlzLnJ6LnYpLHRoaXMubWF0LnJvdGF0ZVgoLXRoaXMub3IudlswXSkucm90YXRlWSgtdGhpcy5vci52WzFdKS5yb3RhdGVaKHRoaXMub3IudlsyXSksdGhpcy5tYXQudHJhbnNsYXRlKHRoaXMuZ2xvYmFsRGF0YS5jb21wU2l6ZS53LzIsdGhpcy5nbG9iYWxEYXRhLmNvbXBTaXplLmgvMiwwKSx0aGlzLm1hdC50cmFuc2xhdGUoMCwwLHRoaXMucGUudik7dmFyIHA9IXRoaXMuX3ByZXZNYXQuZXF1YWxzKHRoaXMubWF0KTtpZigocHx8dGhpcy5wZS5fbWRmKSYmdGhpcy5jb21wLnRocmVlREVsZW1lbnRzKXt2YXIgbSxmLGM7Zm9yKGU9dGhpcy5jb21wLnRocmVlREVsZW1lbnRzLmxlbmd0aCx0PTA7dDxlO3QrPTEpaWYoIjNkIj09PShtPXRoaXMuY29tcC50aHJlZURFbGVtZW50c1t0XSkudHlwZSl7aWYocCl7dmFyIGQ9dGhpcy5tYXQudG9DU1MoKTsoYz1tLmNvbnRhaW5lci5zdHlsZSkudHJhbnNmb3JtPWQsYy53ZWJraXRUcmFuc2Zvcm09ZH10aGlzLnBlLl9tZGYmJigoZj1tLnBlcnNwZWN0aXZlRWxlbS5zdHlsZSkucGVyc3BlY3RpdmU9dGhpcy5wZS52KyJweCIsZi53ZWJraXRQZXJzcGVjdGl2ZT10aGlzLnBlLnYrInB4Iil9dGhpcy5tYXQuY2xvbmUodGhpcy5fcHJldk1hdCl9fXRoaXMuX2lzRmlyc3RGcmFtZT0hMX0sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLnByZXBhcmVGcmFtZT1mdW5jdGlvbih0KXt0aGlzLnByZXBhcmVQcm9wZXJ0aWVzKHQsITApfSxIQ2FtZXJhRWxlbWVudC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe30sSENhbWVyYUVsZW1lbnQucHJvdG90eXBlLmdldEJhc2VFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LEhFZmZlY3RzLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe307dmFyIGFuaW1hdGlvbk1hbmFnZXI9ZnVuY3Rpb24oKXt2YXIgdD17fSxzPVtdLGk9MCxhPTAsbj0wLG89ITAsaD0hMTtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT0wLHI9dC50YXJnZXQ7ZTxhOylzW2VdLmFuaW1hdGlvbj09PXImJihzLnNwbGljZShlLDEpLGUtPTEsYS09MSxyLmlzUGF1c2VkfHxtKCkpLGUrPTF9ZnVuY3Rpb24gbCh0LGUpe2lmKCF0KXJldHVybiBudWxsO2Zvcih2YXIgcj0wO3I8YTspe2lmKHNbcl0uZWxlbT09PXQmJm51bGwhPT1zW3JdLmVsZW0pcmV0dXJuIHNbcl0uYW5pbWF0aW9uO3IrPTF9dmFyIGk9bmV3IEFuaW1hdGlvbkl0ZW07cmV0dXJuIGYoaSx0KSxpLnNldERhdGEodCxlKSxpfWZ1bmN0aW9uIHAoKXtuKz0xLGQoKX1mdW5jdGlvbiBtKCl7bi09MX1mdW5jdGlvbiBmKHQsZSl7dC5hZGRFdmVudExpc3RlbmVyKCJkZXN0cm95IixyKSx0LmFkZEV2ZW50TGlzdGVuZXIoIl9hY3RpdmUiLHApLHQuYWRkRXZlbnRMaXN0ZW5lcigiX2lkbGUiLG0pLHMucHVzaCh7ZWxlbTplLGFuaW1hdGlvbjp0fSksYSs9MX1mdW5jdGlvbiBjKHQpe3ZhciBlLHI9dC1pO2ZvcihlPTA7ZTxhO2UrPTEpc1tlXS5hbmltYXRpb24uYWR2YW5jZVRpbWUocik7aT10LG4mJiFoP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYyk6bz0hMH1mdW5jdGlvbiBlKHQpe2k9dCx3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGMpfWZ1bmN0aW9uIGQoKXshaCYmbiYmbyYmKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZSksbz0hMSl9cmV0dXJuIHQucmVnaXN0ZXJBbmltYXRpb249bCx0LmxvYWRBbmltYXRpb249ZnVuY3Rpb24odCl7dmFyIGU9bmV3IEFuaW1hdGlvbkl0ZW07cmV0dXJuIGYoZSxudWxsKSxlLnNldFBhcmFtcyh0KSxlfSx0LnNldFNwZWVkPWZ1bmN0aW9uKHQsZSl7dmFyIHI7Zm9yKHI9MDtyPGE7cis9MSlzW3JdLmFuaW1hdGlvbi5zZXRTcGVlZCh0LGUpfSx0LnNldERpcmVjdGlvbj1mdW5jdGlvbih0LGUpe3ZhciByO2ZvcihyPTA7cjxhO3IrPTEpc1tyXS5hbmltYXRpb24uc2V0RGlyZWN0aW9uKHQsZSl9LHQucGxheT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT0wO2U8YTtlKz0xKXNbZV0uYW5pbWF0aW9uLnBsYXkodCl9LHQucGF1c2U9ZnVuY3Rpb24odCl7dmFyIGU7Zm9yKGU9MDtlPGE7ZSs9MSlzW2VdLmFuaW1hdGlvbi5wYXVzZSh0KX0sdC5zdG9wPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPTA7ZTxhO2UrPTEpc1tlXS5hbmltYXRpb24uc3RvcCh0KX0sdC50b2dnbGVQYXVzZT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT0wO2U8YTtlKz0xKXNbZV0uYW5pbWF0aW9uLnRvZ2dsZVBhdXNlKHQpfSx0LnNlYXJjaEFuaW1hdGlvbnM9ZnVuY3Rpb24odCxlLHIpe3ZhciBpLHM9W10uY29uY2F0KFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgibG90dGllIikpLFtdLnNsaWNlLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiYm9keW1vdmluIikpKSxhPXMubGVuZ3RoO2ZvcihpPTA7aTxhO2krPTEpciYmc1tpXS5zZXRBdHRyaWJ1dGUoImRhdGEtYm0tdHlwZSIsciksbChzW2ldLHQpO2lmKGUmJjA9PT1hKXtyfHwocj0ic3ZnIik7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTtuLmlubmVyVGV4dD0iIjt2YXIgbz1jcmVhdGVUYWcoImRpdiIpO28uc3R5bGUud2lkdGg9IjEwMCUiLG8uc3R5bGUuaGVpZ2h0PSIxMDAlIixvLnNldEF0dHJpYnV0ZSgiZGF0YS1ibS10eXBlIixyKSxuLmFwcGVuZENoaWxkKG8pLGwobyx0KX19LHQucmVzaXplPWZ1bmN0aW9uKCl7dmFyIHQ7Zm9yKHQ9MDt0PGE7dCs9MSlzW3RdLmFuaW1hdGlvbi5yZXNpemUoKX0sdC5nb1RvQW5kU3RvcD1mdW5jdGlvbih0LGUscil7dmFyIGk7Zm9yKGk9MDtpPGE7aSs9MSlzW2ldLmFuaW1hdGlvbi5nb1RvQW5kU3RvcCh0LGUscil9LHQuZGVzdHJveT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT1hLTE7MDw9ZTtlLT0xKXNbZV0uYW5pbWF0aW9uLmRlc3Ryb3kodCl9LHQuZnJlZXplPWZ1bmN0aW9uKCl7aD0hMH0sdC51bmZyZWV6ZT1mdW5jdGlvbigpe2g9ITEsZCgpfSx0LnNldFZvbHVtZT1mdW5jdGlvbih0LGUpe3ZhciByO2ZvcihyPTA7cjxhO3IrPTEpc1tyXS5hbmltYXRpb24uc2V0Vm9sdW1lKHQsZSl9LHQubXV0ZT1mdW5jdGlvbih0KXt2YXIgZTtmb3IoZT0wO2U8YTtlKz0xKXNbZV0uYW5pbWF0aW9uLm11dGUodCl9LHQudW5tdXRlPWZ1bmN0aW9uKHQpe3ZhciBlO2ZvcihlPTA7ZTxhO2UrPTEpc1tlXS5hbmltYXRpb24udW5tdXRlKHQpfSx0LmdldFJlZ2lzdGVyZWRBbmltYXRpb25zPWZ1bmN0aW9uKCl7dmFyIHQsZT1zLmxlbmd0aCxyPVtdO2Zvcih0PTA7dDxlO3QrPTEpci5wdXNoKHNbdF0uYW5pbWF0aW9uKTtyZXR1cm4gcn0sdH0oKSxBbmltYXRpb25JdGVtPWZ1bmN0aW9uKCl7dGhpcy5fY2JzPVtdLHRoaXMubmFtZT0iIix0aGlzLnBhdGg9IiIsdGhpcy5pc0xvYWRlZD0hMSx0aGlzLmN1cnJlbnRGcmFtZT0wLHRoaXMuY3VycmVudFJhd0ZyYW1lPTAsdGhpcy5maXJzdEZyYW1lPTAsdGhpcy50b3RhbEZyYW1lcz0wLHRoaXMuZnJhbWVSYXRlPTAsdGhpcy5mcmFtZU11bHQ9MCx0aGlzLnBsYXlTcGVlZD0xLHRoaXMucGxheURpcmVjdGlvbj0xLHRoaXMucGxheUNvdW50PTAsdGhpcy5hbmltYXRpb25EYXRhPXt9LHRoaXMuYXNzZXRzPVtdLHRoaXMuaXNQYXVzZWQ9ITAsdGhpcy5hdXRvcGxheT0hMSx0aGlzLmxvb3A9ITAsdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMuYW5pbWF0aW9uSUQ9Y3JlYXRlRWxlbWVudElEKCksdGhpcy5hc3NldHNQYXRoPSIiLHRoaXMudGltZUNvbXBsZXRlZD0wLHRoaXMuc2VnbWVudFBvcz0wLHRoaXMuaXNTdWJmcmFtZUVuYWJsZWQ9c3ViZnJhbWVFbmFibGVkLHRoaXMuc2VnbWVudHM9W10sdGhpcy5faWRsZT0hMCx0aGlzLl9jb21wbGV0ZWRMb29wPSExLHRoaXMucHJvamVjdEludGVyZmFjZT1Qcm9qZWN0SW50ZXJmYWNlKCksdGhpcy5pbWFnZVByZWxvYWRlcj1uZXcgSW1hZ2VQcmVsb2FkZXIsdGhpcy5hdWRpb0NvbnRyb2xsZXI9YXVkaW9Db250cm9sbGVyRmFjdG9yeSgpLHRoaXMubWFya2Vycz1bXSx0aGlzLmNvbmZpZ0FuaW1hdGlvbj10aGlzLmNvbmZpZ0FuaW1hdGlvbi5iaW5kKHRoaXMpLHRoaXMub25TZXR1cEVycm9yPXRoaXMub25TZXR1cEVycm9yLmJpbmQodGhpcyksdGhpcy5vblNlZ21lbnRDb21wbGV0ZT10aGlzLm9uU2VnbWVudENvbXBsZXRlLmJpbmQodGhpcyl9O2V4dGVuZFByb3RvdHlwZShbQmFzZUV2ZW50XSxBbmltYXRpb25JdGVtKSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXRQYXJhbXM9ZnVuY3Rpb24odCl7KHQud3JhcHBlcnx8dC5jb250YWluZXIpJiYodGhpcy53cmFwcGVyPXQud3JhcHBlcnx8dC5jb250YWluZXIpO3ZhciBlPSJzdmciO3N3aXRjaCh0LmFuaW1UeXBlP2U9dC5hbmltVHlwZTp0LnJlbmRlcmVyJiYoZT10LnJlbmRlcmVyKSxlKXtjYXNlImNhbnZhcyI6dGhpcy5yZW5kZXJlcj1uZXcgQ2FudmFzUmVuZGVyZXIodGhpcyx0LnJlbmRlcmVyU2V0dGluZ3MpO2JyZWFrO2Nhc2Uic3ZnIjp0aGlzLnJlbmRlcmVyPW5ldyBTVkdSZW5kZXJlcih0aGlzLHQucmVuZGVyZXJTZXR0aW5ncyk7YnJlYWs7ZGVmYXVsdDp0aGlzLnJlbmRlcmVyPW5ldyBIeWJyaWRSZW5kZXJlcih0aGlzLHQucmVuZGVyZXJTZXR0aW5ncyl9dGhpcy5pbWFnZVByZWxvYWRlci5zZXRDYWNoZVR5cGUoZSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZGVmcyksdGhpcy5yZW5kZXJlci5zZXRQcm9qZWN0SW50ZXJmYWNlKHRoaXMucHJvamVjdEludGVyZmFjZSksdGhpcy5hbmltVHlwZT1lLCIiPT09dC5sb29wfHxudWxsPT09dC5sb29wfHx2b2lkIDA9PT10Lmxvb3B8fCEwPT09dC5sb29wP3RoaXMubG9vcD0hMDohMT09PXQubG9vcD90aGlzLmxvb3A9ITE6dGhpcy5sb29wPXBhcnNlSW50KHQubG9vcCwxMCksdGhpcy5hdXRvcGxheT0hKCJhdXRvcGxheSJpbiB0KXx8dC5hdXRvcGxheSx0aGlzLm5hbWU9dC5uYW1lP3QubmFtZToiIix0aGlzLmF1dG9sb2FkU2VnbWVudHM9IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCJhdXRvbG9hZFNlZ21lbnRzIil8fHQuYXV0b2xvYWRTZWdtZW50cyx0aGlzLmFzc2V0c1BhdGg9dC5hc3NldHNQYXRoLHRoaXMuaW5pdGlhbFNlZ21lbnQ9dC5pbml0aWFsU2VnbWVudCx0LmF1ZGlvRmFjdG9yeSYmdGhpcy5hdWRpb0NvbnRyb2xsZXIuc2V0QXVkaW9GYWN0b3J5KHQuYXVkaW9GYWN0b3J5KSx0LmFuaW1hdGlvbkRhdGE/dGhpcy5zZXR1cEFuaW1hdGlvbih0LmFuaW1hdGlvbkRhdGEpOnQucGF0aCYmKC0xIT09dC5wYXRoLmxhc3RJbmRleE9mKCJcXCIpP3RoaXMucGF0aD10LnBhdGguc3Vic3RyKDAsdC5wYXRoLmxhc3RJbmRleE9mKCJcXCIpKzEpOnRoaXMucGF0aD10LnBhdGguc3Vic3RyKDAsdC5wYXRoLmxhc3RJbmRleE9mKCIvIikrMSksdGhpcy5maWxlTmFtZT10LnBhdGguc3Vic3RyKHQucGF0aC5sYXN0SW5kZXhPZigiLyIpKzEpLHRoaXMuZmlsZU5hbWU9dGhpcy5maWxlTmFtZS5zdWJzdHIoMCx0aGlzLmZpbGVOYW1lLmxhc3RJbmRleE9mKCIuanNvbiIpKSxkYXRhTWFuYWdlci5sb2FkQW5pbWF0aW9uKHQucGF0aCx0aGlzLmNvbmZpZ0FuaW1hdGlvbix0aGlzLm9uU2V0dXBFcnJvcikpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5vblNldHVwRXJyb3I9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImRhdGFfZmFpbGVkIil9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldHVwQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe2RhdGFNYW5hZ2VyLmNvbXBsZXRlQW5pbWF0aW9uKHQsdGhpcy5jb25maWdBbmltYXRpb24pfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXREYXRhPWZ1bmN0aW9uKHQsZSl7ZSYmIm9iamVjdCIhPXR5cGVvZiBlJiYoZT1KU09OLnBhcnNlKGUpKTt2YXIgcj17d3JhcHBlcjp0LGFuaW1hdGlvbkRhdGE6ZX0saT10LmF0dHJpYnV0ZXM7ci5wYXRoPWkuZ2V0TmFtZWRJdGVtKCJkYXRhLWFuaW1hdGlvbi1wYXRoIik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYW5pbWF0aW9uLXBhdGgiKS52YWx1ZTppLmdldE5hbWVkSXRlbSgiZGF0YS1ibS1wYXRoIik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tcGF0aCIpLnZhbHVlOmkuZ2V0TmFtZWRJdGVtKCJibS1wYXRoIik/aS5nZXROYW1lZEl0ZW0oImJtLXBhdGgiKS52YWx1ZToiIixyLmFuaW1UeXBlPWkuZ2V0TmFtZWRJdGVtKCJkYXRhLWFuaW0tdHlwZSIpP2kuZ2V0TmFtZWRJdGVtKCJkYXRhLWFuaW0tdHlwZSIpLnZhbHVlOmkuZ2V0TmFtZWRJdGVtKCJkYXRhLWJtLXR5cGUiKT9pLmdldE5hbWVkSXRlbSgiZGF0YS1ibS10eXBlIikudmFsdWU6aS5nZXROYW1lZEl0ZW0oImJtLXR5cGUiKT9pLmdldE5hbWVkSXRlbSgiYm0tdHlwZSIpLnZhbHVlOmkuZ2V0TmFtZWRJdGVtKCJkYXRhLWJtLXJlbmRlcmVyIik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tcmVuZGVyZXIiKS52YWx1ZTppLmdldE5hbWVkSXRlbSgiYm0tcmVuZGVyZXIiKT9pLmdldE5hbWVkSXRlbSgiYm0tcmVuZGVyZXIiKS52YWx1ZToiY2FudmFzIjt2YXIgcz1pLmdldE5hbWVkSXRlbSgiZGF0YS1hbmltLWxvb3AiKT9pLmdldE5hbWVkSXRlbSgiZGF0YS1hbmltLWxvb3AiKS52YWx1ZTppLmdldE5hbWVkSXRlbSgiZGF0YS1ibS1sb29wIik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tbG9vcCIpLnZhbHVlOmkuZ2V0TmFtZWRJdGVtKCJibS1sb29wIik/aS5nZXROYW1lZEl0ZW0oImJtLWxvb3AiKS52YWx1ZToiIjsiZmFsc2UiPT09cz9yLmxvb3A9ITE6InRydWUiPT09cz9yLmxvb3A9ITA6IiIhPT1zJiYoci5sb29wPXBhcnNlSW50KHMsMTApKTt2YXIgYT1pLmdldE5hbWVkSXRlbSgiZGF0YS1hbmltLWF1dG9wbGF5Iik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYW5pbS1hdXRvcGxheSIpLnZhbHVlOmkuZ2V0TmFtZWRJdGVtKCJkYXRhLWJtLWF1dG9wbGF5Iik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tYXV0b3BsYXkiKS52YWx1ZTohaS5nZXROYW1lZEl0ZW0oImJtLWF1dG9wbGF5Iil8fGkuZ2V0TmFtZWRJdGVtKCJibS1hdXRvcGxheSIpLnZhbHVlO3IuYXV0b3BsYXk9ImZhbHNlIiE9PWEsci5uYW1lPWkuZ2V0TmFtZWRJdGVtKCJkYXRhLW5hbWUiKT9pLmdldE5hbWVkSXRlbSgiZGF0YS1uYW1lIikudmFsdWU6aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tbmFtZSIpP2kuZ2V0TmFtZWRJdGVtKCJkYXRhLWJtLW5hbWUiKS52YWx1ZTppLmdldE5hbWVkSXRlbSgiYm0tbmFtZSIpP2kuZ2V0TmFtZWRJdGVtKCJibS1uYW1lIikudmFsdWU6IiIsImZhbHNlIj09PShpLmdldE5hbWVkSXRlbSgiZGF0YS1hbmltLXByZXJlbmRlciIpP2kuZ2V0TmFtZWRJdGVtKCJkYXRhLWFuaW0tcHJlcmVuZGVyIikudmFsdWU6aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tcHJlcmVuZGVyIik/aS5nZXROYW1lZEl0ZW0oImRhdGEtYm0tcHJlcmVuZGVyIikudmFsdWU6aS5nZXROYW1lZEl0ZW0oImJtLXByZXJlbmRlciIpP2kuZ2V0TmFtZWRJdGVtKCJibS1wcmVyZW5kZXIiKS52YWx1ZToiIikmJihyLnByZXJlbmRlcj0hMSksdGhpcy5zZXRQYXJhbXMocil9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmluY2x1ZGVMYXllcnM9ZnVuY3Rpb24odCl7dC5vcD50aGlzLmFuaW1hdGlvbkRhdGEub3AmJih0aGlzLmFuaW1hdGlvbkRhdGEub3A9dC5vcCx0aGlzLnRvdGFsRnJhbWVzPU1hdGguZmxvb3IodC5vcC10aGlzLmFuaW1hdGlvbkRhdGEuaXApKTt2YXIgZSxyLGk9dGhpcy5hbmltYXRpb25EYXRhLmxheWVycyxzPWkubGVuZ3RoLGE9dC5sYXllcnMsbj1hLmxlbmd0aDtmb3Iocj0wO3I8bjtyKz0xKWZvcihlPTA7ZTxzOyl7aWYoaVtlXS5pZD09PWFbcl0uaWQpe2lbZV09YVtyXTticmVha31lKz0xfWlmKCh0LmNoYXJzfHx0LmZvbnRzKSYmKHRoaXMucmVuZGVyZXIuZ2xvYmFsRGF0YS5mb250TWFuYWdlci5hZGRDaGFycyh0LmNoYXJzKSx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuYWRkRm9udHModC5mb250cyx0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZGVmcykpLHQuYXNzZXRzKWZvcihzPXQuYXNzZXRzLmxlbmd0aCxlPTA7ZTxzO2UrPTEpdGhpcy5hbmltYXRpb25EYXRhLmFzc2V0cy5wdXNoKHQuYXNzZXRzW2VdKTt0aGlzLmFuaW1hdGlvbkRhdGEuX19jb21wbGV0ZT0hMSxkYXRhTWFuYWdlci5jb21wbGV0ZUFuaW1hdGlvbih0aGlzLmFuaW1hdGlvbkRhdGEsdGhpcy5vblNlZ21lbnRDb21wbGV0ZSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLm9uU2VnbWVudENvbXBsZXRlPWZ1bmN0aW9uKHQpe3RoaXMuYW5pbWF0aW9uRGF0YT10LGV4cHJlc3Npb25zUGx1Z2luJiZleHByZXNzaW9uc1BsdWdpbi5pbml0RXhwcmVzc2lvbnModGhpcyksdGhpcy5sb2FkTmV4dFNlZ21lbnQoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUubG9hZE5leHRTZWdtZW50PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5hbmltYXRpb25EYXRhLnNlZ21lbnRzO2lmKCF0fHwwPT09dC5sZW5ndGh8fCF0aGlzLmF1dG9sb2FkU2VnbWVudHMpcmV0dXJuIHRoaXMudHJpZ2dlcigiZGF0YV9yZWFkeSIpLHZvaWQodGhpcy50aW1lQ29tcGxldGVkPXRoaXMudG90YWxGcmFtZXMpO3ZhciBlPXQuc2hpZnQoKTt0aGlzLnRpbWVDb21wbGV0ZWQ9ZS50aW1lKnRoaXMuZnJhbWVSYXRlO3ZhciByPXRoaXMucGF0aCt0aGlzLmZpbGVOYW1lKyJfIit0aGlzLnNlZ21lbnRQb3MrIi5qc29uIjt0aGlzLnNlZ21lbnRQb3MrPTEsZGF0YU1hbmFnZXIubG9hZERhdGEocix0aGlzLmluY2x1ZGVMYXllcnMuYmluZCh0aGlzKSxmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigiZGF0YV9mYWlsZWQiKX0uYmluZCh0aGlzKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmxvYWRTZWdtZW50cz1mdW5jdGlvbigpe3RoaXMuYW5pbWF0aW9uRGF0YS5zZWdtZW50c3x8KHRoaXMudGltZUNvbXBsZXRlZD10aGlzLnRvdGFsRnJhbWVzKSx0aGlzLmxvYWROZXh0U2VnbWVudCgpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5pbWFnZXNMb2FkZWQ9ZnVuY3Rpb24oKXt0aGlzLnRyaWdnZXIoImxvYWRlZF9pbWFnZXMiKSx0aGlzLmNoZWNrTG9hZGVkKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnByZWxvYWRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLmltYWdlUHJlbG9hZGVyLnNldEFzc2V0c1BhdGgodGhpcy5hc3NldHNQYXRoKSx0aGlzLmltYWdlUHJlbG9hZGVyLnNldFBhdGgodGhpcy5wYXRoKSx0aGlzLmltYWdlUHJlbG9hZGVyLmxvYWRBc3NldHModGhpcy5hbmltYXRpb25EYXRhLmFzc2V0cyx0aGlzLmltYWdlc0xvYWRlZC5iaW5kKHRoaXMpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuY29uZmlnQW5pbWF0aW9uPWZ1bmN0aW9uKHQpe2lmKHRoaXMucmVuZGVyZXIpdHJ5e3RoaXMuYW5pbWF0aW9uRGF0YT10LHRoaXMuaW5pdGlhbFNlZ21lbnQ/KHRoaXMudG90YWxGcmFtZXM9TWF0aC5mbG9vcih0aGlzLmluaXRpYWxTZWdtZW50WzFdLXRoaXMuaW5pdGlhbFNlZ21lbnRbMF0pLHRoaXMuZmlyc3RGcmFtZT1NYXRoLnJvdW5kKHRoaXMuaW5pdGlhbFNlZ21lbnRbMF0pKToodGhpcy50b3RhbEZyYW1lcz1NYXRoLmZsb29yKHRoaXMuYW5pbWF0aW9uRGF0YS5vcC10aGlzLmFuaW1hdGlvbkRhdGEuaXApLHRoaXMuZmlyc3RGcmFtZT1NYXRoLnJvdW5kKHRoaXMuYW5pbWF0aW9uRGF0YS5pcCkpLHRoaXMucmVuZGVyZXIuY29uZmlnQW5pbWF0aW9uKHQpLHQuYXNzZXRzfHwodC5hc3NldHM9W10pLHRoaXMuYXNzZXRzPXRoaXMuYW5pbWF0aW9uRGF0YS5hc3NldHMsdGhpcy5mcmFtZVJhdGU9dGhpcy5hbmltYXRpb25EYXRhLmZyLHRoaXMuZnJhbWVNdWx0PXRoaXMuYW5pbWF0aW9uRGF0YS5mci8xZTMsdGhpcy5yZW5kZXJlci5zZWFyY2hFeHRyYUNvbXBvc2l0aW9ucyh0LmFzc2V0cyksdGhpcy5tYXJrZXJzPW1hcmtlclBhcnNlcih0Lm1hcmtlcnN8fFtdKSx0aGlzLnRyaWdnZXIoImNvbmZpZ19yZWFkeSIpLHRoaXMucHJlbG9hZEltYWdlcygpLHRoaXMubG9hZFNlZ21lbnRzKCksdGhpcy51cGRhRnJhbWVNb2RpZmllcigpLHRoaXMud2FpdEZvckZvbnRzTG9hZGVkKCksdGhpcy5pc1BhdXNlZCYmdGhpcy5hdWRpb0NvbnRyb2xsZXIucGF1c2UoKX1jYXRjaCh0KXt0aGlzLnRyaWdnZXJDb25maWdFcnJvcih0KX19LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLndhaXRGb3JGb250c0xvYWRlZD1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXImJih0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuaXNMb2FkZWQ/dGhpcy5jaGVja0xvYWRlZCgpOnNldFRpbWVvdXQodGhpcy53YWl0Rm9yRm9udHNMb2FkZWQuYmluZCh0aGlzKSwyMCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5jaGVja0xvYWRlZD1mdW5jdGlvbigpeyF0aGlzLmlzTG9hZGVkJiZ0aGlzLnJlbmRlcmVyLmdsb2JhbERhdGEuZm9udE1hbmFnZXIuaXNMb2FkZWQmJih0aGlzLmltYWdlUHJlbG9hZGVyLmxvYWRlZEltYWdlcygpfHwiY2FudmFzIiE9PXRoaXMucmVuZGVyZXIucmVuZGVyZXJUeXBlKSYmdGhpcy5pbWFnZVByZWxvYWRlci5sb2FkZWRGb290YWdlcygpJiYodGhpcy5pc0xvYWRlZD0hMCxleHByZXNzaW9uc1BsdWdpbiYmZXhwcmVzc2lvbnNQbHVnaW4uaW5pdEV4cHJlc3Npb25zKHRoaXMpLHRoaXMucmVuZGVyZXIuaW5pdEl0ZW1zKCksc2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMudHJpZ2dlcigiRE9NTG9hZGVkIil9LmJpbmQodGhpcyksMCksdGhpcy5nb3RvRnJhbWUoKSx0aGlzLmF1dG9wbGF5JiZ0aGlzLnBsYXkoKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnJlc2l6ZT1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIudXBkYXRlQ29udGFpbmVyU2l6ZSgpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXRTdWJmcmFtZT1mdW5jdGlvbih0KXt0aGlzLmlzU3ViZnJhbWVFbmFibGVkPSEhdH0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ290b0ZyYW1lPWZ1bmN0aW9uKCl7dGhpcy5jdXJyZW50RnJhbWU9dGhpcy5pc1N1YmZyYW1lRW5hYmxlZD90aGlzLmN1cnJlbnRSYXdGcmFtZTp+fnRoaXMuY3VycmVudFJhd0ZyYW1lLHRoaXMudGltZUNvbXBsZXRlZCE9PXRoaXMudG90YWxGcmFtZXMmJnRoaXMuY3VycmVudEZyYW1lPnRoaXMudGltZUNvbXBsZXRlZCYmKHRoaXMuY3VycmVudEZyYW1lPXRoaXMudGltZUNvbXBsZXRlZCksdGhpcy50cmlnZ2VyKCJlbnRlckZyYW1lIiksdGhpcy5yZW5kZXJGcmFtZSgpLHRoaXMudHJpZ2dlcigiZHJhd25GcmFtZSIpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5yZW5kZXJGcmFtZT1mdW5jdGlvbigpe2lmKCExIT09dGhpcy5pc0xvYWRlZCYmdGhpcy5yZW5kZXJlcil0cnl7dGhpcy5yZW5kZXJlci5yZW5kZXJGcmFtZSh0aGlzLmN1cnJlbnRGcmFtZSt0aGlzLmZpcnN0RnJhbWUpfWNhdGNoKHQpe3RoaXMudHJpZ2dlclJlbmRlckZyYW1lRXJyb3IodCl9fSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5wbGF5PWZ1bmN0aW9uKHQpe3QmJnRoaXMubmFtZSE9PXR8fCEwPT09dGhpcy5pc1BhdXNlZCYmKHRoaXMuaXNQYXVzZWQ9ITEsdGhpcy5hdWRpb0NvbnRyb2xsZXIucmVzdW1lKCksdGhpcy5faWRsZSYmKHRoaXMuX2lkbGU9ITEsdGhpcy50cmlnZ2VyKCJfYWN0aXZlIikpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucGF1c2U9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT09dHx8ITE9PT10aGlzLmlzUGF1c2VkJiYodGhpcy5pc1BhdXNlZD0hMCx0aGlzLl9pZGxlPSEwLHRoaXMudHJpZ2dlcigiX2lkbGUiKSx0aGlzLmF1ZGlvQ29udHJvbGxlci5wYXVzZSgpKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUudG9nZ2xlUGF1c2U9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT09dHx8KCEwPT09dGhpcy5pc1BhdXNlZD90aGlzLnBsYXkoKTp0aGlzLnBhdXNlKCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zdG9wPWZ1bmN0aW9uKHQpe3QmJnRoaXMubmFtZSE9PXR8fCh0aGlzLnBhdXNlKCksdGhpcy5wbGF5Q291bnQ9MCx0aGlzLl9jb21wbGV0ZWRMb29wPSExLHRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUoMCkpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nZXRNYXJrZXJEYXRhPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyPTA7cjx0aGlzLm1hcmtlcnMubGVuZ3RoO3IrPTEpaWYoKGU9dGhpcy5tYXJrZXJzW3JdKS5wYXlsb2FkJiZlLnBheWxvYWQubmFtZT09PXQpcmV0dXJuIGU7cmV0dXJuIG51bGx9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdvVG9BbmRTdG9wPWZ1bmN0aW9uKHQsZSxyKXtpZighcnx8dGhpcy5uYW1lPT09cil7dmFyIGk9TnVtYmVyKHQpO2lmKGlzTmFOKGkpKXt2YXIgcz10aGlzLmdldE1hcmtlckRhdGEodCk7cyYmdGhpcy5nb1RvQW5kU3RvcChzLnRpbWUsITApfWVsc2UgZT90aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKHQpOnRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUodCp0aGlzLmZyYW1lTW9kaWZpZXIpO3RoaXMucGF1c2UoKX19LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdvVG9BbmRQbGF5PWZ1bmN0aW9uKHQsZSxyKXtpZighcnx8dGhpcy5uYW1lPT09cil7dmFyIGk9TnVtYmVyKHQpO2lmKGlzTmFOKGkpKXt2YXIgcz10aGlzLmdldE1hcmtlckRhdGEodCk7cyYmKHMuZHVyYXRpb24/dGhpcy5wbGF5U2VnbWVudHMoW3MudGltZSxzLnRpbWUrcy5kdXJhdGlvbl0sITApOnRoaXMuZ29Ub0FuZFN0b3Aocy50aW1lLCEwKSl9ZWxzZSB0aGlzLmdvVG9BbmRTdG9wKGksZSxyKTt0aGlzLnBsYXkoKX19LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmFkdmFuY2VUaW1lPWZ1bmN0aW9uKHQpe2lmKCEwIT09dGhpcy5pc1BhdXNlZCYmITEhPT10aGlzLmlzTG9hZGVkKXt2YXIgZT10aGlzLmN1cnJlbnRSYXdGcmFtZSt0KnRoaXMuZnJhbWVNb2RpZmllcixyPSExO2U+PXRoaXMudG90YWxGcmFtZXMtMSYmMDx0aGlzLmZyYW1lTW9kaWZpZXI/dGhpcy5sb29wJiZ0aGlzLnBsYXlDb3VudCE9PXRoaXMubG9vcD9lPj10aGlzLnRvdGFsRnJhbWVzPyh0aGlzLnBsYXlDb3VudCs9MSx0aGlzLmNoZWNrU2VnbWVudHMoZSV0aGlzLnRvdGFsRnJhbWVzKXx8KHRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUoZSV0aGlzLnRvdGFsRnJhbWVzKSx0aGlzLl9jb21wbGV0ZWRMb29wPSEwLHRoaXMudHJpZ2dlcigibG9vcENvbXBsZXRlIikpKTp0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKGUpOnRoaXMuY2hlY2tTZWdtZW50cyhlPnRoaXMudG90YWxGcmFtZXM/ZSV0aGlzLnRvdGFsRnJhbWVzOjApfHwocj0hMCxlPXRoaXMudG90YWxGcmFtZXMtMSk6ZTwwP3RoaXMuY2hlY2tTZWdtZW50cyhlJXRoaXMudG90YWxGcmFtZXMpfHwoIXRoaXMubG9vcHx8dGhpcy5wbGF5Q291bnQtLTw9MCYmITAhPT10aGlzLmxvb3A/KHI9ITAsZT0wKToodGhpcy5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZSh0aGlzLnRvdGFsRnJhbWVzK2UldGhpcy50b3RhbEZyYW1lcyksdGhpcy5fY29tcGxldGVkTG9vcD90aGlzLnRyaWdnZXIoImxvb3BDb21wbGV0ZSIpOnRoaXMuX2NvbXBsZXRlZExvb3A9ITApKTp0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKGUpLHImJih0aGlzLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlKGUpLHRoaXMucGF1c2UoKSx0aGlzLnRyaWdnZXIoImNvbXBsZXRlIikpfX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuYWRqdXN0U2VnbWVudD1mdW5jdGlvbih0LGUpe3RoaXMucGxheUNvdW50PTAsdFsxXTx0WzBdPygwPHRoaXMuZnJhbWVNb2RpZmllciYmKHRoaXMucGxheVNwZWVkPDA/dGhpcy5zZXRTcGVlZCgtdGhpcy5wbGF5U3BlZWQpOnRoaXMuc2V0RGlyZWN0aW9uKC0xKSksdGhpcy50b3RhbEZyYW1lcz10WzBdLXRbMV0sdGhpcy50aW1lQ29tcGxldGVkPXRoaXMudG90YWxGcmFtZXMsdGhpcy5maXJzdEZyYW1lPXRbMV0sdGhpcy5zZXRDdXJyZW50UmF3RnJhbWVWYWx1ZSh0aGlzLnRvdGFsRnJhbWVzLS4wMDEtZSkpOnRbMV0+dFswXSYmKHRoaXMuZnJhbWVNb2RpZmllcjwwJiYodGhpcy5wbGF5U3BlZWQ8MD90aGlzLnNldFNwZWVkKC10aGlzLnBsYXlTcGVlZCk6dGhpcy5zZXREaXJlY3Rpb24oMSkpLHRoaXMudG90YWxGcmFtZXM9dFsxXS10WzBdLHRoaXMudGltZUNvbXBsZXRlZD10aGlzLnRvdGFsRnJhbWVzLHRoaXMuZmlyc3RGcmFtZT10WzBdLHRoaXMuc2V0Q3VycmVudFJhd0ZyYW1lVmFsdWUoLjAwMStlKSksdGhpcy50cmlnZ2VyKCJzZWdtZW50U3RhcnQiKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0U2VnbWVudD1mdW5jdGlvbih0LGUpe3ZhciByPS0xO3RoaXMuaXNQYXVzZWQmJih0aGlzLmN1cnJlbnRSYXdGcmFtZSt0aGlzLmZpcnN0RnJhbWU8dD9yPXQ6dGhpcy5jdXJyZW50UmF3RnJhbWUrdGhpcy5maXJzdEZyYW1lPmUmJihyPWUtdCkpLHRoaXMuZmlyc3RGcmFtZT10LHRoaXMudG90YWxGcmFtZXM9ZS10LHRoaXMudGltZUNvbXBsZXRlZD10aGlzLnRvdGFsRnJhbWVzLC0xIT09ciYmdGhpcy5nb1RvQW5kU3RvcChyLCEwKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucGxheVNlZ21lbnRzPWZ1bmN0aW9uKHQsZSl7aWYoZSYmKHRoaXMuc2VnbWVudHMubGVuZ3RoPTApLCJvYmplY3QiPT10eXBlb2YgdFswXSl7dmFyIHIsaT10Lmxlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKXRoaXMuc2VnbWVudHMucHVzaCh0W3JdKX1lbHNlIHRoaXMuc2VnbWVudHMucHVzaCh0KTt0aGlzLnNlZ21lbnRzLmxlbmd0aCYmZSYmdGhpcy5hZGp1c3RTZWdtZW50KHRoaXMuc2VnbWVudHMuc2hpZnQoKSwwKSx0aGlzLmlzUGF1c2VkJiZ0aGlzLnBsYXkoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUucmVzZXRTZWdtZW50cz1mdW5jdGlvbih0KXt0aGlzLnNlZ21lbnRzLmxlbmd0aD0wLHRoaXMuc2VnbWVudHMucHVzaChbdGhpcy5hbmltYXRpb25EYXRhLmlwLHRoaXMuYW5pbWF0aW9uRGF0YS5vcF0pLHQmJnRoaXMuY2hlY2tTZWdtZW50cygwKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuY2hlY2tTZWdtZW50cz1mdW5jdGlvbih0KXtyZXR1cm4hIXRoaXMuc2VnbWVudHMubGVuZ3RoJiYodGhpcy5hZGp1c3RTZWdtZW50KHRoaXMuc2VnbWVudHMuc2hpZnQoKSx0KSwhMCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24odCl7dCYmdGhpcy5uYW1lIT09dHx8IXRoaXMucmVuZGVyZXJ8fCh0aGlzLnJlbmRlcmVyLmRlc3Ryb3koKSx0aGlzLmltYWdlUHJlbG9hZGVyLmRlc3Ryb3koKSx0aGlzLnRyaWdnZXIoImRlc3Ryb3kiKSx0aGlzLl9jYnM9bnVsbCx0aGlzLm9uRW50ZXJGcmFtZT1udWxsLHRoaXMub25Mb29wQ29tcGxldGU9bnVsbCx0aGlzLm9uQ29tcGxldGU9bnVsbCx0aGlzLm9uU2VnbWVudFN0YXJ0PW51bGwsdGhpcy5vbkRlc3Ryb3k9bnVsbCx0aGlzLnJlbmRlcmVyPW51bGwsdGhpcy5yZW5kZXJlcj1udWxsLHRoaXMuaW1hZ2VQcmVsb2FkZXI9bnVsbCx0aGlzLnByb2plY3RJbnRlcmZhY2U9bnVsbCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldEN1cnJlbnRSYXdGcmFtZVZhbHVlPWZ1bmN0aW9uKHQpe3RoaXMuY3VycmVudFJhd0ZyYW1lPXQsdGhpcy5nb3RvRnJhbWUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2V0U3BlZWQ9ZnVuY3Rpb24odCl7dGhpcy5wbGF5U3BlZWQ9dCx0aGlzLnVwZGFGcmFtZU1vZGlmaWVyKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnNldERpcmVjdGlvbj1mdW5jdGlvbih0KXt0aGlzLnBsYXlEaXJlY3Rpb249dDwwPy0xOjEsdGhpcy51cGRhRnJhbWVNb2RpZmllcigpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5zZXRWb2x1bWU9ZnVuY3Rpb24odCxlKXtlJiZ0aGlzLm5hbWUhPT1lfHx0aGlzLmF1ZGlvQ29udHJvbGxlci5zZXRWb2x1bWUodCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdldFZvbHVtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvQ29udHJvbGxlci5nZXRWb2x1bWUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUubXV0ZT1mdW5jdGlvbih0KXt0JiZ0aGlzLm5hbWUhPT10fHx0aGlzLmF1ZGlvQ29udHJvbGxlci5tdXRlKCl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnVubXV0ZT1mdW5jdGlvbih0KXt0JiZ0aGlzLm5hbWUhPT10fHx0aGlzLmF1ZGlvQ29udHJvbGxlci51bm11dGUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUudXBkYUZyYW1lTW9kaWZpZXI9ZnVuY3Rpb24oKXt0aGlzLmZyYW1lTW9kaWZpZXI9dGhpcy5mcmFtZU11bHQqdGhpcy5wbGF5U3BlZWQqdGhpcy5wbGF5RGlyZWN0aW9uLHRoaXMuYXVkaW9Db250cm9sbGVyLnNldFJhdGUodGhpcy5wbGF5U3BlZWQqdGhpcy5wbGF5RGlyZWN0aW9uKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuZ2V0UGF0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhdGh9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdldEFzc2V0c1BhdGg9ZnVuY3Rpb24odCl7dmFyIGU9IiI7aWYodC5lKWU9dC5wO2Vsc2UgaWYodGhpcy5hc3NldHNQYXRoKXt2YXIgcj10LnA7LTEhPT1yLmluZGV4T2YoImltYWdlcy8iKSYmKHI9ci5zcGxpdCgiLyIpWzFdKSxlPXRoaXMuYXNzZXRzUGF0aCtyfWVsc2UgZT10aGlzLnBhdGgsZSs9dC51P3QudToiIixlKz10LnA7cmV0dXJuIGV9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmdldEFzc2V0RGF0YT1mdW5jdGlvbih0KXtmb3IodmFyIGU9MCxyPXRoaXMuYXNzZXRzLmxlbmd0aDtlPHI7KXtpZih0PT09dGhpcy5hc3NldHNbZV0uaWQpcmV0dXJuIHRoaXMuYXNzZXRzW2VdO2UrPTF9cmV0dXJuIG51bGx9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnJlbmRlcmVyLmhpZGUoKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3RoaXMucmVuZGVyZXIuc2hvdygpfSxBbmltYXRpb25JdGVtLnByb3RvdHlwZS5nZXREdXJhdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLnRvdGFsRnJhbWVzOnRoaXMudG90YWxGcmFtZXMvdGhpcy5mcmFtZVJhdGV9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnRyaWdnZXI9ZnVuY3Rpb24odCl7aWYodGhpcy5fY2JzJiZ0aGlzLl9jYnNbdF0pc3dpdGNoKHQpe2Nhc2UiZW50ZXJGcmFtZSI6Y2FzZSJkcmF3bkZyYW1lIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTUVudGVyRnJhbWVFdmVudCh0LHRoaXMuY3VycmVudEZyYW1lLHRoaXMudG90YWxGcmFtZXMsdGhpcy5mcmFtZU1vZGlmaWVyKSk7YnJlYWs7Y2FzZSJsb29wQ29tcGxldGUiOnRoaXMudHJpZ2dlckV2ZW50KHQsbmV3IEJNQ29tcGxldGVMb29wRXZlbnQodCx0aGlzLmxvb3AsdGhpcy5wbGF5Q291bnQsdGhpcy5mcmFtZU11bHQpKTticmVhaztjYXNlImNvbXBsZXRlIjp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTUNvbXBsZXRlRXZlbnQodCx0aGlzLmZyYW1lTXVsdCkpO2JyZWFrO2Nhc2Uic2VnbWVudFN0YXJ0Ijp0aGlzLnRyaWdnZXJFdmVudCh0LG5ldyBCTVNlZ21lbnRTdGFydEV2ZW50KHQsdGhpcy5maXJzdEZyYW1lLHRoaXMudG90YWxGcmFtZXMpKTticmVhaztjYXNlImRlc3Ryb3kiOnRoaXMudHJpZ2dlckV2ZW50KHQsbmV3IEJNRGVzdHJveUV2ZW50KHQsdGhpcykpO2JyZWFrO2RlZmF1bHQ6dGhpcy50cmlnZ2VyRXZlbnQodCl9ImVudGVyRnJhbWUiPT09dCYmdGhpcy5vbkVudGVyRnJhbWUmJnRoaXMub25FbnRlckZyYW1lLmNhbGwodGhpcyxuZXcgQk1FbnRlckZyYW1lRXZlbnQodCx0aGlzLmN1cnJlbnRGcmFtZSx0aGlzLnRvdGFsRnJhbWVzLHRoaXMuZnJhbWVNdWx0KSksImxvb3BDb21wbGV0ZSI9PT10JiZ0aGlzLm9uTG9vcENvbXBsZXRlJiZ0aGlzLm9uTG9vcENvbXBsZXRlLmNhbGwodGhpcyxuZXcgQk1Db21wbGV0ZUxvb3BFdmVudCh0LHRoaXMubG9vcCx0aGlzLnBsYXlDb3VudCx0aGlzLmZyYW1lTXVsdCkpLCJjb21wbGV0ZSI9PT10JiZ0aGlzLm9uQ29tcGxldGUmJnRoaXMub25Db21wbGV0ZS5jYWxsKHRoaXMsbmV3IEJNQ29tcGxldGVFdmVudCh0LHRoaXMuZnJhbWVNdWx0KSksInNlZ21lbnRTdGFydCI9PT10JiZ0aGlzLm9uU2VnbWVudFN0YXJ0JiZ0aGlzLm9uU2VnbWVudFN0YXJ0LmNhbGwodGhpcyxuZXcgQk1TZWdtZW50U3RhcnRFdmVudCh0LHRoaXMuZmlyc3RGcmFtZSx0aGlzLnRvdGFsRnJhbWVzKSksImRlc3Ryb3kiPT09dCYmdGhpcy5vbkRlc3Ryb3kmJnRoaXMub25EZXN0cm95LmNhbGwodGhpcyxuZXcgQk1EZXN0cm95RXZlbnQodCx0aGlzKSl9LEFuaW1hdGlvbkl0ZW0ucHJvdG90eXBlLnRyaWdnZXJSZW5kZXJGcmFtZUVycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBCTVJlbmRlckZyYW1lRXJyb3JFdmVudCh0LHRoaXMuY3VycmVudEZyYW1lKTt0aGlzLnRyaWdnZXJFdmVudCgiZXJyb3IiLGUpLHRoaXMub25FcnJvciYmdGhpcy5vbkVycm9yLmNhbGwodGhpcyxlKX0sQW5pbWF0aW9uSXRlbS5wcm90b3R5cGUudHJpZ2dlckNvbmZpZ0Vycm9yPWZ1bmN0aW9uKHQpe3ZhciBlPW5ldyBCTUNvbmZpZ0Vycm9yRXZlbnQodCx0aGlzLmN1cnJlbnRGcmFtZSk7dGhpcy50cmlnZ2VyRXZlbnQoImVycm9yIixlKSx0aGlzLm9uRXJyb3ImJnRoaXMub25FcnJvci5jYWxsKHRoaXMsZSl9O3ZhciBFeHByZXNzaW9ucz0oTFo9e30sTFouaW5pdEV4cHJlc3Npb25zPWZ1bmN0aW9uKHQpe3ZhciBlPTAscj1bXTtmdW5jdGlvbiBpKCl7dmFyIHQsZT1yLmxlbmd0aDtmb3IodD0wO3Q8ZTt0Kz0xKXJbdF0ucmVsZWFzZSgpO3IubGVuZ3RoPTB9dC5yZW5kZXJlci5jb21wSW50ZXJmYWNlPUNvbXBFeHByZXNzaW9uSW50ZXJmYWNlKHQucmVuZGVyZXIpLHQucmVuZGVyZXIuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlLnJlZ2lzdGVyQ29tcG9zaXRpb24odC5yZW5kZXJlciksdC5yZW5kZXJlci5nbG9iYWxEYXRhLnB1c2hFeHByZXNzaW9uPWZ1bmN0aW9uKCl7ZSs9MX0sdC5yZW5kZXJlci5nbG9iYWxEYXRhLnBvcEV4cHJlc3Npb249ZnVuY3Rpb24oKXswPT0oZS09MSkmJmkoKX0sdC5yZW5kZXJlci5nbG9iYWxEYXRhLnJlZ2lzdGVyRXhwcmVzc2lvblByb3BlcnR5PWZ1bmN0aW9uKHQpey0xPT09ci5pbmRleE9mKHQpJiZyLnB1c2godCl9fSxMWiksTFo7ZXhwcmVzc2lvbnNQbHVnaW49RXhwcmVzc2lvbnM7dmFyIEV4cHJlc3Npb25NYW5hZ2VyPWZ1bmN0aW9uKCl7dmFyIG9iPXt9LE1hdGg9Qk1NYXRoLHdpbmRvdz1udWxsLGRvY3VtZW50PW51bGwsWE1MSHR0cFJlcXVlc3Q9bnVsbCxmZXRjaD1udWxsLGZyYW1lcz1udWxsO2Z1bmN0aW9uICRibV9pc0luc3RhbmNlT2ZBcnJheSh0KXtyZXR1cm4gdC5jb25zdHJ1Y3Rvcj09PUFycmF5fHx0LmNvbnN0cnVjdG9yPT09RmxvYXQzMkFycmF5fWZ1bmN0aW9uIGlzTnVtZXJhYmxlKHQsZSl7cmV0dXJuIm51bWJlciI9PT10fHwiYm9vbGVhbiI9PT10fHwic3RyaW5nIj09PXR8fGUgaW5zdGFuY2VvZiBOdW1iZXJ9ZnVuY3Rpb24gJGJtX25lZyh0KXt2YXIgZT10eXBlb2YgdDtpZigibnVtYmVyIj09PWV8fCJib29sZWFuIj09PWV8fHQgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuLXQ7aWYoJGJtX2lzSW5zdGFuY2VPZkFycmF5KHQpKXt2YXIgcixpPXQubGVuZ3RoLHM9W107Zm9yKHI9MDtyPGk7cis9MSlzW3JdPS10W3JdO3JldHVybiBzfXJldHVybiB0LnByb3BUeXBlP3QudjotdH12YXIgZWFzZUluQmV6PUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKC4zMzMsMCwuODMzLC44MzMsImVhc2VJbiIpLmdldCxlYXNlT3V0QmV6PUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKC4xNjcsLjE2NywuNjY3LDEsImVhc2VPdXQiKS5nZXQsZWFzZUluT3V0QmV6PUJlemllckZhY3RvcnkuZ2V0QmV6aWVyRWFzaW5nKC4zMywwLC42NjcsMSwiZWFzZUluT3V0IikuZ2V0O2Z1bmN0aW9uIHN1bSh0LGUpe3ZhciByPXR5cGVvZiB0LGk9dHlwZW9mIGU7aWYoInN0cmluZyI9PT1yfHwic3RyaW5nIj09PWkpcmV0dXJuIHQrZTtpZihpc051bWVyYWJsZShyLHQpJiZpc051bWVyYWJsZShpLGUpKXJldHVybiB0K2U7aWYoJGJtX2lzSW5zdGFuY2VPZkFycmF5KHQpJiZpc051bWVyYWJsZShpLGUpKXJldHVybih0PXQuc2xpY2UoMCkpWzBdKz1lLHQ7aWYoaXNOdW1lcmFibGUocix0KSYmJGJtX2lzSW5zdGFuY2VPZkFycmF5KGUpKXJldHVybihlPWUuc2xpY2UoMCkpWzBdPXQrZVswXSxlO2lmKCRibV9pc0luc3RhbmNlT2ZBcnJheSh0KSYmJGJtX2lzSW5zdGFuY2VPZkFycmF5KGUpKXtmb3IodmFyIHM9MCxhPXQubGVuZ3RoLG49ZS5sZW5ndGgsbz1bXTtzPGF8fHM8bjspKCJudW1iZXIiPT10eXBlb2YgdFtzXXx8dFtzXWluc3RhbmNlb2YgTnVtYmVyKSYmKCJudW1iZXIiPT10eXBlb2YgZVtzXXx8ZVtzXWluc3RhbmNlb2YgTnVtYmVyKT9vW3NdPXRbc10rZVtzXTpvW3NdPXZvaWQgMD09PWVbc10/dFtzXTp0W3NdfHxlW3NdLHMrPTE7cmV0dXJuIG99cmV0dXJuIDB9dmFyIGFkZD1zdW07ZnVuY3Rpb24gc3ViKHQsZSl7dmFyIHI9dHlwZW9mIHQsaT10eXBlb2YgZTtpZihpc051bWVyYWJsZShyLHQpJiZpc051bWVyYWJsZShpLGUpKXJldHVybiJzdHJpbmciPT09ciYmKHQ9cGFyc2VJbnQodCwxMCkpLCJzdHJpbmciPT09aSYmKGU9cGFyc2VJbnQoZSwxMCkpLHQtZTtpZigkYm1faXNJbnN0YW5jZU9mQXJyYXkodCkmJmlzTnVtZXJhYmxlKGksZSkpcmV0dXJuKHQ9dC5zbGljZSgwKSlbMF0tPWUsdDtpZihpc051bWVyYWJsZShyLHQpJiYkYm1faXNJbnN0YW5jZU9mQXJyYXkoZSkpcmV0dXJuKGU9ZS5zbGljZSgwKSlbMF09dC1lWzBdLGU7aWYoJGJtX2lzSW5zdGFuY2VPZkFycmF5KHQpJiYkYm1faXNJbnN0YW5jZU9mQXJyYXkoZSkpe2Zvcih2YXIgcz0wLGE9dC5sZW5ndGgsbj1lLmxlbmd0aCxvPVtdO3M8YXx8czxuOykoIm51bWJlciI9PXR5cGVvZiB0W3NdfHx0W3NdaW5zdGFuY2VvZiBOdW1iZXIpJiYoIm51bWJlciI9PXR5cGVvZiBlW3NdfHxlW3NdaW5zdGFuY2VvZiBOdW1iZXIpP29bc109dFtzXS1lW3NdOm9bc109dm9pZCAwPT09ZVtzXT90W3NdOnRbc118fGVbc10scys9MTtyZXR1cm4gb31yZXR1cm4gMH1mdW5jdGlvbiBtdWwodCxlKXt2YXIgcixpLHMsYT10eXBlb2YgdCxuPXR5cGVvZiBlO2lmKGlzTnVtZXJhYmxlKGEsdCkmJmlzTnVtZXJhYmxlKG4sZSkpcmV0dXJuIHQqZTtpZigkYm1faXNJbnN0YW5jZU9mQXJyYXkodCkmJmlzTnVtZXJhYmxlKG4sZSkpe2ZvcihzPXQubGVuZ3RoLHI9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIscyksaT0wO2k8cztpKz0xKXJbaV09dFtpXSplO3JldHVybiByfWlmKGlzTnVtZXJhYmxlKGEsdCkmJiRibV9pc0luc3RhbmNlT2ZBcnJheShlKSl7Zm9yKHM9ZS5sZW5ndGgscj1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixzKSxpPTA7aTxzO2krPTEpcltpXT10KmVbaV07cmV0dXJuIHJ9cmV0dXJuIDB9ZnVuY3Rpb24gZGl2KHQsZSl7dmFyIHIsaSxzLGE9dHlwZW9mIHQsbj10eXBlb2YgZTtpZihpc051bWVyYWJsZShhLHQpJiZpc051bWVyYWJsZShuLGUpKXJldHVybiB0L2U7aWYoJGJtX2lzSW5zdGFuY2VPZkFycmF5KHQpJiZpc051bWVyYWJsZShuLGUpKXtmb3Iocz10Lmxlbmd0aCxyPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLHMpLGk9MDtpPHM7aSs9MSlyW2ldPXRbaV0vZTtyZXR1cm4gcn1pZihpc051bWVyYWJsZShhLHQpJiYkYm1faXNJbnN0YW5jZU9mQXJyYXkoZSkpe2ZvcihzPWUubGVuZ3RoLHI9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIscyksaT0wO2k8cztpKz0xKXJbaV09dC9lW2ldO3JldHVybiByfXJldHVybiAwfWZ1bmN0aW9uIG1vZCh0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdCYmKHQ9cGFyc2VJbnQodCwxMCkpLCJzdHJpbmciPT10eXBlb2YgZSYmKGU9cGFyc2VJbnQoZSwxMCkpLHQlZX12YXIgJGJtX3N1bT1zdW0sJGJtX3N1Yj1zdWIsJGJtX211bD1tdWwsJGJtX2Rpdj1kaXYsJGJtX21vZD1tb2Q7ZnVuY3Rpb24gY2xhbXAodCxlLHIpe2lmKHI8ZSl7dmFyIGk9cjtyPWUsZT1pfXJldHVybiBNYXRoLm1pbihNYXRoLm1heCh0LGUpLHIpfWZ1bmN0aW9uIHJhZGlhbnNUb0RlZ3JlZXModCl7cmV0dXJuIHQvZGVnVG9SYWRzfXZhciByYWRpYW5zX3RvX2RlZ3JlZXM9cmFkaWFuc1RvRGVncmVlcztmdW5jdGlvbiBkZWdyZWVzVG9SYWRpYW5zKHQpe3JldHVybiB0KmRlZ1RvUmFkc312YXIgZGVncmVlc190b19yYWRpYW5zPXJhZGlhbnNUb0RlZ3JlZXMsaGVscGVyTGVuZ3RoQXJyYXk9WzAsMCwwLDAsMCwwXTtmdW5jdGlvbiBsZW5ndGgodCxlKXtpZigibnVtYmVyIj09dHlwZW9mIHR8fHQgaW5zdGFuY2VvZiBOdW1iZXIpcmV0dXJuIGU9ZXx8MCxNYXRoLmFicyh0LWUpO3ZhciByO2V8fChlPWhlbHBlckxlbmd0aEFycmF5KTt2YXIgaT1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCkscz0wO2ZvcihyPTA7cjxpO3IrPTEpcys9TWF0aC5wb3coZVtyXS10W3JdLDIpO3JldHVybiBNYXRoLnNxcnQocyl9ZnVuY3Rpb24gbm9ybWFsaXplKHQpe3JldHVybiBkaXYodCxsZW5ndGgodCkpfWZ1bmN0aW9uIHJnYlRvSHNsKHQpe3ZhciBlLHIsaT10WzBdLHM9dFsxXSxhPXRbMl0sbj1NYXRoLm1heChpLHMsYSksbz1NYXRoLm1pbihpLHMsYSksaD0obitvKS8yO2lmKG49PT1vKXI9ZT0wO2Vsc2V7dmFyIGw9bi1vO3N3aXRjaChyPS41PGg/bC8oMi1uLW8pOmwvKG4rbyksbil7Y2FzZSBpOmU9KHMtYSkvbCsoczxhPzY6MCk7YnJlYWs7Y2FzZSBzOmU9KGEtaSkvbCsyO2JyZWFrO2Nhc2UgYTplPShpLXMpL2wrNH1lLz02fXJldHVybltlLHIsaCx0WzNdXX1mdW5jdGlvbiBodWUycmdiKHQsZSxyKXtyZXR1cm4gcjwwJiYocis9MSksMTxyJiYoci09MSkscjwxLzY/dCs2KihlLXQpKnI6cjwuNT9lOnI8Mi8zP3QrKGUtdCkqKDIvMy1yKSo2OnR9ZnVuY3Rpb24gaHNsVG9SZ2IodCl7dmFyIGUscixpLHM9dFswXSxhPXRbMV0sbj10WzJdO2lmKDA9PT1hKXI9aT1lPW47ZWxzZXt2YXIgbz1uPC41P24qKDErYSk6bithLW4qYSxoPTIqbi1vO2U9aHVlMnJnYihoLG8scysxLzMpLHI9aHVlMnJnYihoLG8scyksaT1odWUycmdiKGgsbyxzLTEvMyl9cmV0dXJuW2UscixpLHRbM11dfWZ1bmN0aW9uIGxpbmVhcih0LGUscixpLHMpe2lmKHZvaWQgMCE9PWkmJnZvaWQgMCE9PXN8fChpPWUscz1yLGU9MCxyPTEpLHI8ZSl7dmFyIGE9cjtyPWUsZT1hfWlmKHQ8PWUpcmV0dXJuIGk7aWYocjw9dClyZXR1cm4gczt2YXIgbixvPXI9PT1lPzA6KHQtZSkvKHItZSk7aWYoIWkubGVuZ3RoKXJldHVybiBpKyhzLWkpKm87dmFyIGg9aS5sZW5ndGgsbD1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixoKTtmb3Iobj0wO248aDtuKz0xKWxbbl09aVtuXSsoc1tuXS1pW25dKSpvO3JldHVybiBsfWZ1bmN0aW9uIHJhbmRvbSh0LGUpe2lmKHZvaWQgMD09PWUmJih2b2lkIDA9PT10Pyh0PTAsZT0xKTooZT10LHQ9dm9pZCAwKSksZS5sZW5ndGgpe3ZhciByLGk9ZS5sZW5ndGg7dHx8KHQ9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIsaSkpO3ZhciBzPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLGkpLGE9Qk1NYXRoLnJhbmRvbSgpO2ZvcihyPTA7cjxpO3IrPTEpc1tyXT10W3JdK2EqKGVbcl0tdFtyXSk7cmV0dXJuIHN9cmV0dXJuIHZvaWQgMD09PXQmJih0PTApLHQrQk1NYXRoLnJhbmRvbSgpKihlLXQpfWZ1bmN0aW9uIGNyZWF0ZVBhdGgodCxlLHIsaSl7dmFyIHMsYT10Lmxlbmd0aCxuPXNoYXBlUG9vbC5uZXdFbGVtZW50KCk7bi5zZXRQYXRoRGF0YSghIWksYSk7dmFyIG8saCxsPVswLDBdO2ZvcihzPTA7czxhO3MrPTEpbz1lJiZlW3NdP2Vbc106bCxoPXImJnJbc10/cltzXTpsLG4uc2V0VHJpcGxlQXQodFtzXVswXSx0W3NdWzFdLGhbMF0rdFtzXVswXSxoWzFdK3Rbc11bMV0sb1swXSt0W3NdWzBdLG9bMV0rdFtzXVsxXSxzLCEwKTtyZXR1cm4gbn1mdW5jdGlvbiBpbml0aWF0ZUV4cHJlc3Npb24oZWxlbSxkYXRhLHByb3BlcnR5KXt2YXIgdmFsPWRhdGEueCxuZWVkc1ZlbG9jaXR5PS92ZWxvY2l0eSg/IVtcd1xkXSkvLnRlc3QodmFsKSxfbmVlZHNSYW5kb209LTEhPT12YWwuaW5kZXhPZigicmFuZG9tIiksZWxlbVR5cGU9ZWxlbS5kYXRhLnR5LHRyYW5zZm9ybSwkYm1fdHJhbnNmb3JtLGNvbnRlbnQsZWZmZWN0LHRoaXNQcm9wZXJ0eT1wcm9wZXJ0eTt0aGlzUHJvcGVydHkudmFsdWVBdFRpbWU9dGhpc1Byb3BlcnR5LmdldFZhbHVlQXRUaW1lLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzUHJvcGVydHksInZhbHVlIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNQcm9wZXJ0eS52fX0pLGVsZW0uY29tcC5mcmFtZUR1cmF0aW9uPTEvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLGVsZW0uY29tcC5kaXNwbGF5U3RhcnRUaW1lPTA7dmFyIGluUG9pbnQ9ZWxlbS5kYXRhLmlwL2VsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxvdXRQb2ludD1lbGVtLmRhdGEub3AvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLHdpZHRoPWVsZW0uZGF0YS5zdz9lbGVtLmRhdGEuc3c6MCxoZWlnaHQ9ZWxlbS5kYXRhLnNoP2VsZW0uZGF0YS5zaDowLG5hbWU9ZWxlbS5kYXRhLm5tLGxvb3BJbixsb29wX2luLGxvb3BPdXQsbG9vcF9vdXQsc21vb3RoLHRvV29ybGQsZnJvbVdvcmxkLGZyb21Db21wLHRvQ29tcCxmcm9tQ29tcFRvU3VyZmFjZSxwb3NpdGlvbixyb3RhdGlvbixhbmNob3JQb2ludCxzY2FsZSx0aGlzTGF5ZXIsdGhpc0NvbXAsbWFzayx2YWx1ZUF0VGltZSx2ZWxvY2l0eUF0VGltZSxzY29wZWRfYm1fcnQsZXhwcmVzc2lvbl9mdW5jdGlvbj1ldmFsKCJbZnVuY3Rpb24gX2V4cHJlc3Npb25fZnVuY3Rpb24oKXsiK3ZhbCsiO3Njb3BlZF9ibV9ydD0kYm1fcnR9XSIpWzBdLG51bUtleXM9cHJvcGVydHkua2Y/ZGF0YS5rLmxlbmd0aDowLGFjdGl2ZT0hdGhpcy5kYXRhfHwhMCE9PXRoaXMuZGF0YS5oZCx3aWdnbGU9ZnVuY3Rpb24odCxlKXt2YXIgcixpLHM9dGhpcy5wdi5sZW5ndGg/dGhpcy5wdi5sZW5ndGg6MSxhPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLHMpO3ZhciBuPU1hdGguZmxvb3IoNSp0aW1lKTtmb3IoaT1yPTA7cjxuOyl7Zm9yKGk9MDtpPHM7aSs9MSlhW2ldKz0tZSsyKmUqQk1NYXRoLnJhbmRvbSgpO3IrPTF9dmFyIG89NSp0aW1lLGg9by1NYXRoLmZsb29yKG8pLGw9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIscyk7aWYoMTxzKXtmb3IoaT0wO2k8cztpKz0xKWxbaV09dGhpcy5wdltpXSthW2ldKygtZSsyKmUqQk1NYXRoLnJhbmRvbSgpKSpoO3JldHVybiBsfXJldHVybiB0aGlzLnB2K2FbMF0rKC1lKzIqZSpCTU1hdGgucmFuZG9tKCkpKmh9LmJpbmQodGhpcyk7ZnVuY3Rpb24gbG9vcEluRHVyYXRpb24odCxlKXtyZXR1cm4gbG9vcEluKHQsZSwhMCl9ZnVuY3Rpb24gbG9vcE91dER1cmF0aW9uKHQsZSl7cmV0dXJuIGxvb3BPdXQodCxlLCEwKX10aGlzUHJvcGVydHkubG9vcEluJiYobG9vcEluPXRoaXNQcm9wZXJ0eS5sb29wSW4uYmluZCh0aGlzUHJvcGVydHkpLGxvb3BfaW49bG9vcEluKSx0aGlzUHJvcGVydHkubG9vcE91dCYmKGxvb3BPdXQ9dGhpc1Byb3BlcnR5Lmxvb3BPdXQuYmluZCh0aGlzUHJvcGVydHkpLGxvb3Bfb3V0PWxvb3BPdXQpLHRoaXNQcm9wZXJ0eS5zbW9vdGgmJihzbW9vdGg9dGhpc1Byb3BlcnR5LnNtb290aC5iaW5kKHRoaXNQcm9wZXJ0eSkpLHRoaXMuZ2V0VmFsdWVBdFRpbWUmJih2YWx1ZUF0VGltZT10aGlzLmdldFZhbHVlQXRUaW1lLmJpbmQodGhpcykpLHRoaXMuZ2V0VmVsb2NpdHlBdFRpbWUmJih2ZWxvY2l0eUF0VGltZT10aGlzLmdldFZlbG9jaXR5QXRUaW1lLmJpbmQodGhpcykpO3ZhciBjb21wPWVsZW0uY29tcC5nbG9iYWxEYXRhLnByb2plY3RJbnRlcmZhY2UuYmluZChlbGVtLmNvbXAuZ2xvYmFsRGF0YS5wcm9qZWN0SW50ZXJmYWNlKSx0aW1lLHZlbG9jaXR5LHZhbHVlLHRleHQsdGV4dEluZGV4LHRleHRUb3RhbCxzZWxlY3RvclZhbHVlO2Z1bmN0aW9uIGxvb2tBdCh0LGUpe3ZhciByPVtlWzBdLXRbMF0sZVsxXS10WzFdLGVbMl0tdFsyXV0saT1NYXRoLmF0YW4yKHJbMF0sTWF0aC5zcXJ0KHJbMV0qclsxXStyWzJdKnJbMl0pKS9kZWdUb1JhZHM7cmV0dXJuWy1NYXRoLmF0YW4yKHJbMV0sclsyXSkvZGVnVG9SYWRzLGksMF19ZnVuY3Rpb24gZWFzZU91dCh0LGUscixpLHMpe3JldHVybiBhcHBseUVhc2UoZWFzZU91dEJleix0LGUscixpLHMpfWZ1bmN0aW9uIGVhc2VJbih0LGUscixpLHMpe3JldHVybiBhcHBseUVhc2UoZWFzZUluQmV6LHQsZSxyLGkscyl9ZnVuY3Rpb24gZWFzZSh0LGUscixpLHMpe3JldHVybiBhcHBseUVhc2UoZWFzZUluT3V0QmV6LHQsZSxyLGkscyl9ZnVuY3Rpb24gYXBwbHlFYXNlKHQsZSxyLGkscyxhKXt2b2lkIDA9PT1zPyhzPXIsYT1pKTplPShlLXIpLyhpLXIpLDE8ZT9lPTE6ZTwwJiYoZT0wKTt2YXIgbj10KGUpO2lmKCRibV9pc0luc3RhbmNlT2ZBcnJheShzKSl7dmFyIG8saD1zLmxlbmd0aCxsPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLGgpO2ZvcihvPTA7bzxoO28rPTEpbFtvXT0oYVtvXS1zW29dKSpuK3Nbb107cmV0dXJuIGx9cmV0dXJuKGEtcykqbitzfWZ1bmN0aW9uIG5lYXJlc3RLZXkodCl7dmFyIGUscixpLHM9ZGF0YS5rLmxlbmd0aDtpZihkYXRhLmsubGVuZ3RoJiYibnVtYmVyIiE9dHlwZW9mIGRhdGEua1swXSlpZihyPS0xLCh0Kj1lbGVtLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUpPGRhdGEua1swXS50KXI9MSxpPWRhdGEua1swXS50O2Vsc2V7Zm9yKGU9MDtlPHMtMTtlKz0xKXtpZih0PT09ZGF0YS5rW2VdLnQpe3I9ZSsxLGk9ZGF0YS5rW2VdLnQ7YnJlYWt9aWYodD5kYXRhLmtbZV0udCYmdDxkYXRhLmtbZSsxXS50KXtpPXQtZGF0YS5rW2VdLnQ+ZGF0YS5rW2UrMV0udC10PyhyPWUrMixkYXRhLmtbZSsxXS50KToocj1lKzEsZGF0YS5rW2VdLnQpO2JyZWFrfX0tMT09PXImJihyPWUrMSxpPWRhdGEua1tlXS50KX1lbHNlIGk9cj0wO3ZhciBhPXt9O3JldHVybiBhLmluZGV4PXIsYS50aW1lPWkvZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLGF9ZnVuY3Rpb24ga2V5KHQpe3ZhciBlLHIsaTtpZighZGF0YS5rLmxlbmd0aHx8Im51bWJlciI9PXR5cGVvZiBkYXRhLmtbMF0pdGhyb3cgbmV3IEVycm9yKCJUaGUgcHJvcGVydHkgaGFzIG5vIGtleWZyYW1lIGF0IGluZGV4ICIrdCk7dC09MSxlPXt0aW1lOmRhdGEua1t0XS50L2VsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSx2YWx1ZTpbXX07dmFyIHM9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEua1t0XSwicyIpP2RhdGEua1t0XS5zOmRhdGEua1t0LTFdLmU7Zm9yKGk9cy5sZW5ndGgscj0wO3I8aTtyKz0xKWVbcl09c1tyXSxlLnZhbHVlW3JdPXNbcl07cmV0dXJuIGV9ZnVuY3Rpb24gZnJhbWVzVG9UaW1lKHQsZSl7cmV0dXJuIGV8fChlPWVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSksdC9lfWZ1bmN0aW9uIHRpbWVUb0ZyYW1lcyh0LGUpe3JldHVybiB0fHwwPT09dHx8KHQ9dGltZSksZXx8KGU9ZWxlbS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlKSx0KmV9ZnVuY3Rpb24gc2VlZFJhbmRvbSh0KXtCTU1hdGguc2VlZHJhbmRvbShyYW5kU2VlZCt0KX1mdW5jdGlvbiBzb3VyY2VSZWN0QXRUaW1lKCl7cmV0dXJuIGVsZW0uc291cmNlUmVjdEF0VGltZSgpfWZ1bmN0aW9uIHN1YnN0cmluZyh0LGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgdmFsdWU/dm9pZCAwPT09ZT92YWx1ZS5zdWJzdHJpbmcodCk6dmFsdWUuc3Vic3RyaW5nKHQsZSk6IiJ9ZnVuY3Rpb24gc3Vic3RyKHQsZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB2YWx1ZT92b2lkIDA9PT1lP3ZhbHVlLnN1YnN0cih0KTp2YWx1ZS5zdWJzdHIodCxlKToiIn1mdW5jdGlvbiBwb3N0ZXJpemVUaW1lKHQpe3RpbWU9MD09PXQ/MDpNYXRoLmZsb29yKHRpbWUqdCkvdCx2YWx1ZT12YWx1ZUF0VGltZSh0aW1lKX12YXIgaW5kZXg9ZWxlbS5kYXRhLmluZCxoYXNQYXJlbnQ9ISghZWxlbS5oaWVyYXJjaHl8fCFlbGVtLmhpZXJhcmNoeS5sZW5ndGgpLHBhcmVudCxyYW5kU2VlZD1NYXRoLmZsb29yKDFlNipNYXRoLnJhbmRvbSgpKSxnbG9iYWxEYXRhPWVsZW0uZ2xvYmFsRGF0YTtmdW5jdGlvbiBleGVjdXRlRXhwcmVzc2lvbih0KXtyZXR1cm4gdmFsdWU9dCx0aGlzLmZyYW1lRXhwcmVzc2lvbklkPT09ZWxlbS5nbG9iYWxEYXRhLmZyYW1lSWQmJiJ0ZXh0U2VsZWN0b3IiIT09dGhpcy5wcm9wVHlwZT92YWx1ZTooInRleHRTZWxlY3RvciI9PT10aGlzLnByb3BUeXBlJiYodGV4dEluZGV4PXRoaXMudGV4dEluZGV4LHRleHRUb3RhbD10aGlzLnRleHRUb3RhbCxzZWxlY3RvclZhbHVlPXRoaXMuc2VsZWN0b3JWYWx1ZSksdGhpc0xheWVyfHwodGV4dD1lbGVtLmxheWVySW50ZXJmYWNlLnRleHQsdGhpc0xheWVyPWVsZW0ubGF5ZXJJbnRlcmZhY2UsdGhpc0NvbXA9ZWxlbS5jb21wLmNvbXBJbnRlcmZhY2UsdG9Xb3JsZD10aGlzTGF5ZXIudG9Xb3JsZC5iaW5kKHRoaXNMYXllciksZnJvbVdvcmxkPXRoaXNMYXllci5mcm9tV29ybGQuYmluZCh0aGlzTGF5ZXIpLGZyb21Db21wPXRoaXNMYXllci5mcm9tQ29tcC5iaW5kKHRoaXNMYXllciksdG9Db21wPXRoaXNMYXllci50b0NvbXAuYmluZCh0aGlzTGF5ZXIpLG1hc2s9dGhpc0xheWVyLm1hc2s/dGhpc0xheWVyLm1hc2suYmluZCh0aGlzTGF5ZXIpOm51bGwsZnJvbUNvbXBUb1N1cmZhY2U9ZnJvbUNvbXApLHRyYW5zZm9ybXx8KHRyYW5zZm9ybT1lbGVtLmxheWVySW50ZXJmYWNlKCJBREJFIFRyYW5zZm9ybSBHcm91cCIpLCgkYm1fdHJhbnNmb3JtPXRyYW5zZm9ybSkmJihhbmNob3JQb2ludD10cmFuc2Zvcm0uYW5jaG9yUG9pbnQpKSw0IT09ZWxlbVR5cGV8fGNvbnRlbnR8fChjb250ZW50PXRoaXNMYXllcigiQURCRSBSb290IFZlY3RvcnMgR3JvdXAiKSksZWZmZWN0fHwoZWZmZWN0PXRoaXNMYXllcig0KSksKGhhc1BhcmVudD0hKCFlbGVtLmhpZXJhcmNoeXx8IWVsZW0uaGllcmFyY2h5Lmxlbmd0aCkpJiYhcGFyZW50JiYocGFyZW50PWVsZW0uaGllcmFyY2h5WzBdLmxheWVySW50ZXJmYWNlKSx0aW1lPXRoaXMuY29tcC5yZW5kZXJlZEZyYW1lL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxfbmVlZHNSYW5kb20mJnNlZWRSYW5kb20ocmFuZFNlZWQrdGltZSksbmVlZHNWZWxvY2l0eSYmKHZlbG9jaXR5PXZlbG9jaXR5QXRUaW1lKHRpbWUpKSxleHByZXNzaW9uX2Z1bmN0aW9uKCksdGhpcy5mcmFtZUV4cHJlc3Npb25JZD1lbGVtLmdsb2JhbERhdGEuZnJhbWVJZCwic2hhcGUiPT09c2NvcGVkX2JtX3J0LnByb3BUeXBlJiYoc2NvcGVkX2JtX3J0PXNjb3BlZF9ibV9ydC52KSxzY29wZWRfYm1fcnQpfXJldHVybiBleGVjdXRlRXhwcmVzc2lvbn1yZXR1cm4gb2IuaW5pdGlhdGVFeHByZXNzaW9uPWluaXRpYXRlRXhwcmVzc2lvbixvYn0oKSxleHByZXNzaW9uSGVscGVycz17c2VhcmNoRXhwcmVzc2lvbnM6ZnVuY3Rpb24odCxlLHIpe2UueCYmKHIuaz0hMCxyLng9ITAsci5pbml0aWF0ZUV4cHJlc3Npb249RXhwcmVzc2lvbk1hbmFnZXIuaW5pdGlhdGVFeHByZXNzaW9uLHIuZWZmZWN0c1NlcXVlbmNlLnB1c2goci5pbml0aWF0ZUV4cHJlc3Npb24odCxlLHIpLmJpbmQocikpKX0sZ2V0U3BlZWRBdFRpbWU6ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXRWYWx1ZUF0VGltZSh0KSxyPXRoaXMuZ2V0VmFsdWVBdFRpbWUodCstLjAxKSxpPTA7aWYoZS5sZW5ndGgpe3ZhciBzO2ZvcihzPTA7czxlLmxlbmd0aDtzKz0xKWkrPU1hdGgucG93KHJbc10tZVtzXSwyKTtpPTEwMCpNYXRoLnNxcnQoaSl9ZWxzZSBpPTA7cmV0dXJuIGl9LGdldFZlbG9jaXR5QXRUaW1lOmZ1bmN0aW9uKHQpe2lmKHZvaWQgMCE9PXRoaXMudmVsKXJldHVybiB0aGlzLnZlbDt2YXIgZSxyLGk9dGhpcy5nZXRWYWx1ZUF0VGltZSh0KSxzPXRoaXMuZ2V0VmFsdWVBdFRpbWUodCstLjAwMSk7aWYoaS5sZW5ndGgpZm9yKGU9Y3JlYXRlVHlwZWRBcnJheSgiZmxvYXQzMiIsaS5sZW5ndGgpLHI9MDtyPGkubGVuZ3RoO3IrPTEpZVtyXT0oc1tyXS1pW3JdKS8tLjAwMTtlbHNlIGU9KHMtaSkvLS4wMDE7cmV0dXJuIGV9LGdldFZhbHVlQXRUaW1lOmZ1bmN0aW9uKHQpe3JldHVybiB0Kj10aGlzLmVsZW0uZ2xvYmFsRGF0YS5mcmFtZVJhdGUsKHQtPXRoaXMub2Zmc2V0VGltZSkhPT10aGlzLl9jYWNoaW5nQXRUaW1lLmxhc3RGcmFtZSYmKHRoaXMuX2NhY2hpbmdBdFRpbWUubGFzdEluZGV4PXRoaXMuX2NhY2hpbmdBdFRpbWUubGFzdEZyYW1lPHQ/dGhpcy5fY2FjaGluZ0F0VGltZS5sYXN0SW5kZXg6MCx0aGlzLl9jYWNoaW5nQXRUaW1lLnZhbHVlPXRoaXMuaW50ZXJwb2xhdGVWYWx1ZSh0LHRoaXMuX2NhY2hpbmdBdFRpbWUpLHRoaXMuX2NhY2hpbmdBdFRpbWUubGFzdEZyYW1lPXQpLHRoaXMuX2NhY2hpbmdBdFRpbWUudmFsdWV9LGdldFN0YXRpY1ZhbHVlQXRUaW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHZ9LHNldEdyb3VwUHJvcGVydHk6ZnVuY3Rpb24odCl7dGhpcy5wcm9wZXJ0eUdyb3VwPXR9fTshZnVuY3Rpb24oKXtmdW5jdGlvbiBvKHQsZSxyKXtpZighdGhpcy5rfHwhdGhpcy5rZXlmcmFtZXMpcmV0dXJuIHRoaXMucHY7dD10P3QudG9Mb3dlckNhc2UoKToiIjt2YXIgaSxzLGEsbixvLGg9dGhpcy5jb21wLnJlbmRlcmVkRnJhbWUsbD10aGlzLmtleWZyYW1lcyxwPWxbbC5sZW5ndGgtMV0udDtpZihoPD1wKXJldHVybiB0aGlzLnB2O2lmKHI/cz1wLShpPWU/TWF0aC5hYnMocC10aGlzLmVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSplKTpNYXRoLm1heCgwLHAtdGhpcy5lbGVtLmRhdGEuaXApKTooKCFlfHxlPmwubGVuZ3RoLTEpJiYoZT1sLmxlbmd0aC0xKSxpPXAtKHM9bFtsLmxlbmd0aC0xLWVdLnQpKSwicGluZ3BvbmciPT09dCl7aWYoTWF0aC5mbG9vcigoaC1zKS9pKSUyIT0wKXJldHVybiB0aGlzLmdldFZhbHVlQXRUaW1lKChpLShoLXMpJWkrcykvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApfWVsc2V7aWYoIm9mZnNldCI9PT10KXt2YXIgbT10aGlzLmdldFZhbHVlQXRUaW1lKHMvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLGY9dGhpcy5nZXRWYWx1ZUF0VGltZShwL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxjPXRoaXMuZ2V0VmFsdWVBdFRpbWUoKChoLXMpJWkrcykvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLGQ9TWF0aC5mbG9vcigoaC1zKS9pKTtpZih0aGlzLnB2Lmxlbmd0aCl7Zm9yKG49KG89bmV3IEFycmF5KG0ubGVuZ3RoKSkubGVuZ3RoLGE9MDthPG47YSs9MSlvW2FdPShmW2FdLW1bYV0pKmQrY1thXTtyZXR1cm4gb31yZXR1cm4oZi1tKSpkK2N9aWYoImNvbnRpbnVlIj09PXQpe3ZhciB1PXRoaXMuZ2V0VmFsdWVBdFRpbWUocC90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCkseT10aGlzLmdldFZhbHVlQXRUaW1lKChwLS4wMDEpL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKTtpZih0aGlzLnB2Lmxlbmd0aCl7Zm9yKG49KG89bmV3IEFycmF5KHUubGVuZ3RoKSkubGVuZ3RoLGE9MDthPG47YSs9MSlvW2FdPXVbYV0rKHVbYV0teVthXSkqKChoLXApL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSkvNWUtNDtyZXR1cm4gb31yZXR1cm4gdSsoaC1wKS8uMDAxKih1LXkpfX1yZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSgoKGgtcyklaStzKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCl9ZnVuY3Rpb24gaCh0LGUscil7aWYoIXRoaXMuaylyZXR1cm4gdGhpcy5wdjt0PXQ/dC50b0xvd2VyQ2FzZSgpOiIiO3ZhciBpLHMsYSxuLG8saD10aGlzLmNvbXAucmVuZGVyZWRGcmFtZSxsPXRoaXMua2V5ZnJhbWVzLHA9bFswXS50O2lmKHA8PWgpcmV0dXJuIHRoaXMucHY7aWYocj9zPXArKGk9ZT9NYXRoLmFicyh0aGlzLmVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSplKTpNYXRoLm1heCgwLHRoaXMuZWxlbS5kYXRhLm9wLXApKTooKCFlfHxlPmwubGVuZ3RoLTEpJiYoZT1sLmxlbmd0aC0xKSxpPShzPWxbZV0udCktcCksInBpbmdwb25nIj09PXQpe2lmKE1hdGguZmxvb3IoKHAtaCkvaSklMj09MClyZXR1cm4gdGhpcy5nZXRWYWx1ZUF0VGltZSgoKHAtaCklaStwKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCl9ZWxzZXtpZigib2Zmc2V0Ij09PXQpe3ZhciBtPXRoaXMuZ2V0VmFsdWVBdFRpbWUocC90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCksZj10aGlzLmdldFZhbHVlQXRUaW1lKHMvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLGM9dGhpcy5nZXRWYWx1ZUF0VGltZSgoaS0ocC1oKSVpK3ApL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKSxkPU1hdGguZmxvb3IoKHAtaCkvaSkrMTtpZih0aGlzLnB2Lmxlbmd0aCl7Zm9yKG49KG89bmV3IEFycmF5KG0ubGVuZ3RoKSkubGVuZ3RoLGE9MDthPG47YSs9MSlvW2FdPWNbYV0tKGZbYV0tbVthXSkqZDtyZXR1cm4gb31yZXR1cm4gYy0oZi1tKSpkfWlmKCJjb250aW51ZSI9PT10KXt2YXIgdT10aGlzLmdldFZhbHVlQXRUaW1lKHAvdGhpcy5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLDApLHk9dGhpcy5nZXRWYWx1ZUF0VGltZSgocCsuMDAxKS90aGlzLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsMCk7aWYodGhpcy5wdi5sZW5ndGgpe2ZvcihuPShvPW5ldyBBcnJheSh1Lmxlbmd0aCkpLmxlbmd0aCxhPTA7YTxuO2ErPTEpb1thXT11W2FdKyh1W2FdLXlbYV0pKihwLWgpLy4wMDE7cmV0dXJuIG99cmV0dXJuIHUrKHUteSkqKHAtaCkvLjAwMX19cmV0dXJuIHRoaXMuZ2V0VmFsdWVBdFRpbWUoKGktKChwLWgpJWkrcCkpL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwwKX1mdW5jdGlvbiBsKHQsZSl7aWYoIXRoaXMuaylyZXR1cm4gdGhpcy5wdjtpZih0PS41Kih0fHwuNCksKGU9TWF0aC5mbG9vcihlfHw1KSk8PTEpcmV0dXJuIHRoaXMucHY7dmFyIHIsaSxzPXRoaXMuY29tcC5yZW5kZXJlZEZyYW1lL3RoaXMuY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxhPXMtdCxuPTE8ZT8ocyt0LWEpLyhlLTEpOjEsbz0wLGg9MDtmb3Iocj10aGlzLnB2Lmxlbmd0aD9jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIix0aGlzLnB2Lmxlbmd0aCk6MDtvPGU7KXtpZihpPXRoaXMuZ2V0VmFsdWVBdFRpbWUoYStvKm4pLHRoaXMucHYubGVuZ3RoKWZvcihoPTA7aDx0aGlzLnB2Lmxlbmd0aDtoKz0xKXJbaF0rPWlbaF07ZWxzZSByKz1pO28rPTF9aWYodGhpcy5wdi5sZW5ndGgpZm9yKGg9MDtoPHRoaXMucHYubGVuZ3RoO2grPTEpcltoXS89ZTtlbHNlIHIvPWU7cmV0dXJuIHJ9dmFyIHM9VHJhbnNmb3JtUHJvcGVydHlGYWN0b3J5LmdldFRyYW5zZm9ybVByb3BlcnR5O1RyYW5zZm9ybVByb3BlcnR5RmFjdG9yeS5nZXRUcmFuc2Zvcm1Qcm9wZXJ0eT1mdW5jdGlvbih0LGUscil7dmFyIGk9cyh0LGUscik7cmV0dXJuIGkuZHluYW1pY1Byb3BlcnRpZXMubGVuZ3RoP2kuZ2V0VmFsdWVBdFRpbWU9ZnVuY3Rpb24odCl7dGhpcy5fdHJhbnNmb3JtQ2FjaGluZ0F0VGltZXx8KHRoaXMuX3RyYW5zZm9ybUNhY2hpbmdBdFRpbWU9e3Y6bmV3IE1hdHJpeH0pO3ZhciBlPXRoaXMuX3RyYW5zZm9ybUNhY2hpbmdBdFRpbWUudjtpZihlLmNsb25lRnJvbVByb3BzKHRoaXMucHJlLnByb3BzKSx0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM8MSl7dmFyIHI9dGhpcy5hLmdldFZhbHVlQXRUaW1lKHQpO2UudHJhbnNsYXRlKC1yWzBdKnRoaXMuYS5tdWx0LC1yWzFdKnRoaXMuYS5tdWx0LHJbMl0qdGhpcy5hLm11bHQpfWlmKHRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9uczwyKXt2YXIgaT10aGlzLnMuZ2V0VmFsdWVBdFRpbWUodCk7ZS5zY2FsZShpWzBdKnRoaXMucy5tdWx0LGlbMV0qdGhpcy5zLm11bHQsaVsyXSp0aGlzLnMubXVsdCl9aWYodGhpcy5zayYmdGhpcy5hcHBsaWVkVHJhbnNmb3JtYXRpb25zPDMpe3ZhciBzPXRoaXMuc2suZ2V0VmFsdWVBdFRpbWUodCksYT10aGlzLnNhLmdldFZhbHVlQXRUaW1lKHQpO2Uuc2tld0Zyb21BeGlzKC1zKnRoaXMuc2subXVsdCxhKnRoaXMuc2EubXVsdCl9aWYodGhpcy5yJiZ0aGlzLmFwcGxpZWRUcmFuc2Zvcm1hdGlvbnM8NCl7dmFyIG49dGhpcy5yLmdldFZhbHVlQXRUaW1lKHQpO2Uucm90YXRlKC1uKnRoaXMuci5tdWx0KX1lbHNlIGlmKCF0aGlzLnImJnRoaXMuYXBwbGllZFRyYW5zZm9ybWF0aW9uczw0KXt2YXIgbz10aGlzLnJ6LmdldFZhbHVlQXRUaW1lKHQpLGg9dGhpcy5yeS5nZXRWYWx1ZUF0VGltZSh0KSxsPXRoaXMucnguZ2V0VmFsdWVBdFRpbWUodCkscD10aGlzLm9yLmdldFZhbHVlQXRUaW1lKHQpO2Uucm90YXRlWigtbyp0aGlzLnJ6Lm11bHQpLnJvdGF0ZVkoaCp0aGlzLnJ5Lm11bHQpLnJvdGF0ZVgobCp0aGlzLnJ4Lm11bHQpLnJvdGF0ZVooLXBbMl0qdGhpcy5vci5tdWx0KS5yb3RhdGVZKHBbMV0qdGhpcy5vci5tdWx0KS5yb3RhdGVYKHBbMF0qdGhpcy5vci5tdWx0KX1pZih0aGlzLmRhdGEucCYmdGhpcy5kYXRhLnAucyl7dmFyIG09dGhpcy5weC5nZXRWYWx1ZUF0VGltZSh0KSxmPXRoaXMucHkuZ2V0VmFsdWVBdFRpbWUodCk7aWYodGhpcy5kYXRhLnAueil7dmFyIGM9dGhpcy5wei5nZXRWYWx1ZUF0VGltZSh0KTtlLnRyYW5zbGF0ZShtKnRoaXMucHgubXVsdCxmKnRoaXMucHkubXVsdCwtYyp0aGlzLnB6Lm11bHQpfWVsc2UgZS50cmFuc2xhdGUobSp0aGlzLnB4Lm11bHQsZip0aGlzLnB5Lm11bHQsMCl9ZWxzZXt2YXIgZD10aGlzLnAuZ2V0VmFsdWVBdFRpbWUodCk7ZS50cmFuc2xhdGUoZFswXSp0aGlzLnAubXVsdCxkWzFdKnRoaXMucC5tdWx0LC1kWzJdKnRoaXMucC5tdWx0KX1yZXR1cm4gZX0uYmluZChpKTppLmdldFZhbHVlQXRUaW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudi5jbG9uZShuZXcgTWF0cml4KX0uYmluZChpKSxpLnNldEdyb3VwUHJvcGVydHk9ZXhwcmVzc2lvbkhlbHBlcnMuc2V0R3JvdXBQcm9wZXJ0eSxpfTt2YXIgcD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcDtQcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcD1mdW5jdGlvbih0LGUscixpLHMpe3ZhciBhPXAodCxlLHIsaSxzKTthLmtmP2EuZ2V0VmFsdWVBdFRpbWU9ZXhwcmVzc2lvbkhlbHBlcnMuZ2V0VmFsdWVBdFRpbWUuYmluZChhKTphLmdldFZhbHVlQXRUaW1lPWV4cHJlc3Npb25IZWxwZXJzLmdldFN0YXRpY1ZhbHVlQXRUaW1lLmJpbmQoYSksYS5zZXRHcm91cFByb3BlcnR5PWV4cHJlc3Npb25IZWxwZXJzLnNldEdyb3VwUHJvcGVydHksYS5sb29wT3V0PW8sYS5sb29wSW49aCxhLnNtb290aD1sLGEuZ2V0VmVsb2NpdHlBdFRpbWU9ZXhwcmVzc2lvbkhlbHBlcnMuZ2V0VmVsb2NpdHlBdFRpbWUuYmluZChhKSxhLmdldFNwZWVkQXRUaW1lPWV4cHJlc3Npb25IZWxwZXJzLmdldFNwZWVkQXRUaW1lLmJpbmQoYSksYS5udW1LZXlzPTE9PT1lLmE/ZS5rLmxlbmd0aDowLGEucHJvcGVydHlJbmRleD1lLml4O3ZhciBuPTA7cmV0dXJuIDAhPT1yJiYobj1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIiwxPT09ZS5hP2Uua1swXS5zLmxlbmd0aDplLmsubGVuZ3RoKSksYS5fY2FjaGluZ0F0VGltZT17bGFzdEZyYW1lOmluaXRpYWxEZWZhdWx0RnJhbWUsbGFzdEluZGV4OjAsdmFsdWU6bn0sZXhwcmVzc2lvbkhlbHBlcnMuc2VhcmNoRXhwcmVzc2lvbnModCxlLGEpLGEuayYmcy5hZGREeW5hbWljUHJvcGVydHkoYSksYX07dmFyIHQ9U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0Q29uc3RydWN0b3JGdW5jdGlvbigpLGU9U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0S2V5ZnJhbWVkQ29uc3RydWN0b3JGdW5jdGlvbigpO2Z1bmN0aW9uIHIoKXt9ci5wcm90b3R5cGU9e3ZlcnRpY2VzOmZ1bmN0aW9uKHQsZSl7dGhpcy5rJiZ0aGlzLmdldFZhbHVlKCk7dmFyIHIsaT10aGlzLnY7dm9pZCAwIT09ZSYmKGk9dGhpcy5nZXRWYWx1ZUF0VGltZShlLDApKTt2YXIgcz1pLl9sZW5ndGgsYT1pW3RdLG49aS52LG89Y3JlYXRlU2l6ZWRBcnJheShzKTtmb3Iocj0wO3I8cztyKz0xKW9bcl09ImkiPT09dHx8Im8iPT09dD9bYVtyXVswXS1uW3JdWzBdLGFbcl1bMV0tbltyXVsxXV06W2Fbcl1bMF0sYVtyXVsxXV07cmV0dXJuIG99LHBvaW50czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52ZXJ0aWNlcygidiIsdCl9LGluVGFuZ2VudHM6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMudmVydGljZXMoImkiLHQpfSxvdXRUYW5nZW50czpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy52ZXJ0aWNlcygibyIsdCl9LGlzQ2xvc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudi5jfSxwb2ludE9uUGF0aDpmdW5jdGlvbih0LGUpe3ZhciByPXRoaXMudjt2b2lkIDAhPT1lJiYocj10aGlzLmdldFZhbHVlQXRUaW1lKGUsMCkpLHRoaXMuX3NlZ21lbnRzTGVuZ3RofHwodGhpcy5fc2VnbWVudHNMZW5ndGg9YmV6LmdldFNlZ21lbnRzTGVuZ3RoKHIpKTtmb3IodmFyIGkscz10aGlzLl9zZWdtZW50c0xlbmd0aCxhPXMubGVuZ3RocyxuPXMudG90YWxMZW5ndGgqdCxvPTAsaD1hLmxlbmd0aCxsPTA7bzxoOyl7aWYobCthW29dLmFkZGVkTGVuZ3RoPm4pe3ZhciBwPW8sbT1yLmMmJm89PT1oLTE/MDpvKzEsZj0obi1sKS9hW29dLmFkZGVkTGVuZ3RoO2k9YmV6LmdldFBvaW50SW5TZWdtZW50KHIudltwXSxyLnZbbV0sci5vW3BdLHIuaVttXSxmLGFbb10pO2JyZWFrfWwrPWFbb10uYWRkZWRMZW5ndGgsbys9MX1yZXR1cm4gaXx8KGk9ci5jP1tyLnZbMF1bMF0sci52WzBdWzFdXTpbci52W3IuX2xlbmd0aC0xXVswXSxyLnZbci5fbGVuZ3RoLTFdWzFdXSksaX0sdmVjdG9yT25QYXRoOmZ1bmN0aW9uKHQsZSxyKXsxPT10P3Q9dGhpcy52LmM6MD09dCYmKHQ9Ljk5OSk7dmFyIGk9dGhpcy5wb2ludE9uUGF0aCh0LGUpLHM9dGhpcy5wb2ludE9uUGF0aCh0Ky4wMDEsZSksYT1zWzBdLWlbMF0sbj1zWzFdLWlbMV0sbz1NYXRoLnNxcnQoTWF0aC5wb3coYSwyKStNYXRoLnBvdyhuLDIpKTtyZXR1cm4gMD09PW8/WzAsMF06InRhbmdlbnQiPT09cj9bYS9vLG4vb106Wy1uL28sYS9vXX0sdGFuZ2VudE9uUGF0aDpmdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnZlY3Rvck9uUGF0aCh0LGUsInRhbmdlbnQiKX0sbm9ybWFsT25QYXRoOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMudmVjdG9yT25QYXRoKHQsZSwibm9ybWFsIil9LHNldEdyb3VwUHJvcGVydHk6ZXhwcmVzc2lvbkhlbHBlcnMuc2V0R3JvdXBQcm9wZXJ0eSxnZXRWYWx1ZUF0VGltZTpleHByZXNzaW9uSGVscGVycy5nZXRTdGF0aWNWYWx1ZUF0VGltZX0sZXh0ZW5kUHJvdG90eXBlKFtyXSx0KSxleHRlbmRQcm90b3R5cGUoW3JdLGUpLGUucHJvdG90eXBlLmdldFZhbHVlQXRUaW1lPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9jYWNoaW5nQXRUaW1lfHwodGhpcy5fY2FjaGluZ0F0VGltZT17c2hhcGVWYWx1ZTpzaGFwZVBvb2wuY2xvbmUodGhpcy5wdiksbGFzdEluZGV4OjAsbGFzdFRpbWU6aW5pdGlhbERlZmF1bHRGcmFtZX0pLHQqPXRoaXMuZWxlbS5nbG9iYWxEYXRhLmZyYW1lUmF0ZSwodC09dGhpcy5vZmZzZXRUaW1lKSE9PXRoaXMuX2NhY2hpbmdBdFRpbWUubGFzdFRpbWUmJih0aGlzLl9jYWNoaW5nQXRUaW1lLmxhc3RJbmRleD10aGlzLl9jYWNoaW5nQXRUaW1lLmxhc3RUaW1lPHQ/dGhpcy5fY2FjaGluZy5sYXN0SW5kZXg6MCx0aGlzLl9jYWNoaW5nQXRUaW1lLmxhc3RUaW1lPXQsdGhpcy5pbnRlcnBvbGF0ZVNoYXBlKHQsdGhpcy5fY2FjaGluZ0F0VGltZS5zaGFwZVZhbHVlLHRoaXMuX2NhY2hpbmdBdFRpbWUpKSx0aGlzLl9jYWNoaW5nQXRUaW1lLnNoYXBlVmFsdWV9LGUucHJvdG90eXBlLmluaXRpYXRlRXhwcmVzc2lvbj1FeHByZXNzaW9uTWFuYWdlci5pbml0aWF0ZUV4cHJlc3Npb247dmFyIG49U2hhcGVQcm9wZXJ0eUZhY3RvcnkuZ2V0U2hhcGVQcm9wO1NoYXBlUHJvcGVydHlGYWN0b3J5LmdldFNoYXBlUHJvcD1mdW5jdGlvbih0LGUscixpLHMpe3ZhciBhPW4odCxlLHIsaSxzKTtyZXR1cm4gYS5wcm9wZXJ0eUluZGV4PWUuaXgsYS5sb2NrPSExLDM9PT1yP2V4cHJlc3Npb25IZWxwZXJzLnNlYXJjaEV4cHJlc3Npb25zKHQsZS5wdCxhKTo0PT09ciYmZXhwcmVzc2lvbkhlbHBlcnMuc2VhcmNoRXhwcmVzc2lvbnModCxlLmtzLGEpLGEuayYmdC5hZGREeW5hbWljUHJvcGVydHkoYSksYX19KCksVGV4dFByb3BlcnR5LnByb3RvdHlwZS5nZXRFeHByZXNzaW9uVmFsdWU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmNhbGN1bGF0ZUV4cHJlc3Npb24oZSk7aWYodC50PT09cilyZXR1cm4gdDt2YXIgaT17fTtyZXR1cm4gdGhpcy5jb3B5RGF0YShpLHQpLGkudD1yLnRvU3RyaW5nKCksaS5fX2NvbXBsZXRlPSExLGl9LFRleHRQcm9wZXJ0eS5wcm90b3R5cGUuc2VhcmNoUHJvcGVydHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnNlYXJjaEtleWZyYW1lcygpLGU9dGhpcy5zZWFyY2hFeHByZXNzaW9ucygpO3JldHVybiB0aGlzLmtmPXR8fGUsdGhpcy5rZn0sVGV4dFByb3BlcnR5LnByb3RvdHlwZS5zZWFyY2hFeHByZXNzaW9ucz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZC54Pyh0aGlzLmNhbGN1bGF0ZUV4cHJlc3Npb249RXhwcmVzc2lvbk1hbmFnZXIuaW5pdGlhdGVFeHByZXNzaW9uLmJpbmQodGhpcykodGhpcy5lbGVtLHRoaXMuZGF0YS5kLHRoaXMpLHRoaXMuYWRkRWZmZWN0KHRoaXMuZ2V0RXhwcmVzc2lvblZhbHVlLmJpbmQodGhpcykpLCEwKTpudWxsfTt2YXIgU2hhcGVQYXRoSW50ZXJmYWNlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT1lLnNoO2Z1bmN0aW9uIHModCl7cmV0dXJuIlNoYXBlIj09PXR8fCJzaGFwZSI9PT10fHwiUGF0aCI9PT10fHwicGF0aCI9PT10fHwiQURCRSBWZWN0b3IgU2hhcGUiPT09dHx8Mj09PXQ/cy5wYXRoOm51bGx9dmFyIGE9cHJvcGVydHlHcm91cEZhY3RvcnkocyxyKTtyZXR1cm4gaS5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJQYXRoIixhKSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocyx7cGF0aDp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuayYmaS5nZXRWYWx1ZSgpLGl9fSxzaGFwZTp7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGkuayYmaS5nZXRWYWx1ZSgpLGl9fSxfbmFtZTp7dmFsdWU6dC5ubX0saXg6e3ZhbHVlOnQuaXh9LHByb3BlcnR5SW5kZXg6e3ZhbHVlOnQuaXh9LG1uOnt2YWx1ZTp0Lm1ufSxwcm9wZXJ0eUdyb3VwOnt2YWx1ZTpyfX0pLHN9LHByb3BlcnR5R3JvdXBGYWN0b3J5PWZ1bmN0aW9uKGUscil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybih0PXZvaWQgMD09PXQ/MTp0KTw9MD9lOnIodC0xKX19LFByb3BlcnR5SW50ZXJmYWNlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9e19uYW1lOnR9O3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4odD12b2lkIDA9PT10PzE6dCk8PTA/cjplKHQtMSl9fSxTaGFwZUV4cHJlc3Npb25JbnRlcmZhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQsZSxyKXt2YXIgaSxzPVtdLGE9dD90Lmxlbmd0aDowO2ZvcihpPTA7aTxhO2krPTEpImdyIj09PXRbaV0udHk/cy5wdXNoKG8odFtpXSxlW2ldLHIpKToiZmwiPT09dFtpXS50eT9zLnB1c2goaCh0W2ldLGVbaV0scikpOiJzdCI9PT10W2ldLnR5P3MucHVzaChtKHRbaV0sZVtpXSxyKSk6InRtIj09PXRbaV0udHk/cy5wdXNoKGYodFtpXSxlW2ldLHIpKToidHIiPT09dFtpXS50eXx8KCJlbCI9PT10W2ldLnR5P3MucHVzaChkKHRbaV0sZVtpXSxyKSk6InNyIj09PXRbaV0udHk/cy5wdXNoKHUodFtpXSxlW2ldLHIpKToic2giPT09dFtpXS50eT9zLnB1c2goU2hhcGVQYXRoSW50ZXJmYWNlKHRbaV0sZVtpXSxyKSk6InJjIj09PXRbaV0udHk/cy5wdXNoKHkodFtpXSxlW2ldLHIpKToicmQiPT09dFtpXS50eT9zLnB1c2goZyh0W2ldLGVbaV0scikpOiJycCI9PT10W2ldLnR5P3MucHVzaCh2KHRbaV0sZVtpXSxyKSk6ImdmIj09PXRbaV0udHk/cy5wdXNoKGwodFtpXSxlW2ldLHIpKTpzLnB1c2gocCh0W2ldLGVbaV0pKSk7cmV0dXJuIHN9ZnVuY3Rpb24gbyh0LGUscil7dmFyIGk9ZnVuY3Rpb24odCl7c3dpdGNoKHQpe2Nhc2UiQURCRSBWZWN0b3JzIEdyb3VwIjpjYXNlIkNvbnRlbnRzIjpjYXNlIDI6cmV0dXJuIGkuY29udGVudDtkZWZhdWx0OnJldHVybiBpLnRyYW5zZm9ybX19O2kucHJvcGVydHlHcm91cD1wcm9wZXJ0eUdyb3VwRmFjdG9yeShpLHIpO3ZhciBzPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaSxzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wLHI9aS5sZW5ndGg7ZTxyOyl7aWYoaVtlXS5fbmFtZT09PXR8fGlbZV0ubW49PT10fHxpW2VdLnByb3BlcnR5SW5kZXg9PT10fHxpW2VdLml4PT09dHx8aVtlXS5pbmQ9PT10KXJldHVybiBpW2VdO2UrPTF9cmV0dXJuIm51bWJlciI9PXR5cGVvZiB0P2lbdC0xXTpudWxsfTtzLnByb3BlcnR5R3JvdXA9cHJvcGVydHlHcm91cEZhY3RvcnkocyxyKSxpPW4odC5pdCxlLml0LHMucHJvcGVydHlHcm91cCkscy5udW1Qcm9wZXJ0aWVzPWkubGVuZ3RoO3ZhciBhPWModC5pdFt0Lml0Lmxlbmd0aC0xXSxlLml0W2UuaXQubGVuZ3RoLTFdLHMucHJvcGVydHlHcm91cCk7cmV0dXJuIHMudHJhbnNmb3JtPWEscy5wcm9wZXJ0eUluZGV4PXQuY2l4LHMuX25hbWU9dC5ubSxzfSh0LGUsaS5wcm9wZXJ0eUdyb3VwKSxhPWModC5pdFt0Lml0Lmxlbmd0aC0xXSxlLml0W2UuaXQubGVuZ3RoLTFdLGkucHJvcGVydHlHcm91cCk7cmV0dXJuIGkuY29udGVudD1zLGkudHJhbnNmb3JtPWEsT2JqZWN0LmRlZmluZVByb3BlcnR5KGksIl9uYW1lIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQubm19fSksaS5udW1Qcm9wZXJ0aWVzPXQubnAsaS5wcm9wZXJ0eUluZGV4PXQuaXgsaS5ubT10Lm5tLGkubW49dC5tbixpfWZ1bmN0aW9uIGgodCxlLHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIkNvbG9yIj09PXR8fCJjb2xvciI9PT10P2kuY29sb3I6Ik9wYWNpdHkiPT09dHx8Im9wYWNpdHkiPT09dD9pLm9wYWNpdHk6bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7Y29sb3I6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoZS5jKX0sb3BhY2l0eTp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShlLm8pfSxfbmFtZTp7dmFsdWU6dC5ubX0sbW46e3ZhbHVlOnQubW59fSksZS5jLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIkNvbG9yIixyKSksZS5vLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIk9wYWNpdHkiLHIpKSxpfWZ1bmN0aW9uIGwodCxlLHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIlN0YXJ0IFBvaW50Ij09PXR8fCJzdGFydCBwb2ludCI9PT10P2kuc3RhcnRQb2ludDoiRW5kIFBvaW50Ij09PXR8fCJlbmQgcG9pbnQiPT09dD9pLmVuZFBvaW50OiJPcGFjaXR5Ij09PXR8fCJvcGFjaXR5Ij09PXQ/aS5vcGFjaXR5Om51bGx9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGkse3N0YXJ0UG9pbnQ6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoZS5zKX0sZW5kUG9pbnQ6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoZS5lKX0sb3BhY2l0eTp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShlLm8pfSx0eXBlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iYSJ9fSxfbmFtZTp7dmFsdWU6dC5ubX0sbW46e3ZhbHVlOnQubW59fSksZS5zLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlN0YXJ0IFBvaW50IixyKSksZS5lLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIkVuZCBQb2ludCIscikpLGUuby5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJPcGFjaXR5IixyKSksaX1mdW5jdGlvbiBwKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIG0odCxlLHIpe3ZhciBpLHM9cHJvcGVydHlHcm91cEZhY3RvcnkobCxyKSxhPXByb3BlcnR5R3JvdXBGYWN0b3J5KGgscyk7dmFyIG4sbz10LmQ/dC5kLmxlbmd0aDowLGg9e307Zm9yKGk9MDtpPG87aSs9MSluPWksT2JqZWN0LmRlZmluZVByb3BlcnR5KGgsdC5kW25dLm5tLHtnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGUuZC5kYXRhUHJvcHNbbl0ucCl9KSxlLmQuZGF0YVByb3BzW2ldLnAuc2V0R3JvdXBQcm9wZXJ0eShhKTtmdW5jdGlvbiBsKHQpe3JldHVybiJDb2xvciI9PT10fHwiY29sb3IiPT09dD9sLmNvbG9yOiJPcGFjaXR5Ij09PXR8fCJvcGFjaXR5Ij09PXQ/bC5vcGFjaXR5OiJTdHJva2UgV2lkdGgiPT09dHx8InN0cm9rZSB3aWR0aCI9PT10P2wuc3Ryb2tlV2lkdGg6bnVsbH1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMobCx7Y29sb3I6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoZS5jKX0sb3BhY2l0eTp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShlLm8pfSxzdHJva2VXaWR0aDp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShlLncpfSxkYXNoOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaH19LF9uYW1lOnt2YWx1ZTp0Lm5tfSxtbjp7dmFsdWU6dC5tbn19KSxlLmMuc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiQ29sb3IiLHMpKSxlLm8uc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiT3BhY2l0eSIscykpLGUudy5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJTdHJva2UgV2lkdGgiLHMpKSxsfWZ1bmN0aW9uIGYoZSx0LHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIHQ9PT1lLmUuaXh8fCJFbmQiPT09dHx8ImVuZCI9PT10P2kuZW5kOnQ9PT1lLnMuaXg/aS5zdGFydDp0PT09ZS5vLml4P2kub2Zmc2V0Om51bGx9dmFyIHM9cHJvcGVydHlHcm91cEZhY3RvcnkoaSxyKTtyZXR1cm4gaS5wcm9wZXJ0eUluZGV4PWUuaXgsdC5zLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlN0YXJ0IixzKSksdC5lLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIkVuZCIscykpLHQuby5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJPZmZzZXQiLHMpKSxpLnByb3BlcnR5SW5kZXg9ZS5peCxpLnByb3BlcnR5R3JvdXA9cixPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLHtzdGFydDp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LnMpfSxlbmQ6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5lKX0sb2Zmc2V0OntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQubyl9LF9uYW1lOnt2YWx1ZTplLm5tfX0pLGkubW49ZS5tbixpfWZ1bmN0aW9uIGMoZSx0LHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIGUuYS5peD09PXR8fCJBbmNob3IgUG9pbnQiPT09dD9pLmFuY2hvclBvaW50OmUuby5peD09PXR8fCJPcGFjaXR5Ij09PXQ/aS5vcGFjaXR5OmUucC5peD09PXR8fCJQb3NpdGlvbiI9PT10P2kucG9zaXRpb246ZS5yLml4PT09dHx8IlJvdGF0aW9uIj09PXR8fCJBREJFIFZlY3RvciBSb3RhdGlvbiI9PT10P2kucm90YXRpb246ZS5zLml4PT09dHx8IlNjYWxlIj09PXQ/aS5zY2FsZTplLnNrJiZlLnNrLml4PT09dHx8IlNrZXciPT09dD9pLnNrZXc6ZS5zYSYmZS5zYS5peD09PXR8fCJTa2V3IEF4aXMiPT09dD9pLnNrZXdBeGlzOm51bGx9dmFyIHM9cHJvcGVydHlHcm91cEZhY3RvcnkoaSxyKTtyZXR1cm4gdC50cmFuc2Zvcm0ubVByb3BzLm8uc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiT3BhY2l0eSIscykpLHQudHJhbnNmb3JtLm1Qcm9wcy5wLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlBvc2l0aW9uIixzKSksdC50cmFuc2Zvcm0ubVByb3BzLmEuc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiQW5jaG9yIFBvaW50IixzKSksdC50cmFuc2Zvcm0ubVByb3BzLnMuc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiU2NhbGUiLHMpKSx0LnRyYW5zZm9ybS5tUHJvcHMuci5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJSb3RhdGlvbiIscykpLHQudHJhbnNmb3JtLm1Qcm9wcy5zayYmKHQudHJhbnNmb3JtLm1Qcm9wcy5zay5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJTa2V3IixzKSksdC50cmFuc2Zvcm0ubVByb3BzLnNhLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlNrZXcgQW5nbGUiLHMpKSksdC50cmFuc2Zvcm0ub3Auc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiT3BhY2l0eSIscykpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGkse29wYWNpdHk6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC50cmFuc2Zvcm0ubVByb3BzLm8pfSxwb3NpdGlvbjp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LnRyYW5zZm9ybS5tUHJvcHMucCl9LGFuY2hvclBvaW50OntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQudHJhbnNmb3JtLm1Qcm9wcy5hKX0sc2NhbGU6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC50cmFuc2Zvcm0ubVByb3BzLnMpfSxyb3RhdGlvbjp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LnRyYW5zZm9ybS5tUHJvcHMucil9LHNrZXc6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC50cmFuc2Zvcm0ubVByb3BzLnNrKX0sc2tld0F4aXM6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC50cmFuc2Zvcm0ubVByb3BzLnNhKX0sX25hbWU6e3ZhbHVlOmUubm19fSksaS50eT0idHIiLGkubW49ZS5tbixpLnByb3BlcnR5R3JvdXA9cixpfWZ1bmN0aW9uIGQoZSx0LHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIGUucC5peD09PXQ/aS5wb3NpdGlvbjplLnMuaXg9PT10P2kuc2l6ZTpudWxsfXZhciBzPXByb3BlcnR5R3JvdXBGYWN0b3J5KGkscik7aS5wcm9wZXJ0eUluZGV4PWUuaXg7dmFyIGE9InRtIj09PXQuc2gudHk/dC5zaC5wcm9wOnQuc2g7cmV0dXJuIGEucy5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJTaXplIixzKSksYS5wLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlBvc2l0aW9uIixzKSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7c2l6ZTp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShhLnMpfSxwb3NpdGlvbjp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShhLnApfSxfbmFtZTp7dmFsdWU6ZS5ubX19KSxpLm1uPWUubW4saX1mdW5jdGlvbiB1KGUsdCxyKXtmdW5jdGlvbiBpKHQpe3JldHVybiBlLnAuaXg9PT10P2kucG9zaXRpb246ZS5yLml4PT09dD9pLnJvdGF0aW9uOmUucHQuaXg9PT10P2kucG9pbnRzOmUub3IuaXg9PT10fHwiQURCRSBWZWN0b3IgU3RhciBPdXRlciBSYWRpdXMiPT09dD9pLm91dGVyUmFkaXVzOmUub3MuaXg9PT10P2kub3V0ZXJSb3VuZG5lc3M6IWUuaXJ8fGUuaXIuaXghPT10JiYiQURCRSBWZWN0b3IgU3RhciBJbm5lciBSYWRpdXMiIT09dD9lLmlzJiZlLmlzLml4PT09dD9pLmlubmVyUm91bmRuZXNzOm51bGw6aS5pbm5lclJhZGl1c312YXIgcz1wcm9wZXJ0eUdyb3VwRmFjdG9yeShpLHIpLGE9InRtIj09PXQuc2gudHk/dC5zaC5wcm9wOnQuc2g7cmV0dXJuIGkucHJvcGVydHlJbmRleD1lLml4LGEub3Iuc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiT3V0ZXIgUmFkaXVzIixzKSksYS5vcy5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJPdXRlciBSb3VuZG5lc3MiLHMpKSxhLnB0LnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlBvaW50cyIscykpLGEucC5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJQb3NpdGlvbiIscykpLGEuci5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJSb3RhdGlvbiIscykpLGUuaXImJihhLmlyLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIklubmVyIFJhZGl1cyIscykpLGEuaXMuc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiSW5uZXIgUm91bmRuZXNzIixzKSkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGkse3Bvc2l0aW9uOntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGEucCl9LHJvdGF0aW9uOntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGEucil9LHBvaW50czp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShhLnB0KX0sb3V0ZXJSYWRpdXM6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoYS5vcil9LG91dGVyUm91bmRuZXNzOntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGEub3MpfSxpbm5lclJhZGl1czp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShhLmlyKX0saW5uZXJSb3VuZG5lc3M6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoYS5pcyl9LF9uYW1lOnt2YWx1ZTplLm5tfX0pLGkubW49ZS5tbixpfWZ1bmN0aW9uIHkoZSx0LHIpe2Z1bmN0aW9uIGkodCl7cmV0dXJuIGUucC5peD09PXQ/aS5wb3NpdGlvbjplLnIuaXg9PT10P2kucm91bmRuZXNzOmUucy5peD09PXR8fCJTaXplIj09PXR8fCJBREJFIFZlY3RvciBSZWN0IFNpemUiPT09dD9pLnNpemU6bnVsbH12YXIgcz1wcm9wZXJ0eUdyb3VwRmFjdG9yeShpLHIpLGE9InRtIj09PXQuc2gudHk/dC5zaC5wcm9wOnQuc2g7cmV0dXJuIGkucHJvcGVydHlJbmRleD1lLml4LGEucC5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJQb3NpdGlvbiIscykpLGEucy5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJTaXplIixzKSksYS5yLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIlJvdGF0aW9uIixzKSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7cG9zaXRpb246e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoYS5wKX0scm91bmRuZXNzOntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGEucil9LHNpemU6e2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UoYS5zKX0sX25hbWU6e3ZhbHVlOmUubm19fSksaS5tbj1lLm1uLGl9ZnVuY3Rpb24gZyhlLHQscil7ZnVuY3Rpb24gaSh0KXtyZXR1cm4gZS5yLml4PT09dHx8IlJvdW5kIENvcm5lcnMgMSI9PT10P2kucmFkaXVzOm51bGx9dmFyIHM9cHJvcGVydHlHcm91cEZhY3RvcnkoaSxyKSxhPXQ7cmV0dXJuIGkucHJvcGVydHlJbmRleD1lLml4LGEucmQuc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiUmFkaXVzIixzKSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7cmFkaXVzOntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGEucmQpfSxfbmFtZTp7dmFsdWU6ZS5ubX19KSxpLm1uPWUubW4saX1mdW5jdGlvbiB2KGUsdCxyKXtmdW5jdGlvbiBpKHQpe3JldHVybiBlLmMuaXg9PT10fHwiQ29waWVzIj09PXQ/aS5jb3BpZXM6ZS5vLml4PT09dHx8Ik9mZnNldCI9PT10P2kub2Zmc2V0Om51bGx9dmFyIHM9cHJvcGVydHlHcm91cEZhY3RvcnkoaSxyKSxhPXQ7cmV0dXJuIGkucHJvcGVydHlJbmRleD1lLml4LGEuYy5zZXRHcm91cFByb3BlcnR5KFByb3BlcnR5SW50ZXJmYWNlKCJDb3BpZXMiLHMpKSxhLm8uc2V0R3JvdXBQcm9wZXJ0eShQcm9wZXJ0eUludGVyZmFjZSgiT2Zmc2V0IixzKSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSx7Y29waWVzOntnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKGEuYyl9LG9mZnNldDp7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZShhLm8pfSxfbmFtZTp7dmFsdWU6ZS5ubX19KSxpLm1uPWUubW4saX1yZXR1cm4gZnVuY3Rpb24odCxlLGkpe3ZhciBzO2Z1bmN0aW9uIHIodCl7aWYoIm51bWJlciI9PXR5cGVvZiB0KXJldHVybiAwPT09KHQ9dm9pZCAwPT09dD8xOnQpP2k6c1t0LTFdO2Zvcih2YXIgZT0wLHI9cy5sZW5ndGg7ZTxyOyl7aWYoc1tlXS5fbmFtZT09PXQpcmV0dXJuIHNbZV07ZSs9MX1yZXR1cm4gbnVsbH1yZXR1cm4gci5wcm9wZXJ0eUdyb3VwPXByb3BlcnR5R3JvdXBGYWN0b3J5KHIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLHM9bih0LGUsci5wcm9wZXJ0eUdyb3VwKSxyLm51bVByb3BlcnRpZXM9cy5sZW5ndGgsci5fbmFtZT0iQ29udGVudHMiLHJ9fSgpLFRleHRFeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKGUpe3ZhciByO2Z1bmN0aW9uIGkodCl7c3dpdGNoKHQpe2Nhc2UiQURCRSBUZXh0IERvY3VtZW50IjpyZXR1cm4gaS5zb3VyY2VUZXh0O2RlZmF1bHQ6cmV0dXJuIG51bGx9fXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwic291cmNlVGV4dCIse2dldDpmdW5jdGlvbigpe2UudGV4dFByb3BlcnR5LmdldFZhbHVlKCk7dmFyIHQ9ZS50ZXh0UHJvcGVydHkuY3VycmVudERhdGEudDtyZXR1cm4gdm9pZCAwIT09dCYmKGUudGV4dFByb3BlcnR5LmN1cnJlbnREYXRhLnQ9dm9pZCAwLChyPW5ldyBTdHJpbmcodCkpLnZhbHVlPXR8fG5ldyBTdHJpbmcodCkpLHJ9fSksaX0sTGF5ZXJFeHByZXNzaW9uSW50ZXJmYWNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcyh0KXt2YXIgZT1uZXcgTWF0cml4O3ZvaWQgMCE9PXQ/dGhpcy5fZWxlbS5maW5hbFRyYW5zZm9ybS5tUHJvcC5nZXRWYWx1ZUF0VGltZSh0KS5jbG9uZShlKTp0aGlzLl9lbGVtLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLmFwcGx5VG9NYXRyaXgoZSk7cmV0dXJuIGV9ZnVuY3Rpb24gYSh0LGUpe3ZhciByPXRoaXMuZ2V0TWF0cml4KGUpO3JldHVybiByLnByb3BzWzEyXT0wLHIucHJvcHNbMTNdPTAsci5wcm9wc1sxNF09MCx0aGlzLmFwcGx5UG9pbnQocix0KX1mdW5jdGlvbiBuKHQsZSl7dmFyIHI9dGhpcy5nZXRNYXRyaXgoZSk7cmV0dXJuIHRoaXMuYXBwbHlQb2ludChyLHQpfWZ1bmN0aW9uIG8odCxlKXt2YXIgcj10aGlzLmdldE1hdHJpeChlKTtyZXR1cm4gci5wcm9wc1sxMl09MCxyLnByb3BzWzEzXT0wLHIucHJvcHNbMTRdPTAsdGhpcy5pbnZlcnRQb2ludChyLHQpfWZ1bmN0aW9uIGgodCxlKXt2YXIgcj10aGlzLmdldE1hdHJpeChlKTtyZXR1cm4gdGhpcy5pbnZlcnRQb2ludChyLHQpfWZ1bmN0aW9uIGwodCxlKXtpZih0aGlzLl9lbGVtLmhpZXJhcmNoeSYmdGhpcy5fZWxlbS5oaWVyYXJjaHkubGVuZ3RoKXt2YXIgcixpPXRoaXMuX2VsZW0uaGllcmFyY2h5Lmxlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKXRoaXMuX2VsZW0uaGllcmFyY2h5W3JdLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLmFwcGx5VG9NYXRyaXgodCl9cmV0dXJuIHQuYXBwbHlUb1BvaW50QXJyYXkoZVswXSxlWzFdLGVbMl18fDApfWZ1bmN0aW9uIHAodCxlKXtpZih0aGlzLl9lbGVtLmhpZXJhcmNoeSYmdGhpcy5fZWxlbS5oaWVyYXJjaHkubGVuZ3RoKXt2YXIgcixpPXRoaXMuX2VsZW0uaGllcmFyY2h5Lmxlbmd0aDtmb3Iocj0wO3I8aTtyKz0xKXRoaXMuX2VsZW0uaGllcmFyY2h5W3JdLmZpbmFsVHJhbnNmb3JtLm1Qcm9wLmFwcGx5VG9NYXRyaXgodCl9cmV0dXJuIHQuaW52ZXJzZVBvaW50KGUpfWZ1bmN0aW9uIG0odCl7dmFyIGU9bmV3IE1hdHJpeDtpZihlLnJlc2V0KCksdGhpcy5fZWxlbS5maW5hbFRyYW5zZm9ybS5tUHJvcC5hcHBseVRvTWF0cml4KGUpLHRoaXMuX2VsZW0uaGllcmFyY2h5JiZ0aGlzLl9lbGVtLmhpZXJhcmNoeS5sZW5ndGgpe3ZhciByLGk9dGhpcy5fZWxlbS5oaWVyYXJjaHkubGVuZ3RoO2ZvcihyPTA7cjxpO3IrPTEpdGhpcy5fZWxlbS5oaWVyYXJjaHlbcl0uZmluYWxUcmFuc2Zvcm0ubVByb3AuYXBwbHlUb01hdHJpeChlKTtyZXR1cm4gZS5pbnZlcnNlUG9pbnQodCl9cmV0dXJuIGUuaW52ZXJzZVBvaW50KHQpfWZ1bmN0aW9uIGYoKXtyZXR1cm5bMSwxLDEsMV19cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByO2Z1bmN0aW9uIGkodCl7c3dpdGNoKHQpe2Nhc2UiQURCRSBSb290IFZlY3RvcnMgR3JvdXAiOmNhc2UiQ29udGVudHMiOmNhc2UgMjpyZXR1cm4gaS5zaGFwZUludGVyZmFjZTtjYXNlIDE6Y2FzZSA2OmNhc2UiVHJhbnNmb3JtIjpjYXNlInRyYW5zZm9ybSI6Y2FzZSJBREJFIFRyYW5zZm9ybSBHcm91cCI6cmV0dXJuIHI7Y2FzZSA0OmNhc2UiQURCRSBFZmZlY3QgUGFyYWRlIjpjYXNlImVmZmVjdHMiOmNhc2UiRWZmZWN0cyI6cmV0dXJuIGkuZWZmZWN0O2Nhc2UiQURCRSBUZXh0IFByb3BlcnRpZXMiOnJldHVybiBpLnRleHRJbnRlcmZhY2U7ZGVmYXVsdDpyZXR1cm4gbnVsbH19aS5nZXRNYXRyaXg9cyxpLmludmVydFBvaW50PXAsaS5hcHBseVBvaW50PWwsaS50b1dvcmxkPW4saS50b1dvcmxkVmVjPWEsaS5mcm9tV29ybGQ9aCxpLmZyb21Xb3JsZFZlYz1vLGkudG9Db21wPW4saS5mcm9tQ29tcD1tLGkuc2FtcGxlSW1hZ2U9ZixpLnNvdXJjZVJlY3RBdFRpbWU9ZS5zb3VyY2VSZWN0QXRUaW1lLmJpbmQoZSk7dmFyIHQ9Z2V0RGVzY3JpcHRvcihyPVRyYW5zZm9ybUV4cHJlc3Npb25JbnRlcmZhY2UoKGkuX2VsZW09ZSkuZmluYWxUcmFuc2Zvcm0ubVByb3ApLCJhbmNob3JQb2ludCIpO3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLHtoYXNQYXJlbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLmhpZXJhcmNoeS5sZW5ndGh9fSxwYXJlbnQ6e2dldDpmdW5jdGlvbigpe3JldHVybiBlLmhpZXJhcmNoeVswXS5sYXllckludGVyZmFjZX19LHJvdGF0aW9uOmdldERlc2NyaXB0b3Iociwicm90YXRpb24iKSxzY2FsZTpnZXREZXNjcmlwdG9yKHIsInNjYWxlIikscG9zaXRpb246Z2V0RGVzY3JpcHRvcihyLCJwb3NpdGlvbiIpLG9wYWNpdHk6Z2V0RGVzY3JpcHRvcihyLCJvcGFjaXR5IiksYW5jaG9yUG9pbnQ6dCxhbmNob3JfcG9pbnQ6dCx0cmFuc2Zvcm06e2dldDpmdW5jdGlvbigpe3JldHVybiByfX0sYWN0aXZlOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pc0luUmFuZ2V9fX0pLGkuc3RhcnRUaW1lPWUuZGF0YS5zdCxpLmluZGV4PWUuZGF0YS5pbmQsaS5zb3VyY2U9ZS5kYXRhLnJlZklkLGkuaGVpZ2h0PTA9PT1lLmRhdGEudHk/ZS5kYXRhLmg6MTAwLGkud2lkdGg9MD09PWUuZGF0YS50eT9lLmRhdGEudzoxMDAsaS5pblBvaW50PWUuZGF0YS5pcC9lLmNvbXAuZ2xvYmFsRGF0YS5mcmFtZVJhdGUsaS5vdXRQb2ludD1lLmRhdGEub3AvZS5jb21wLmdsb2JhbERhdGEuZnJhbWVSYXRlLGkuX25hbWU9ZS5kYXRhLm5tLGkucmVnaXN0ZXJNYXNrSW50ZXJmYWNlPWZ1bmN0aW9uKHQpe2kubWFzaz1uZXcgTWFza01hbmFnZXJJbnRlcmZhY2UodCxlKX0saS5yZWdpc3RlckVmZmVjdHNJbnRlcmZhY2U9ZnVuY3Rpb24odCl7aS5lZmZlY3Q9dH0saX19KCksRm9vdGFnZUludGVyZmFjZT0oeDc9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSh0KXtyZXR1cm4iT3V0bGluZSI9PT10P2Uub3V0bGluZUludGVyZmFjZSgpOm51bGx9cmV0dXJuIGUuX25hbWU9Ik91dGxpbmUiLGUub3V0bGluZUludGVyZmFjZT1mdW5jdGlvbih0KXt2YXIgaT0iIixzPXQuZ2V0Rm9vdGFnZURhdGEoKTtmdW5jdGlvbiBhKHQpe2lmKHNbdF0pcmV0dXJuIm9iamVjdCI9PXR5cGVvZihzPXNbaT10XSk/YTpzO3ZhciBlPXQuaW5kZXhPZihpKTtpZigtMT09PWUpcmV0dXJuIiI7dmFyIHI9cGFyc2VJbnQodC5zdWJzdHIoZStpLmxlbmd0aCksMTApO3JldHVybiJvYmplY3QiPT10eXBlb2Yocz1zW3JdKT9hOnN9cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGk9IiIscz10LmdldEZvb3RhZ2VEYXRhKCksYX19KHQpLGV9LGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIkRhdGEiPT09dD9lLmRhdGFJbnRlcmZhY2U6bnVsbH1yZXR1cm4gZS5fbmFtZT0iRGF0YSIsZS5kYXRhSW50ZXJmYWNlPXg3KHQpLGV9KSx4NyxDb21wRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbihpKXtmdW5jdGlvbiB0KHQpe2Zvcih2YXIgZT0wLHI9aS5sYXllcnMubGVuZ3RoO2U8cjspe2lmKGkubGF5ZXJzW2VdLm5tPT09dHx8aS5sYXllcnNbZV0uaW5kPT09dClyZXR1cm4gaS5lbGVtZW50c1tlXS5sYXllckludGVyZmFjZTtlKz0xfXJldHVybiBudWxsfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX25hbWUiLHt2YWx1ZTppLmRhdGEubm19KSwodC5sYXllcj10KS5waXhlbEFzcGVjdD0xLHQuaGVpZ2h0PWkuZGF0YS5ofHxpLmdsb2JhbERhdGEuY29tcFNpemUuaCx0LndpZHRoPWkuZGF0YS53fHxpLmdsb2JhbERhdGEuY29tcFNpemUudyx0LnBpeGVsQXNwZWN0PTEsdC5mcmFtZUR1cmF0aW9uPTEvaS5nbG9iYWxEYXRhLmZyYW1lUmF0ZSx0LmRpc3BsYXlTdGFydFRpbWU9MCx0Lm51bUxheWVycz1pLmxheWVycy5sZW5ndGgsdH0sVHJhbnNmb3JtRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbih0KXtmdW5jdGlvbiBlKHQpe3N3aXRjaCh0KXtjYXNlInNjYWxlIjpjYXNlIlNjYWxlIjpjYXNlIkFEQkUgU2NhbGUiOmNhc2UgNjpyZXR1cm4gZS5zY2FsZTtjYXNlInJvdGF0aW9uIjpjYXNlIlJvdGF0aW9uIjpjYXNlIkFEQkUgUm90YXRpb24iOmNhc2UiQURCRSBSb3RhdGUgWiI6Y2FzZSAxMDpyZXR1cm4gZS5yb3RhdGlvbjtjYXNlIkFEQkUgUm90YXRlIFgiOnJldHVybiBlLnhSb3RhdGlvbjtjYXNlIkFEQkUgUm90YXRlIFkiOnJldHVybiBlLnlSb3RhdGlvbjtjYXNlInBvc2l0aW9uIjpjYXNlIlBvc2l0aW9uIjpjYXNlIkFEQkUgUG9zaXRpb24iOmNhc2UgMjpyZXR1cm4gZS5wb3NpdGlvbjtjYXNlIkFEQkUgUG9zaXRpb25fMCI6cmV0dXJuIGUueFBvc2l0aW9uO2Nhc2UiQURCRSBQb3NpdGlvbl8xIjpyZXR1cm4gZS55UG9zaXRpb247Y2FzZSJBREJFIFBvc2l0aW9uXzIiOnJldHVybiBlLnpQb3NpdGlvbjtjYXNlImFuY2hvclBvaW50IjpjYXNlIkFuY2hvclBvaW50IjpjYXNlIkFuY2hvciBQb2ludCI6Y2FzZSJBREJFIEFuY2hvclBvaW50IjpjYXNlIDE6cmV0dXJuIGUuYW5jaG9yUG9pbnQ7Y2FzZSJvcGFjaXR5IjpjYXNlIk9wYWNpdHkiOmNhc2UgMTE6cmV0dXJuIGUub3BhY2l0eTtkZWZhdWx0OnJldHVybiBudWxsfX12YXIgcixpLHMsYTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInJvdGF0aW9uIix7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LnJ8fHQucnopfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInpSb3RhdGlvbiIse2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5yenx8dC5yKX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ4Um90YXRpb24iLHtnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQucngpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInlSb3RhdGlvbiIse2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5yeSl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2NhbGUiLHtnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQucyl9KSx0LnA/YT1FeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5wKToocj1FeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5weCksaT1FeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5weSksdC5weiYmKHM9RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQucHopKSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInBvc2l0aW9uIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHQucD9hKCk6W3IoKSxpKCkscz9zKCk6MF19fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsInhQb3NpdGlvbiIse2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5weCl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwieVBvc2l0aW9uIix7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LnB5KX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCJ6UG9zaXRpb24iLHtnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQucHopfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsImFuY2hvclBvaW50Iix7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LmEpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm9wYWNpdHkiLHtnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQubyl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2tldyIse2dldDpFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2UodC5zayl9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwic2tld0F4aXMiLHtnZXQ6RXhwcmVzc2lvblByb3BlcnR5SW50ZXJmYWNlKHQuc2EpfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIm9yaWVudGF0aW9uIix7Z2V0OkV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0Lm9yKX0pLGV9LFByb2plY3RJbnRlcmZhY2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMuY29tcG9zaXRpb25zLnB1c2godCl9cmV0dXJuIGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtmb3IodmFyIGU9MCxyPXRoaXMuY29tcG9zaXRpb25zLmxlbmd0aDtlPHI7KXtpZih0aGlzLmNvbXBvc2l0aW9uc1tlXS5kYXRhJiZ0aGlzLmNvbXBvc2l0aW9uc1tlXS5kYXRhLm5tPT09dClyZXR1cm4gdGhpcy5jb21wb3NpdGlvbnNbZV0ucHJlcGFyZUZyYW1lJiZ0aGlzLmNvbXBvc2l0aW9uc1tlXS5kYXRhLnh0JiZ0aGlzLmNvbXBvc2l0aW9uc1tlXS5wcmVwYXJlRnJhbWUodGhpcy5jdXJyZW50RnJhbWUpLHRoaXMuY29tcG9zaXRpb25zW2VdLmNvbXBJbnRlcmZhY2U7ZSs9MX1yZXR1cm4gbnVsbH1yZXR1cm4gdC5jb21wb3NpdGlvbnM9W10sdC5jdXJyZW50RnJhbWU9MCx0LnJlZ2lzdGVyQ29tcG9zaXRpb249ZSx0fX0oKSxFZmZlY3RzRXhwcmVzc2lvbkludGVyZmFjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGwocyx0LGUscil7ZnVuY3Rpb24gaSh0KXtmb3IodmFyIGU9cy5lZixyPTAsaT1lLmxlbmd0aDtyPGk7KXtpZih0PT09ZVtyXS5ubXx8dD09PWVbcl0ubW58fHQ9PT1lW3JdLml4KXJldHVybiA1PT09ZVtyXS50eT9vW3JdOm9bcl0oKTtyKz0xfXRocm93IG5ldyBFcnJvcn12YXIgYSxuPXByb3BlcnR5R3JvdXBGYWN0b3J5KGksZSksbz1bXSxoPXMuZWYubGVuZ3RoO2ZvcihhPTA7YTxoO2ErPTEpNT09PXMuZWZbYV0udHk/by5wdXNoKGwocy5lZlthXSx0LmVmZmVjdEVsZW1lbnRzW2FdLHQuZWZmZWN0RWxlbWVudHNbYV0ucHJvcGVydHlHcm91cCxyKSk6by5wdXNoKHAodC5lZmZlY3RFbGVtZW50c1thXSxzLmVmW2FdLnR5LHIsbikpO3JldHVybiJBREJFIENvbG9yIENvbnRyb2wiPT09cy5tbiYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGksImNvbG9yIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG9bMF0oKX19KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhpLHtudW1Qcm9wZXJ0aWVzOntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcy5ucH19LF9uYW1lOnt2YWx1ZTpzLm5tfSxwcm9wZXJ0eUdyb3VwOnt2YWx1ZTpufX0pLGkuZW5hYmxlZD0wIT09cy5lbixpLmFjdGl2ZT1pLmVuYWJsZWQsaX1mdW5jdGlvbiBwKHQsZSxyLGkpe3ZhciBzPUV4cHJlc3Npb25Qcm9wZXJ0eUludGVyZmFjZSh0LnApO3JldHVybiB0LnAuc2V0R3JvdXBQcm9wZXJ0eSYmdC5wLnNldEdyb3VwUHJvcGVydHkoUHJvcGVydHlJbnRlcmZhY2UoIiIsaSkpLGZ1bmN0aW9uKCl7cmV0dXJuIDEwPT09ZT9yLmNvbXAuY29tcEludGVyZmFjZSh0LnAudik6cygpfX1yZXR1cm57Y3JlYXRlRWZmZWN0c0ludGVyZmFjZTpmdW5jdGlvbih0LGUpe2lmKHQuZWZmZWN0c01hbmFnZXIpe3ZhciByLGk9W10scz10LmRhdGEuZWYsYT10LmVmZmVjdHNNYW5hZ2VyLmVmZmVjdEVsZW1lbnRzLmxlbmd0aDtmb3Iocj0wO3I8YTtyKz0xKWkucHVzaChsKHNbcl0sdC5lZmZlY3RzTWFuYWdlci5lZmZlY3RFbGVtZW50c1tyXSxlLHQpKTt2YXIgbj10LmRhdGEuZWZ8fFtdLG89ZnVuY3Rpb24odCl7Zm9yKHI9MCxhPW4ubGVuZ3RoO3I8YTspe2lmKHQ9PT1uW3JdLm5tfHx0PT09bltyXS5tbnx8dD09PW5bcl0uaXgpcmV0dXJuIGlbcl07cis9MX1yZXR1cm4gbnVsbH07cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCJudW1Qcm9wZXJ0aWVzIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG4ubGVuZ3RofX0pLG99cmV0dXJuIG51bGx9fX0oKSxNYXNrTWFuYWdlckludGVyZmFjZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLl9tYXNrPXQsdGhpcy5fZGF0YT1lfU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSwibWFza1BhdGgiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fbWFzay5wcm9wLmsmJnRoaXMuX21hc2sucHJvcC5nZXRWYWx1ZSgpLHRoaXMuX21hc2sucHJvcH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsIm1hc2tPcGFjaXR5Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX21hc2sub3AuayYmdGhpcy5fbWFzay5vcC5nZXRWYWx1ZSgpLDEwMCp0aGlzLl9tYXNrLm9wLnZ9fSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByLGk9Y3JlYXRlU2l6ZWRBcnJheShlLnZpZXdEYXRhLmxlbmd0aCkscz1lLnZpZXdEYXRhLmxlbmd0aDtmb3Iocj0wO3I8cztyKz0xKWlbcl09bmV3IHQoZS52aWV3RGF0YVtyXSxlLm1hc2tzUHJvcGVydGllc1tyXSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2ZvcihyPTA7cjxzOyl7aWYoZS5tYXNrc1Byb3BlcnRpZXNbcl0ubm09PT10KXJldHVybiBpW3JdO3IrPTF9cmV0dXJuIG51bGx9fX0oKSxFeHByZXNzaW9uUHJvcGVydHlJbnRlcmZhY2U9ZnVuY3Rpb24oKXt2YXIgcz17cHY6MCx2OjAsbXVsdDoxfSxuPXtwdjpbMCwwLDBdLHY6WzAsMCwwXSxtdWx0OjF9O2Z1bmN0aW9uIG8oaSxzLGEpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShpLCJ2ZWxvY2l0eSIse2dldDpmdW5jdGlvbigpe3JldHVybiBzLmdldFZlbG9jaXR5QXRUaW1lKHMuY29tcC5jdXJyZW50RnJhbWUpfX0pLGkubnVtS2V5cz1zLmtleWZyYW1lcz9zLmtleWZyYW1lcy5sZW5ndGg6MCxpLmtleT1mdW5jdGlvbih0KXtpZighaS5udW1LZXlzKXJldHVybiAwO3ZhciBlPSIiO2U9InMiaW4gcy5rZXlmcmFtZXNbdC0xXT9zLmtleWZyYW1lc1t0LTFdLnM6ImUiaW4gcy5rZXlmcmFtZXNbdC0yXT9zLmtleWZyYW1lc1t0LTJdLmU6cy5rZXlmcmFtZXNbdC0yXS5zO3ZhciByPSJ1bmlkaW1lbnNpb25hbCI9PT1hP25ldyBOdW1iZXIoZSk6T2JqZWN0LmFzc2lnbih7fSxlKTtyZXR1cm4gci50aW1lPXMua2V5ZnJhbWVzW3QtMV0udC9zLmVsZW0uY29tcC5nbG9iYWxEYXRhLmZyYW1lUmF0ZSxyLnZhbHVlPSJ1bmlkaW1lbnNpb25hbCI9PT1hP2VbMF06ZSxyfSxpLnZhbHVlQXRUaW1lPXMuZ2V0VmFsdWVBdFRpbWUsaS5zcGVlZEF0VGltZT1zLmdldFNwZWVkQXRUaW1lLGkudmVsb2NpdHlBdFRpbWU9cy5nZXRWZWxvY2l0eUF0VGltZSxpLnByb3BlcnR5R3JvdXA9cy5wcm9wZXJ0eUdyb3VwfWZ1bmN0aW9uIGUoKXtyZXR1cm4gc31yZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ/InVuaWRpbWVuc2lvbmFsIj09PXQucHJvcFR5cGU/ZnVuY3Rpb24odCl7dCYmInB2ImluIHR8fCh0PXMpO3ZhciBlPTEvdC5tdWx0LHI9dC5wdiplLGk9bmV3IE51bWJlcihyKTtyZXR1cm4gaS52YWx1ZT1yLG8oaSx0LCJ1bmlkaW1lbnNpb25hbCIpLGZ1bmN0aW9uKCl7cmV0dXJuIHQuayYmdC5nZXRWYWx1ZSgpLHI9dC52KmUsaS52YWx1ZSE9PXImJigoaT1uZXcgTnVtYmVyKHIpKS52YWx1ZT1yLG8oaSx0LCJ1bmlkaW1lbnNpb25hbCIpKSxpfX0odCk6ZnVuY3Rpb24oZSl7ZSYmInB2ImluIGV8fChlPW4pO3ZhciByPTEvZS5tdWx0LGk9ZS5kYXRhJiZlLmRhdGEubHx8ZS5wdi5sZW5ndGgscz1jcmVhdGVUeXBlZEFycmF5KCJmbG9hdDMyIixpKSxhPWNyZWF0ZVR5cGVkQXJyYXkoImZsb2F0MzIiLGkpO3JldHVybiBzLnZhbHVlPWEsbyhzLGUsIm11bHRpZGltZW5zaW9uYWwiKSxmdW5jdGlvbigpe2UuayYmZS5nZXRWYWx1ZSgpO2Zvcih2YXIgdD0wO3Q8aTt0Kz0xKWFbdF09ZS52W3RdKnIsc1t0XT1hW3RdO3JldHVybiBzfX0odCk6ZX19KCksVGV4dEV4cHJlc3Npb25TZWxlY3RvclByb3BGYWN0b3J5PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcih0LGUpe3JldHVybiB0aGlzLnRleHRJbmRleD10KzEsdGhpcy50ZXh0VG90YWw9ZSx0aGlzLnY9dGhpcy5nZXRWYWx1ZSgpKnRoaXMubXVsdCx0aGlzLnZ9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7dGhpcy5wdj0xLHRoaXMuY29tcD10LmNvbXAsdGhpcy5lbGVtPXQsdGhpcy5tdWx0PS4wMSx0aGlzLnByb3BUeXBlPSJ0ZXh0U2VsZWN0b3IiLHRoaXMudGV4dFRvdGFsPWUudG90YWxDaGFycyx0aGlzLnNlbGVjdG9yVmFsdWU9MTAwLHRoaXMubGFzdFZhbHVlPVsxLDEsMV0sdGhpcy5rPSEwLHRoaXMueD0hMCx0aGlzLmdldFZhbHVlPUV4cHJlc3Npb25NYW5hZ2VyLmluaXRpYXRlRXhwcmVzc2lvbi5iaW5kKHRoaXMpKHQsZSx0aGlzKSx0aGlzLmdldE11bHQ9cix0aGlzLmdldFZlbG9jaXR5QXRUaW1lPWV4cHJlc3Npb25IZWxwZXJzLmdldFZlbG9jaXR5QXRUaW1lLHRoaXMua2Y/dGhpcy5nZXRWYWx1ZUF0VGltZT1leHByZXNzaW9uSGVscGVycy5nZXRWYWx1ZUF0VGltZS5iaW5kKHRoaXMpOnRoaXMuZ2V0VmFsdWVBdFRpbWU9ZXhwcmVzc2lvbkhlbHBlcnMuZ2V0U3RhdGljVmFsdWVBdFRpbWUuYmluZCh0aGlzKSx0aGlzLnNldEdyb3VwUHJvcGVydHk9ZXhwcmVzc2lvbkhlbHBlcnMuc2V0R3JvdXBQcm9wZXJ0eX19KCkscHJvcGVydHlHZXRUZXh0UHJvcD1UZXh0U2VsZWN0b3JQcm9wLmdldFRleHRTZWxlY3RvclByb3A7ZnVuY3Rpb24gU2xpZGVyRWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMCwwLHIpfWZ1bmN0aW9uIEFuZ2xlRWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMCwwLHIpfWZ1bmN0aW9uIENvbG9yRWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMSwwLHIpfWZ1bmN0aW9uIFBvaW50RWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMSwwLHIpfWZ1bmN0aW9uIExheWVySW5kZXhFZmZlY3QodCxlLHIpe3RoaXMucD1Qcm9wZXJ0eUZhY3RvcnkuZ2V0UHJvcChlLHQudiwwLDAscil9ZnVuY3Rpb24gTWFza0luZGV4RWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMCwwLHIpfWZ1bmN0aW9uIENoZWNrYm94RWZmZWN0KHQsZSxyKXt0aGlzLnA9UHJvcGVydHlGYWN0b3J5LmdldFByb3AoZSx0LnYsMCwwLHIpfWZ1bmN0aW9uIE5vVmFsdWVFZmZlY3QoKXt0aGlzLnA9e319ZnVuY3Rpb24gRWZmZWN0c01hbmFnZXIodCxlKXt2YXIgcixpPXQuZWZ8fFtdO3RoaXMuZWZmZWN0RWxlbWVudHM9W107dmFyIHMsYT1pLmxlbmd0aDtmb3Iocj0wO3I8YTtyKz0xKXM9bmV3IEdyb3VwRWZmZWN0KGlbcl0sZSksdGhpcy5lZmZlY3RFbGVtZW50cy5wdXNoKHMpfWZ1bmN0aW9uIEdyb3VwRWZmZWN0KHQsZSl7dGhpcy5pbml0KHQsZSl9VGV4dFNlbGVjdG9yUHJvcC5nZXRUZXh0U2VsZWN0b3JQcm9wPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gMT09PWUudD9uZXcgVGV4dEV4cHJlc3Npb25TZWxlY3RvclByb3BGYWN0b3J5KHQsZSxyKTpwcm9wZXJ0eUdldFRleHRQcm9wKHQsZSxyKX0sZXh0ZW5kUHJvdG90eXBlKFtEeW5hbWljUHJvcGVydHlDb250YWluZXJdLEdyb3VwRWZmZWN0KSxHcm91cEVmZmVjdC5wcm90b3R5cGUuZ2V0VmFsdWU9R3JvdXBFZmZlY3QucHJvdG90eXBlLml0ZXJhdGVEeW5hbWljUHJvcGVydGllcyxHcm91cEVmZmVjdC5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbih0LGUpe3ZhciByO3RoaXMuZGF0YT10LHRoaXMuZWZmZWN0RWxlbWVudHM9W10sdGhpcy5pbml0RHluYW1pY1Byb3BlcnR5Q29udGFpbmVyKGUpO3ZhciBpLHM9dGhpcy5kYXRhLmVmLmxlbmd0aCxhPXRoaXMuZGF0YS5lZjtmb3Iocj0wO3I8cztyKz0xKXtzd2l0Y2goaT1udWxsLGFbcl0udHkpe2Nhc2UgMDppPW5ldyBTbGlkZXJFZmZlY3QoYVtyXSxlLHRoaXMpO2JyZWFrO2Nhc2UgMTppPW5ldyBBbmdsZUVmZmVjdChhW3JdLGUsdGhpcyk7YnJlYWs7Y2FzZSAyOmk9bmV3IENvbG9yRWZmZWN0KGFbcl0sZSx0aGlzKTticmVhaztjYXNlIDM6aT1uZXcgUG9pbnRFZmZlY3QoYVtyXSxlLHRoaXMpO2JyZWFrO2Nhc2UgNDpjYXNlIDc6aT1uZXcgQ2hlY2tib3hFZmZlY3QoYVtyXSxlLHRoaXMpO2JyZWFrO2Nhc2UgMTA6aT1uZXcgTGF5ZXJJbmRleEVmZmVjdChhW3JdLGUsdGhpcyk7YnJlYWs7Y2FzZSAxMTppPW5ldyBNYXNrSW5kZXhFZmZlY3QoYVtyXSxlLHRoaXMpO2JyZWFrO2Nhc2UgNTppPW5ldyBFZmZlY3RzTWFuYWdlcihhW3JdLGUsdGhpcyk7YnJlYWs7ZGVmYXVsdDppPW5ldyBOb1ZhbHVlRWZmZWN0KGFbcl0sZSx0aGlzKX1pJiZ0aGlzLmVmZmVjdEVsZW1lbnRzLnB1c2goaSl9fTt2YXIgbG90dGllPXt9O2Z1bmN0aW9uIHNldExvY2F0aW9uSHJlZih0KXtsb2NhdGlvbkhyZWY9dH1mdW5jdGlvbiBzZWFyY2hBbmltYXRpb25zKCl7ITA9PT1zdGFuZGFsb25lP2FuaW1hdGlvbk1hbmFnZXIuc2VhcmNoQW5pbWF0aW9ucyhhbmltYXRpb25EYXRhLHN0YW5kYWxvbmUscmVuZGVyZXIpOmFuaW1hdGlvbk1hbmFnZXIuc2VhcmNoQW5pbWF0aW9ucygpfWZ1bmN0aW9uIHNldFN1YmZyYW1lUmVuZGVyaW5nKHQpe3N1YmZyYW1lRW5hYmxlZD10fWZ1bmN0aW9uIHNldElEUHJlZml4KHQpe2lkUHJlZml4PXR9ZnVuY3Rpb24gbG9hZEFuaW1hdGlvbih0KXtyZXR1cm4hMD09PXN0YW5kYWxvbmUmJih0LmFuaW1hdGlvbkRhdGE9SlNPTi5wYXJzZShhbmltYXRpb25EYXRhKSksYW5pbWF0aW9uTWFuYWdlci5sb2FkQW5pbWF0aW9uKHQpfWZ1bmN0aW9uIHNldFF1YWxpdHkodCl7aWYoInN0cmluZyI9PXR5cGVvZiB0KXN3aXRjaCh0KXtjYXNlImhpZ2giOmRlZmF1bHRDdXJ2ZVNlZ21lbnRzPTIwMDticmVhaztkZWZhdWx0OmNhc2UibWVkaXVtIjpkZWZhdWx0Q3VydmVTZWdtZW50cz01MDticmVhaztjYXNlImxvdyI6ZGVmYXVsdEN1cnZlU2VnbWVudHM9MTB9ZWxzZSFpc05hTih0KSYmMTx0JiYoZGVmYXVsdEN1cnZlU2VnbWVudHM9dCk7cm91bmRWYWx1ZXMoISg1MDw9ZGVmYXVsdEN1cnZlU2VnbWVudHMpKX1mdW5jdGlvbiBpbkJyb3dzZXIoKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIG5hdmlnYXRvcn1mdW5jdGlvbiBpbnN0YWxsUGx1Z2luKHQsZSl7ImV4cHJlc3Npb25zIj09PXQmJihleHByZXNzaW9uc1BsdWdpbj1lKX1mdW5jdGlvbiBnZXRGYWN0b3J5KHQpe3N3aXRjaCh0KXtjYXNlInByb3BlcnR5RmFjdG9yeSI6cmV0dXJuIFByb3BlcnR5RmFjdG9yeTtjYXNlInNoYXBlUHJvcGVydHlGYWN0b3J5IjpyZXR1cm4gU2hhcGVQcm9wZXJ0eUZhY3Rvcnk7Y2FzZSJtYXRyaXgiOnJldHVybiBNYXRyaXg7ZGVmYXVsdDpyZXR1cm4gbnVsbH19ZnVuY3Rpb24gY2hlY2tSZWFkeSgpeyJjb21wbGV0ZSI9PT1kb2N1bWVudC5yZWFkeVN0YXRlJiYoY2xlYXJJbnRlcnZhbChyZWFkeVN0YXRlQ2hlY2tJbnRlcnZhbCksc2VhcmNoQW5pbWF0aW9ucygpKX1mdW5jdGlvbiBnZXRRdWVyeVZhcmlhYmxlKHQpe2Zvcih2YXIgZT1xdWVyeVN0cmluZy5zcGxpdCgiJiIpLHI9MDtyPGUubGVuZ3RoO3IrPTEpe3ZhciBpPWVbcl0uc3BsaXQoIj0iKTtpZihkZWNvZGVVUklDb21wb25lbnQoaVswXSk9PXQpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChpWzFdKX1yZXR1cm4gbnVsbH1sb3R0aWUucGxheT1hbmltYXRpb25NYW5hZ2VyLnBsYXksbG90dGllLnBhdXNlPWFuaW1hdGlvbk1hbmFnZXIucGF1c2UsbG90dGllLnNldExvY2F0aW9uSHJlZj1zZXRMb2NhdGlvbkhyZWYsbG90dGllLnRvZ2dsZVBhdXNlPWFuaW1hdGlvbk1hbmFnZXIudG9nZ2xlUGF1c2UsbG90dGllLnNldFNwZWVkPWFuaW1hdGlvbk1hbmFnZXIuc2V0U3BlZWQsbG90dGllLnNldERpcmVjdGlvbj1hbmltYXRpb25NYW5hZ2VyLnNldERpcmVjdGlvbixsb3R0aWUuc3RvcD1hbmltYXRpb25NYW5hZ2VyLnN0b3AsbG90dGllLnNlYXJjaEFuaW1hdGlvbnM9c2VhcmNoQW5pbWF0aW9ucyxsb3R0aWUucmVnaXN0ZXJBbmltYXRpb249YW5pbWF0aW9uTWFuYWdlci5yZWdpc3RlckFuaW1hdGlvbixsb3R0aWUubG9hZEFuaW1hdGlvbj1sb2FkQW5pbWF0aW9uLGxvdHRpZS5zZXRTdWJmcmFtZVJlbmRlcmluZz1zZXRTdWJmcmFtZVJlbmRlcmluZyxsb3R0aWUucmVzaXplPWFuaW1hdGlvbk1hbmFnZXIucmVzaXplLGxvdHRpZS5nb1RvQW5kU3RvcD1hbmltYXRpb25NYW5hZ2VyLmdvVG9BbmRTdG9wLGxvdHRpZS5kZXN0cm95PWFuaW1hdGlvbk1hbmFnZXIuZGVzdHJveSxsb3R0aWUuc2V0UXVhbGl0eT1zZXRRdWFsaXR5LGxvdHRpZS5pbkJyb3dzZXI9aW5Ccm93c2VyLGxvdHRpZS5pbnN0YWxsUGx1Z2luPWluc3RhbGxQbHVnaW4sbG90dGllLmZyZWV6ZT1hbmltYXRpb25NYW5hZ2VyLmZyZWV6ZSxsb3R0aWUudW5mcmVlemU9YW5pbWF0aW9uTWFuYWdlci51bmZyZWV6ZSxsb3R0aWUuc2V0Vm9sdW1lPWFuaW1hdGlvbk1hbmFnZXIuc2V0Vm9sdW1lLGxvdHRpZS5tdXRlPWFuaW1hdGlvbk1hbmFnZXIubXV0ZSxsb3R0aWUudW5tdXRlPWFuaW1hdGlvbk1hbmFnZXIudW5tdXRlLGxvdHRpZS5nZXRSZWdpc3RlcmVkQW5pbWF0aW9ucz1hbmltYXRpb25NYW5hZ2VyLmdldFJlZ2lzdGVyZWRBbmltYXRpb25zLGxvdHRpZS51c2VXZWJXb3JrZXI9ZnVuY3Rpb24odCl7X3VzZVdlYldvcmtlcj10fSxsb3R0aWUuc2V0SURQcmVmaXg9c2V0SURQcmVmaXgsbG90dGllLl9fZ2V0RmFjdG9yeT1nZXRGYWN0b3J5LGxvdHRpZS52ZXJzaW9uPSI1LjguMSI7dmFyIHN0YW5kYWxvbmU9Il9fW1NUQU5EQUxPTkVdX18iLGFuaW1hdGlvbkRhdGE9Il9fW0FOSU1BVElPTkRBVEFdX18iLHJlbmRlcmVyPSIiLHF1ZXJ5U3RyaW5nO2lmKHN0YW5kYWxvbmUpe3ZhciBzY3JpcHRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxpbmRleD1zY3JpcHRzLmxlbmd0aC0xLG15U2NyaXB0PXNjcmlwdHNbaW5kZXhdfHx7c3JjOiIifTtxdWVyeVN0cmluZz1teVNjcmlwdC5zcmMucmVwbGFjZSgvXlteXD9dK1w/Py8sIiIpLHJlbmRlcmVyPWdldFF1ZXJ5VmFyaWFibGUoInJlbmRlcmVyIil9dmFyIHJlYWR5U3RhdGVDaGVja0ludGVydmFsPXNldEludGVydmFsKGNoZWNrUmVhZHksMTAwKTsKcmV0dXJuIGxvdHRpZTsKfSkpO1BLAwQKAAAAAABAV3RVnwQYeaT6AACk+gAAFgAAAGFzc2V0cy9qcy8vZ3NhcC5taW4uanMvKiEKICogR1NBUCAzLjkuMAogKiBodHRwczovL2dyZWVuc29jay5jb20KICogCiAqIEBsaWNlbnNlIENvcHlyaWdodCAyMDIxLCBHcmVlblNvY2suIEFsbCByaWdodHMgcmVzZXJ2ZWQuCiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGF0IGh0dHBzOi8vZ3JlZW5zb2NrLmNvbS9zdGFuZGFyZC1saWNlbnNlIG9yIGZvciBDbHViIEdyZWVuU29jayBtZW1iZXJzLCB0aGUgYWdyZWVtZW50IGlzc3VlZCB3aXRoIHRoYXQgbWVtYmVyc2hpcC4KICogQGF1dGhvcjogSmFjayBEb3lsZSwgamFja0BncmVlbnNvY2suY29tCiAqLwoKIWZ1bmN0aW9uKHQsZSl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9lKGV4cG9ydHMpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFsiZXhwb3J0cyJdLGUpOmUoKHQ9dHx8c2VsZikud2luZG93PXQud2luZG93fHx7fSl9KHRoaXMsZnVuY3Rpb24oZSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHQsZSl7dC5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShlLnByb3RvdHlwZSksKHQucHJvdG90eXBlLmNvbnN0cnVjdG9yPXQpLl9fcHJvdG9fXz1lfWZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQodCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZCIpO3JldHVybiB0fWZ1bmN0aW9uIG8odCl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiB0fWZ1bmN0aW9uIHAodCl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHR9ZnVuY3Rpb24gcSh0KXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIHR9ZnVuY3Rpb24gcih0KXtyZXR1cm4gdm9pZCAwPT09dH1mdW5jdGlvbiBzKHQpe3JldHVybiJvYmplY3QiPT10eXBlb2YgdH1mdW5jdGlvbiB0KHQpe3JldHVybiExIT09dH1mdW5jdGlvbiB1KCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3d9ZnVuY3Rpb24gdih0KXtyZXR1cm4gcCh0KXx8byh0KX1mdW5jdGlvbiBNKHQpe3JldHVybihoPW10KHQsb3QpKSYmb2V9ZnVuY3Rpb24gTih0LGUpe3JldHVybiBjb25zb2xlLndhcm4oIkludmFsaWQgcHJvcGVydHkiLHQsInNldCB0byIsZSwiTWlzc2luZyBwbHVnaW4/IGdzYXAucmVnaXN0ZXJQbHVnaW4oKSIpfWZ1bmN0aW9uIE8odCxlKXtyZXR1cm4hZSYmY29uc29sZS53YXJuKHQpfWZ1bmN0aW9uIFAodCxlKXtyZXR1cm4gdCYmKG90W3RdPWUpJiZoJiYoaFt0XT1lKXx8b3R9ZnVuY3Rpb24gUSgpe3JldHVybiAwfWZ1bmN0aW9uICQodCl7dmFyIGUscixpPXRbMF07aWYocyhpKXx8cChpKXx8KHQ9W3RdKSwhKGU9KGkuX2dzYXB8fHt9KS5oYXJuZXNzKSl7Zm9yKHI9Y3QubGVuZ3RoO3ItLSYmIWN0W3JdLnRhcmdldFRlc3QoaSk7KTtlPWN0W3JdfWZvcihyPXQubGVuZ3RoO3ItLTspdFtyXSYmKHRbcl0uX2dzYXB8fCh0W3JdLl9nc2FwPW5ldyBMdCh0W3JdLGUpKSl8fHQuc3BsaWNlKHIsMSk7cmV0dXJuIHR9ZnVuY3Rpb24gXyh0KXtyZXR1cm4gdC5fZ3NhcHx8JCh4dCh0KSlbMF0uX2dzYXB9ZnVuY3Rpb24gYWEodCxlLGkpe3JldHVybihpPXRbZV0pJiZwKGkpP3RbZV0oKTpyKGkpJiZ0LmdldEF0dHJpYnV0ZSYmdC5nZXRBdHRyaWJ1dGUoZSl8fGl9ZnVuY3Rpb24gYmEodCxlKXtyZXR1cm4odD10LnNwbGl0KCIsIikpLmZvckVhY2goZSl8fHR9ZnVuY3Rpb24gY2EodCl7cmV0dXJuIE1hdGgucm91bmQoMWU1KnQpLzFlNXx8MH1mdW5jdGlvbiBkYSh0KXtyZXR1cm4gTWF0aC5yb3VuZCgxZTcqdCkvMWU3fHwwfWZ1bmN0aW9uIGVhKHQsZSl7Zm9yKHZhciByPWUubGVuZ3RoLGk9MDt0LmluZGV4T2YoZVtpXSk8MCYmKytpPHI7KTtyZXR1cm4gaTxyfWZ1bmN0aW9uIGZhKCl7dmFyIHQsZSxyPWh0Lmxlbmd0aCxpPWh0LnNsaWNlKDApO2ZvcihsdD17fSx0PWh0Lmxlbmd0aD0wO3Q8cjt0KyspKGU9aVt0XSkmJmUuX2xhenkmJihlLnJlbmRlcihlLl9sYXp5WzBdLGUuX2xhenlbMV0sITApLl9sYXp5PTApfWZ1bmN0aW9uIGdhKHQsZSxyLGkpe2h0Lmxlbmd0aCYmZmEoKSx0LnJlbmRlcihlLHIsaSksaHQubGVuZ3RoJiZmYSgpfWZ1bmN0aW9uIGhhKHQpe3ZhciBlPXBhcnNlRmxvYXQodCk7cmV0dXJuKGV8fDA9PT1lKSYmKHQrIiIpLm1hdGNoKGF0KS5sZW5ndGg8Mj9lOm8odCk/dC50cmltKCk6dH1mdW5jdGlvbiBpYSh0KXtyZXR1cm4gdH1mdW5jdGlvbiBqYSh0LGUpe2Zvcih2YXIgciBpbiBlKXIgaW4gdHx8KHRbcl09ZVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gbWEodCxlKXtmb3IodmFyIHIgaW4gZSkiX19wcm90b19fIiE9PXImJiJjb25zdHJ1Y3RvciIhPT1yJiYicHJvdG90eXBlIiE9PXImJih0W3JdPXMoZVtyXSk/bWEodFtyXXx8KHRbcl09e30pLGVbcl0pOmVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIG5hKHQsZSl7dmFyIHIsaT17fTtmb3IociBpbiB0KXIgaW4gZXx8KGlbcl09dFtyXSk7cmV0dXJuIGl9ZnVuY3Rpb24gb2EoZSl7dmFyIHI9ZS5wYXJlbnR8fEksaT1lLmtleWZyYW1lcz9mdW5jdGlvbiBfc2V0S2V5ZnJhbWVEZWZhdWx0cyhpKXtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IodmFyIHIgaW4gZSlyIGluIHR8fCJkdXJhdGlvbiI9PT1yJiZpfHwiZWFzZSI9PT1yfHwodFtyXT1lW3JdKX19KFcoZS5rZXlmcmFtZXMpKTpqYTtpZih0KGUuaW5oZXJpdCkpZm9yKDtyOylpKGUsci52YXJzLmRlZmF1bHRzKSxyPXIucGFyZW50fHxyLl9kcDtyZXR1cm4gZX1mdW5jdGlvbiByYSh0LGUscixpKXt2b2lkIDA9PT1yJiYocj0iX2ZpcnN0Iiksdm9pZCAwPT09aSYmKGk9Il9sYXN0Iik7dmFyIG49ZS5fcHJldixhPWUuX25leHQ7bj9uLl9uZXh0PWE6dFtyXT09PWUmJih0W3JdPWEpLGE/YS5fcHJldj1uOnRbaV09PT1lJiYodFtpXT1uKSxlLl9uZXh0PWUuX3ByZXY9ZS5wYXJlbnQ9bnVsbH1mdW5jdGlvbiBzYSh0LGUpeyF0LnBhcmVudHx8ZSYmIXQucGFyZW50LmF1dG9SZW1vdmVDaGlsZHJlbnx8dC5wYXJlbnQucmVtb3ZlKHQpLHQuX2FjdD0wfWZ1bmN0aW9uIHRhKHQsZSl7aWYodCYmKCFlfHxlLl9lbmQ+dC5fZHVyfHxlLl9zdGFydDwwKSlmb3IodmFyIHI9dDtyOylyLl9kaXJ0eT0xLHI9ci5wYXJlbnQ7cmV0dXJuIHR9ZnVuY3Rpb24gd2EodCl7cmV0dXJuIHQuX3JlcGVhdD9ndCh0Ll90VGltZSx0PXQuZHVyYXRpb24oKSt0Ll9yRGVsYXkpKnQ6MH1mdW5jdGlvbiB5YSh0LGUpe3JldHVybih0LWUuX3N0YXJ0KSplLl90cysoMDw9ZS5fdHM/MDplLl9kaXJ0eT9lLnRvdGFsRHVyYXRpb24oKTplLl90RHVyKX1mdW5jdGlvbiB6YSh0KXtyZXR1cm4gdC5fZW5kPWRhKHQuX3N0YXJ0Kyh0Ll90RHVyL01hdGguYWJzKHQuX3RzfHx0Ll9ydHN8fFgpfHwwKSl9ZnVuY3Rpb24gQWEodCxlKXt2YXIgcj10Ll9kcDtyZXR1cm4gciYmci5zbW9vdGhDaGlsZFRpbWluZyYmdC5fdHMmJih0Ll9zdGFydD1kYShyLl90aW1lLSgwPHQuX3RzP2UvdC5fdHM6KCh0Ll9kaXJ0eT90LnRvdGFsRHVyYXRpb24oKTp0Ll90RHVyKS1lKS8tdC5fdHMpKSx6YSh0KSxyLl9kaXJ0eXx8dGEocix0KSksdH1mdW5jdGlvbiBCYSh0LGUpe3ZhciByO2lmKChlLl90aW1lfHxlLl9pbml0dGVkJiYhZS5fZHVyKSYmKHI9eWEodC5yYXdUaW1lKCksZSksKCFlLl9kdXJ8fFR0KDAsZS50b3RhbER1cmF0aW9uKCksciktZS5fdFRpbWU+WCkmJmUucmVuZGVyKHIsITApKSx0YSh0LGUpLl9kcCYmdC5faW5pdHRlZCYmdC5fdGltZT49dC5fZHVyJiZ0Ll90cyl7aWYodC5fZHVyPHQuZHVyYXRpb24oKSlmb3Iocj10O3IuX2RwOykwPD1yLnJhd1RpbWUoKSYmci50b3RhbFRpbWUoci5fdFRpbWUpLHI9ci5fZHA7dC5felRpbWU9LVh9fWZ1bmN0aW9uIENhKHQsZSxyLGkpe3JldHVybiBlLnBhcmVudCYmc2EoZSksZS5fc3RhcnQ9ZGEoKHEocik/cjpyfHx0IT09ST9idCh0LHIsZSk6dC5fdGltZSkrZS5fZGVsYXkpLGUuX2VuZD1kYShlLl9zdGFydCsoZS50b3RhbER1cmF0aW9uKCkvTWF0aC5hYnMoZS50aW1lU2NhbGUoKSl8fDApKSxmdW5jdGlvbiBfYWRkTGlua2VkTGlzdEl0ZW0odCxlLHIsaSxuKXt2b2lkIDA9PT1yJiYocj0iX2ZpcnN0Iiksdm9pZCAwPT09aSYmKGk9Il9sYXN0Iik7dmFyIGEscz10W2ldO2lmKG4pZm9yKGE9ZVtuXTtzJiZzW25dPmE7KXM9cy5fcHJldjtzPyhlLl9uZXh0PXMuX25leHQscy5fbmV4dD1lKTooZS5fbmV4dD10W3JdLHRbcl09ZSksZS5fbmV4dD9lLl9uZXh0Ll9wcmV2PWU6dFtpXT1lLGUuX3ByZXY9cyxlLnBhcmVudD1lLl9kcD10fSh0LGUsIl9maXJzdCIsIl9sYXN0Iix0Ll9zb3J0PyJfc3RhcnQiOjApLHZ0KGUpfHwodC5fcmVjZW50PWUpLGl8fEJhKHQsZSksdH1mdW5jdGlvbiBEYSh0LGUpe3JldHVybihvdC5TY3JvbGxUcmlnZ2VyfHxOKCJzY3JvbGxUcmlnZ2VyIixlKSkmJm90LlNjcm9sbFRyaWdnZXIuY3JlYXRlKGUsdCl9ZnVuY3Rpb24gRWEodCxlLHIsaSl7cmV0dXJuIGp0KHQsZSksdC5faW5pdHRlZD8hciYmdC5fcHQmJih0Ll9kdXImJiExIT09dC52YXJzLmxhenl8fCF0Ll9kdXImJnQudmFycy5sYXp5KSYmZiE9PVN0LmZyYW1lPyhodC5wdXNoKHQpLHQuX2xhenk9W2UsaV0sMSk6dm9pZCAwOjF9ZnVuY3Rpb24gSmEodCxlLHIsaSl7dmFyIG49dC5fcmVwZWF0LGE9ZGEoZSl8fDAscz10Ll90VGltZS90Ll90RHVyO3JldHVybiBzJiYhaSYmKHQuX3RpbWUqPWEvdC5fZHVyKSx0Ll9kdXI9YSx0Ll90RHVyPW4/bjwwPzFlMTA6ZGEoYSoobisxKSt0Ll9yRGVsYXkqbik6YSwwPHMmJiFpP0FhKHQsdC5fdFRpbWU9dC5fdER1cipzKTp0LnBhcmVudCYmemEodCkscnx8dGEodC5wYXJlbnQsdCksdH1mdW5jdGlvbiBLYSh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIE50P3RhKHQpOkphKHQsdC5fZHVyKX1mdW5jdGlvbiBOYShlLHIsaSl7dmFyIG4sYSxzPXEoclsxXSksbz0ocz8yOjEpKyhlPDI/MDoxKSx1PXJbb107aWYocyYmKHUuZHVyYXRpb249clsxXSksdS5wYXJlbnQ9aSxlKXtmb3Iobj11LGE9aTthJiYhKCJpbW1lZGlhdGVSZW5kZXIiaW4gbik7KW49YS52YXJzLmRlZmF1bHRzfHx7fSxhPXQoYS52YXJzLmluaGVyaXQpJiZhLnBhcmVudDt1LmltbWVkaWF0ZVJlbmRlcj10KG4uaW1tZWRpYXRlUmVuZGVyKSxlPDI/dS5ydW5CYWNrd2FyZHM9MTp1LnN0YXJ0QXQ9cltvLTFdfXJldHVybiBuZXcgSnQoclswXSx1LHJbMStvXSl9ZnVuY3Rpb24gT2EodCxlKXtyZXR1cm4gdHx8MD09PXQ/ZSh0KTplfWZ1bmN0aW9uIFFhKHQsZSl7cmV0dXJuIG8odCkmJihlPXN0LmV4ZWModCkpP3Quc3Vic3RyKGUuaW5kZXgrZVswXS5sZW5ndGgpOiIifWZ1bmN0aW9uIFRhKHQsZSl7cmV0dXJuIHQmJnModCkmJiJsZW5ndGgiaW4gdCYmKCFlJiYhdC5sZW5ndGh8fHQubGVuZ3RoLTEgaW4gdCYmcyh0WzBdKSkmJiF0Lm5vZGVUeXBlJiZ0IT09aX1mdW5jdGlvbiBYYSh0KXtyZXR1cm4gdC5zb3J0KGZ1bmN0aW9uKCl7cmV0dXJuLjUtTWF0aC5yYW5kb20oKX0pfWZ1bmN0aW9uIFlhKHQpe2lmKHAodCkpcmV0dXJuIHQ7dmFyIGM9cyh0KT90OntlYWNoOnR9LF89UnQoYy5lYXNlKSxtPWMuZnJvbXx8MCxnPXBhcnNlRmxvYXQoYy5iYXNlKXx8MCx2PXt9LGU9MDxtJiZtPDEseT1pc05hTihtKXx8ZSxiPWMuYXhpcyxUPW0sdz1tO3JldHVybiBvKG0pP1Q9dz17Y2VudGVyOi41LGVkZ2VzOi41LGVuZDoxfVttXXx8MDohZSYmeSYmKFQ9bVswXSx3PW1bMV0pLGZ1bmN0aW9uKHQsZSxyKXt2YXIgaSxuLGEscyxvLHUsaCxsLGYsZD0ocnx8YykubGVuZ3RoLHA9dltkXTtpZighcCl7aWYoIShmPSJhdXRvIj09PWMuZ3JpZD8wOihjLmdyaWR8fFsxLGpdKVsxXSkpe2ZvcihoPS1qO2g8KGg9cltmKytdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpJiZmPGQ7KTtmLS19Zm9yKHA9dltkXT1bXSxpPXk/TWF0aC5taW4oZixkKSpULS41Om0lZixuPWY9PT1qPzA6eT9kKncvZi0uNTptL2Z8MCxsPWosdT1oPTA7dTxkO3UrKylhPXUlZi1pLHM9bi0odS9mfDApLHBbdV09bz1iP01hdGguYWJzKCJ5Ij09PWI/czphKTpHKGEqYStzKnMpLGg8byYmKGg9byksbzxsJiYobD1vKTsicmFuZG9tIj09PW0mJlhhKHApLHAubWF4PWgtbCxwLm1pbj1sLHAudj1kPShwYXJzZUZsb2F0KGMuYW1vdW50KXx8cGFyc2VGbG9hdChjLmVhY2gpKihkPGY/ZC0xOmI/InkiPT09Yj9kL2Y6ZjpNYXRoLm1heChmLGQvZikpfHwwKSooImVkZ2VzIj09PW0/LTE6MSkscC5iPWQ8MD9nLWQ6ZyxwLnU9UWEoYy5hbW91bnR8fGMuZWFjaCl8fDAsXz1fJiZkPDA/QnQoXyk6X31yZXR1cm4gZD0ocFt0XS1wLm1pbikvcC5tYXh8fDAsZGEocC5iKyhfP18oZCk6ZCkqcC52KStwLnV9fWZ1bmN0aW9uIFphKHIpe3ZhciBpPU1hdGgucG93KDEwLCgocisiIikuc3BsaXQoIi4iKVsxXXx8IiIpLmxlbmd0aCk7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPU1hdGgucm91bmQocGFyc2VGbG9hdCh0KS9yKSpyKmk7cmV0dXJuKGUtZSUxKS9pKyhxKHQpPzA6UWEodCkpfX1mdW5jdGlvbiAkYSh1LHQpe3ZhciBoLGwsZT1XKHUpO3JldHVybiFlJiZzKHUpJiYoaD1lPXUucmFkaXVzfHxqLHUudmFsdWVzPyh1PXh0KHUudmFsdWVzKSwobD0hcSh1WzBdKSkmJihoKj1oKSk6dT1aYSh1LmluY3JlbWVudCkpLE9hKHQsZT9wKHUpP2Z1bmN0aW9uKHQpe3JldHVybiBsPXUodCksTWF0aC5hYnMobC10KTw9aD9sOnR9OmZ1bmN0aW9uKHQpe2Zvcih2YXIgZSxyLGk9cGFyc2VGbG9hdChsP3QueDp0KSxuPXBhcnNlRmxvYXQobD90Lnk6MCksYT1qLHM9MCxvPXUubGVuZ3RoO28tLTspKGU9bD8oZT11W29dLngtaSkqZSsocj11W29dLnktbikqcjpNYXRoLmFicyh1W29dLWkpKTxhJiYoYT1lLHM9byk7cmV0dXJuIHM9IWh8fGE8PWg/dVtzXTp0LGx8fHM9PT10fHxxKHQpP3M6cytRYSh0KX06WmEodSkpfWZ1bmN0aW9uIF9hKHQsZSxyLGkpe3JldHVybiBPYShXKHQpPyFlOiEwPT09cj8hIShyPTApOiFpLGZ1bmN0aW9uKCl7cmV0dXJuIFcodCk/dFt+fihNYXRoLnJhbmRvbSgpKnQubGVuZ3RoKV06KHI9cnx8MWUtNSkmJihpPXI8MT9NYXRoLnBvdygxMCwocisiIikubGVuZ3RoLTIpOjEpJiZNYXRoLmZsb29yKE1hdGgucm91bmQoKHQtci8yK01hdGgucmFuZG9tKCkqKGUtdCsuOTkqcikpL3IpKnIqaSkvaX0pfWZ1bmN0aW9uIGRiKGUscix0KXtyZXR1cm4gT2EodCxmdW5jdGlvbih0KXtyZXR1cm4gZVt+fnIodCldfSl9ZnVuY3Rpb24gZ2IodCl7Zm9yKHZhciBlLHIsaSxuLGE9MCxzPSIiO34oZT10LmluZGV4T2YoInJhbmRvbSgiLGEpKTspaT10LmluZGV4T2YoIikiLGUpLG49IlsiPT09dC5jaGFyQXQoZSs3KSxyPXQuc3Vic3RyKGUrNyxpLWUtNykubWF0Y2gobj9hdDp0dCkscys9dC5zdWJzdHIoYSxlLWEpK19hKG4/cjorclswXSxuPzA6K3JbMV0sK3JbMl18fDFlLTUpLGE9aSsxO3JldHVybiBzK3Quc3Vic3RyKGEsdC5sZW5ndGgtYSl9ZnVuY3Rpb24gamIodCxlLHIpe3ZhciBpLG4sYSxzPXQubGFiZWxzLG89ajtmb3IoaSBpbiBzKShuPXNbaV0tZSk8MD09ISFyJiZuJiZvPihuPU1hdGguYWJzKG4pKSYmKGE9aSxvPW4pO3JldHVybiBhfWZ1bmN0aW9uIGxiKHQpe3JldHVybiBzYSh0KSx0LnNjcm9sbFRyaWdnZXImJnQuc2Nyb2xsVHJpZ2dlci5raWxsKCExKSx0LnByb2dyZXNzKCk8MSYmTXQodCwib25JbnRlcnJ1cHQiKSx0fWZ1bmN0aW9uIHFiKHQsZSxyKXtyZXR1cm4oNioodCs9dDwwPzE6MTx0Py0xOjApPDE/ZSsoci1lKSp0KjY6dDwuNT9yOjMqdDwyP2UrKHItZSkqKDIvMy10KSo2OmUpKmt0Ky41fDB9ZnVuY3Rpb24gcmIodCxlLHIpe3ZhciBpLG4sYSxzLG8sdSxoLGwsZixkLHA9dD9xKHQpP1t0Pj4xNix0Pj44Jmt0LHQma3RdOjA6Q3QuYmxhY2s7aWYoIXApe2lmKCIsIj09PXQuc3Vic3RyKC0xKSYmKHQ9dC5zdWJzdHIoMCx0Lmxlbmd0aC0xKSksQ3RbdF0pcD1DdFt0XTtlbHNlIGlmKCIjIj09PXQuY2hhckF0KDApKXtpZih0Lmxlbmd0aDw2JiYodD0iIyIrKGk9dC5jaGFyQXQoMSkpK2krKG49dC5jaGFyQXQoMikpK24rKGE9dC5jaGFyQXQoMykpK2ErKDU9PT10Lmxlbmd0aD90LmNoYXJBdCg0KSt0LmNoYXJBdCg0KToiIikpLDk9PT10Lmxlbmd0aClyZXR1cm5bKHA9cGFyc2VJbnQodC5zdWJzdHIoMSw2KSwxNikpPj4xNixwPj44Jmt0LHAma3QscGFyc2VJbnQodC5zdWJzdHIoNyksMTYpLzI1NV07cD1bKHQ9cGFyc2VJbnQodC5zdWJzdHIoMSksMTYpKT4+MTYsdD4+OCZrdCx0Jmt0XX1lbHNlIGlmKCJoc2wiPT09dC5zdWJzdHIoMCwzKSlpZihwPWQ9dC5tYXRjaCh0dCksZSl7aWYofnQuaW5kZXhPZigiPSIpKXJldHVybiBwPXQubWF0Y2goZXQpLHImJnAubGVuZ3RoPDQmJihwWzNdPTEpLHB9ZWxzZSBzPStwWzBdJTM2MC8zNjAsbz1wWzFdLzEwMCxpPTIqKHU9cFsyXS8xMDApLShuPXU8PS41P3UqKG8rMSk6dStvLXUqbyksMzxwLmxlbmd0aCYmKHBbM10qPTEpLHBbMF09cWIocysxLzMsaSxuKSxwWzFdPXFiKHMsaSxuKSxwWzJdPXFiKHMtMS8zLGksbik7ZWxzZSBwPXQubWF0Y2godHQpfHxDdC50cmFuc3BhcmVudDtwPXAubWFwKE51bWJlcil9cmV0dXJuIGUmJiFkJiYoaT1wWzBdL2t0LG49cFsxXS9rdCxhPXBbMl0va3QsdT0oKGg9TWF0aC5tYXgoaSxuLGEpKSsobD1NYXRoLm1pbihpLG4sYSkpKS8yLGg9PT1sP3M9bz0wOihmPWgtbCxvPS41PHU/Zi8oMi1oLWwpOmYvKGgrbCkscz1oPT09aT8obi1hKS9mKyhuPGE/NjowKTpoPT09bj8oYS1pKS9mKzI6KGktbikvZis0LHMqPTYwKSxwWzBdPX5+KHMrLjUpLHBbMV09fn4oMTAwKm8rLjUpLHBbMl09fn4oMTAwKnUrLjUpKSxyJiZwLmxlbmd0aDw0JiYocFszXT0xKSxwfWZ1bmN0aW9uIHNiKHQpe3ZhciByPVtdLGk9W10sbj0tMTtyZXR1cm4gdC5zcGxpdChQdCkuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT10Lm1hdGNoKHJ0KXx8W107ci5wdXNoLmFwcGx5KHIsZSksaS5wdXNoKG4rPWUubGVuZ3RoKzEpfSksci5jPWkscn1mdW5jdGlvbiB0Yih0LGUscil7dmFyIGksbixhLHMsbz0iIix1PSh0K28pLm1hdGNoKFB0KSxoPWU/ImhzbGEoIjoicmdiYSgiLGw9MDtpZighdSlyZXR1cm4gdDtpZih1PXUubWFwKGZ1bmN0aW9uKHQpe3JldHVybih0PXJiKHQsZSwxKSkmJmgrKGU/dFswXSsiLCIrdFsxXSsiJSwiK3RbMl0rIiUsIit0WzNdOnQuam9pbigiLCIpKSsiKSJ9KSxyJiYoYT1zYih0KSwoaT1yLmMpLmpvaW4obykhPT1hLmMuam9pbihvKSkpZm9yKHM9KG49dC5yZXBsYWNlKFB0LCIxIikuc3BsaXQocnQpKS5sZW5ndGgtMTtsPHM7bCsrKW8rPW5bbF0rKH5pLmluZGV4T2YobCk/dS5zaGlmdCgpfHxoKyIwLDAsMCwwKSI6KGEubGVuZ3RoP2E6dS5sZW5ndGg/dTpyKS5zaGlmdCgpKTtpZighbilmb3Iocz0obj10LnNwbGl0KFB0KSkubGVuZ3RoLTE7bDxzO2wrKylvKz1uW2xdK3VbbF07cmV0dXJuIG8rbltzXX1mdW5jdGlvbiB3Yih0KXt2YXIgZSxyPXQuam9pbigiICIpO2lmKFB0Lmxhc3RJbmRleD0wLFB0LnRlc3QocikpcmV0dXJuIGU9QXQudGVzdChyKSx0WzFdPXRiKHRbMV0sZSksdFswXT10Yih0WzBdLGUsc2IodFsxXSkpLCEwfWZ1bmN0aW9uIEZiKHQpe3ZhciBlPSh0KyIiKS5zcGxpdCgiKCIpLHI9enRbZVswXV07cmV0dXJuIHImJjE8ZS5sZW5ndGgmJnIuY29uZmlnP3IuY29uZmlnLmFwcGx5KG51bGwsfnQuaW5kZXhPZigieyIpP1tmdW5jdGlvbiBfcGFyc2VPYmplY3RJblN0cmluZyh0KXtmb3IodmFyIGUscixpLG49e30sYT10LnN1YnN0cigxLHQubGVuZ3RoLTMpLnNwbGl0KCI6Iikscz1hWzBdLG89MSx1PWEubGVuZ3RoO288dTtvKyspcj1hW29dLGU9byE9PXUtMT9yLmxhc3RJbmRleE9mKCIsIik6ci5sZW5ndGgsaT1yLnN1YnN0cigwLGUpLG5bc109aXNOYU4oaSk/aS5yZXBsYWNlKEV0LCIiKS50cmltKCk6K2kscz1yLnN1YnN0cihlKzEpLnRyaW0oKTtyZXR1cm4gbn0oZVsxXSldOmZ1bmN0aW9uIF92YWx1ZUluUGFyZW50aGVzZXModCl7dmFyIGU9dC5pbmRleE9mKCIoIikrMSxyPXQuaW5kZXhPZigiKSIpLGk9dC5pbmRleE9mKCIoIixlKTtyZXR1cm4gdC5zdWJzdHJpbmcoZSx+aSYmaTxyP3QuaW5kZXhPZigiKSIscisxKTpyKX0odCkuc3BsaXQoIiwiKS5tYXAoaGEpKTp6dC5fQ0UmJkZ0LnRlc3QodCk/enQuX0NFKCIiLHQpOnJ9ZnVuY3Rpb24gSGIodCxlKXtmb3IodmFyIHIsaT10Ll9maXJzdDtpOylpIGluc3RhbmNlb2YgTnQ/SGIoaSxlKTohaS52YXJzLnlveW9FYXNlfHxpLl95b3lvJiZpLl9yZXBlYXR8fGkuX3lveW89PT1lfHwoaS50aW1lbGluZT9IYihpLnRpbWVsaW5lLGUpOihyPWkuX2Vhc2UsaS5fZWFzZT1pLl95RWFzZSxpLl95RWFzZT1yLGkuX3lveW89ZSkpLGk9aS5fbmV4dH1mdW5jdGlvbiBKYih0LGUscixpKXt2b2lkIDA9PT1yJiYocj1mdW5jdGlvbiBlYXNlT3V0KHQpe3JldHVybiAxLWUoMS10KX0pLHZvaWQgMD09PWkmJihpPWZ1bmN0aW9uIGVhc2VJbk91dCh0KXtyZXR1cm4gdDwuNT9lKDIqdCkvMjoxLWUoMiooMS10KSkvMn0pO3ZhciBuLGE9e2Vhc2VJbjplLGVhc2VPdXQ6cixlYXNlSW5PdXQ6aX07cmV0dXJuIGJhKHQsZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHp0W3RdPW90W3RdPWEsenRbbj10LnRvTG93ZXJDYXNlKCldPXIsYSl6dFtuKygiZWFzZUluIj09PWU/Ii5pbiI6ImVhc2VPdXQiPT09ZT8iLm91dCI6Ii5pbk91dCIpXT16dFt0KyIuIitlXT1hW2VdfSksYX1mdW5jdGlvbiBLYihlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/KDEtZSgxLTIqdCkpLzI6LjUrZSgyKih0LS41KSkvMn19ZnVuY3Rpb24gTGIocix0LGUpe2Z1bmN0aW9uIFNsKHQpe3JldHVybiAxPT09dD8xOmkqTWF0aC5wb3coMiwtMTAqdCkqSygodC1hKSpuKSsxfXZhciBpPTE8PXQ/dDoxLG49KGV8fChyPy4zOi40NSkpLyh0PDE/dDoxKSxhPW4vVSooTWF0aC5hc2luKDEvaSl8fDApLHM9Im91dCI9PT1yP1NsOiJpbiI9PT1yP2Z1bmN0aW9uKHQpe3JldHVybiAxLVNsKDEtdCl9OktiKFNsKTtyZXR1cm4gbj1VL24scy5jb25maWc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gTGIocix0LGUpfSxzfWZ1bmN0aW9uIE1iKGUscil7ZnVuY3Rpb24gJGwodCl7cmV0dXJuIHQ/LS10KnQqKChyKzEpKnQrcikrMTowfXZvaWQgMD09PXImJihyPTEuNzAxNTgpO3ZhciB0PSJvdXQiPT09ZT8kbDoiaW4iPT09ZT9mdW5jdGlvbih0KXtyZXR1cm4gMS0kbCgxLXQpfTpLYigkbCk7cmV0dXJuIHQuY29uZmlnPWZ1bmN0aW9uKHQpe3JldHVybiBNYihlLHQpfSx0fXZhciBSLEksaSxuLGEsaCxsLGYsZCxjLG0sZyx5LGIsVCx3LHgsayxDLEEsUyxELHosRixFLEIsWT17YXV0b1NsZWVwOjEyMCxmb3JjZTNEOiJhdXRvIixudWxsVGFyZ2V0V2FybjoxLHVuaXRzOntsaW5lSGVpZ2h0OiIifX0sTD17ZHVyYXRpb246LjUsb3ZlcndyaXRlOiExLGRlbGF5OjB9LGo9MWU4LFg9MS9qLFU9MipNYXRoLlBJLFY9VS80LEo9MCxHPU1hdGguc3FydCxaPU1hdGguY29zLEs9TWF0aC5zaW4sSD0iZnVuY3Rpb24iPT10eXBlb2YgQXJyYXlCdWZmZXImJkFycmF5QnVmZmVyLmlzVmlld3x8ZnVuY3Rpb24oKXt9LFc9QXJyYXkuaXNBcnJheSx0dD0vKD86LT9cLj9cZHxcLikrL2dpLGV0PS9bLSs9Ll0qXGQrWy5lXC0rXSpcZCpbZVwtK10qXGQqL2cscnQ9L1stKz0uXSpcZCtbLmUtXSpcZCpbYS16JV0qL2csaXQ9L1stKz0uXSpcZCtcLj9cZCooPzplLXxlXCspP1xkKi9naSxudD0vWystXT0tP1suXGRdKy8sYXQ9L1teLCciXFtcXVxzXSsvZ2ksc3Q9L1tcZC4rXC09XSsoPzplWy0rXVxkKikqL2ksb3Q9e30sdXQ9e30saHQ9W10sbHQ9e30sZnQ9e30sZHQ9e30scHQ9MzAsY3Q9W10sX3Q9IiIsbXQ9ZnVuY3Rpb24gX21lcmdlKHQsZSl7Zm9yKHZhciByIGluIGUpdFtyXT1lW3JdO3JldHVybiB0fSxndD1mdW5jdGlvbiBfYW5pbWF0aW9uQ3ljbGUodCxlKXt2YXIgcj1NYXRoLmZsb29yKHQvPWUpO3JldHVybiB0JiZyPT09dD9yLTE6cn0sdnQ9ZnVuY3Rpb24gX2lzRnJvbU9yRnJvbVN0YXJ0KHQpe3ZhciBlPXQuZGF0YTtyZXR1cm4iaXNGcm9tU3RhcnQiPT09ZXx8ImlzU3RhcnQiPT09ZX0seXQ9e19zdGFydDowLGVuZFRpbWU6USx0b3RhbER1cmF0aW9uOlF9LGJ0PWZ1bmN0aW9uIF9wYXJzZVBvc2l0aW9uKHQsZSxyKXt2YXIgaSxuLGEscz10LmxhYmVscyx1PXQuX3JlY2VudHx8eXQsaD10LmR1cmF0aW9uKCk+PWo/dS5lbmRUaW1lKCExKTp0Ll9kdXI7cmV0dXJuIG8oZSkmJihpc05hTihlKXx8ZSBpbiBzKT8obj1lLmNoYXJBdCgwKSxhPSIlIj09PWUuc3Vic3RyKC0xKSxpPWUuaW5kZXhPZigiPSIpLCI8Ij09PW58fCI+Ij09PW4/KDA8PWkmJihlPWUucmVwbGFjZSgvPS8sIiIpKSwoIjwiPT09bj91Ll9zdGFydDp1LmVuZFRpbWUoMDw9dS5fcmVwZWF0KSkrKHBhcnNlRmxvYXQoZS5zdWJzdHIoMSkpfHwwKSooYT8oaTwwP3U6cikudG90YWxEdXJhdGlvbigpLzEwMDoxKSk6aTwwPyhlIGluIHN8fChzW2VdPWgpLHNbZV0pOihuPXBhcnNlRmxvYXQoZS5jaGFyQXQoaS0xKStlLnN1YnN0cihpKzEpKSxhJiZyJiYobj1uLzEwMCooVyhyKT9yWzBdOnIpLnRvdGFsRHVyYXRpb24oKSksMTxpP19wYXJzZVBvc2l0aW9uKHQsZS5zdWJzdHIoMCxpLTEpLHIpK246aCtuKSk6bnVsbD09ZT9oOitlfSxUdD1mdW5jdGlvbiBfY2xhbXAodCxlLHIpe3JldHVybiByPHQ/dDplPHI/ZTpyfSx3dD1bXS5zbGljZSx4dD1mdW5jdGlvbiB0b0FycmF5KHQsZSxyKXtyZXR1cm4hbyh0KXx8cnx8IW4mJkR0KCk/Vyh0KT9mdW5jdGlvbiBfZmxhdHRlbih0LGUscil7cmV0dXJuIHZvaWQgMD09PXImJihyPVtdKSx0LmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG8odCkmJiFlfHxUYSh0LDEpP3IucHVzaC5hcHBseShyLHh0KHQpKTpyLnB1c2godCl9KXx8cn0odCxyKTpUYSh0KT93dC5jYWxsKHQsMCk6dD9bdF06W106d3QuY2FsbCgoZXx8YSkucXVlcnlTZWxlY3RvckFsbCh0KSwwKX0sT3Q9ZnVuY3Rpb24gbWFwUmFuZ2UoZSx0LHIsaSxuKXt2YXIgYT10LWUscz1pLXI7cmV0dXJuIE9hKG4sZnVuY3Rpb24odCl7cmV0dXJuIHIrKCh0LWUpL2Eqc3x8MCl9KX0sTXQ9ZnVuY3Rpb24gX2NhbGxiYWNrKHQsZSxyKXt2YXIgaSxuLGE9dC52YXJzLHM9YVtlXTtpZihzKXJldHVybiBpPWFbZSsiUGFyYW1zIl0sbj1hLmNhbGxiYWNrU2NvcGV8fHQsciYmaHQubGVuZ3RoJiZmYSgpLGk/cy5hcHBseShuLGkpOnMuY2FsbChuKX0sa3Q9MjU1LEN0PXthcXVhOlswLGt0LGt0XSxsaW1lOlswLGt0LDBdLHNpbHZlcjpbMTkyLDE5MiwxOTJdLGJsYWNrOlswLDAsMF0sbWFyb29uOlsxMjgsMCwwXSx0ZWFsOlswLDEyOCwxMjhdLGJsdWU6WzAsMCxrdF0sbmF2eTpbMCwwLDEyOF0sd2hpdGU6W2t0LGt0LGt0XSxvbGl2ZTpbMTI4LDEyOCwwXSx5ZWxsb3c6W2t0LGt0LDBdLG9yYW5nZTpba3QsMTY1LDBdLGdyYXk6WzEyOCwxMjgsMTI4XSxwdXJwbGU6WzEyOCwwLDEyOF0sZ3JlZW46WzAsMTI4LDBdLHJlZDpba3QsMCwwXSxwaW5rOltrdCwxOTIsMjAzXSxjeWFuOlswLGt0LGt0XSx0cmFuc3BhcmVudDpba3Qsa3Qsa3QsMF19LFB0PWZ1bmN0aW9uKCl7dmFyIHQsZT0iKD86XFxiKD86KD86cmdifHJnYmF8aHNsfGhzbGEpXFwoLis/XFwpKXxcXEIjKD86WzAtOWEtZl17Myw0fSl7MSwyfVxcYiI7Zm9yKHQgaW4gQ3QpZSs9InwiK3QrIlxcYiI7cmV0dXJuIG5ldyBSZWdFeHAoZSsiKSIsImdpIil9KCksQXQ9L2hzbFthXT9cKC8sU3Q9KHg9RGF0ZS5ub3csaz01MDAsQz0zMyxBPXgoKSxTPUEsej1EPTFlMy8yNDAsYj17dGltZTowLGZyYW1lOjAsdGljazpmdW5jdGlvbiB0aWNrKCl7T2soITApfSxkZWx0YVJhdGlvOmZ1bmN0aW9uIGRlbHRhUmF0aW8odCl7cmV0dXJuIFQvKDFlMy8odHx8NjApKX0sd2FrZTpmdW5jdGlvbiB3YWtlKCl7bCYmKCFuJiZ1KCkmJihpPW49d2luZG93LGE9aS5kb2N1bWVudHx8e30sb3QuZ3NhcD1vZSwoaS5nc2FwVmVyc2lvbnN8fChpLmdzYXBWZXJzaW9ucz1bXSkpLnB1c2gob2UudmVyc2lvbiksTShofHxpLkdyZWVuU29ja0dsb2JhbHN8fCFpLmdzYXAmJml8fHt9KSx5PWkucmVxdWVzdEFuaW1hdGlvbkZyYW1lKSxtJiZiLnNsZWVwKCksZz15fHxmdW5jdGlvbih0KXtyZXR1cm4gc2V0VGltZW91dCh0LHotMWUzKmIudGltZSsxfDApfSxjPTEsT2soMikpfSxzbGVlcDpmdW5jdGlvbiBzbGVlcCgpeyh5P2kuY2FuY2VsQW5pbWF0aW9uRnJhbWU6Y2xlYXJUaW1lb3V0KShtKSxjPTAsZz1RfSxsYWdTbW9vdGhpbmc6ZnVuY3Rpb24gbGFnU21vb3RoaW5nKHQsZSl7az10fHwxZTgsQz1NYXRoLm1pbihlLGssMCl9LGZwczpmdW5jdGlvbiBmcHModCl7RD0xZTMvKHR8fDI0MCksej0xZTMqYi50aW1lK0R9LGFkZDpmdW5jdGlvbiBhZGQodCl7Ri5pbmRleE9mKHQpPDAmJkYucHVzaCh0KSxEdCgpfSxyZW1vdmU6ZnVuY3Rpb24gcmVtb3ZlKHQsZSl7fihlPUYuaW5kZXhPZih0KSkmJkYuc3BsaWNlKGUsMSkmJmU8PXcmJnctLX0sX2xpc3RlbmVyczpGPVtdfSksRHQ9ZnVuY3Rpb24gX3dha2UoKXtyZXR1cm4hYyYmU3Qud2FrZSgpfSx6dD17fSxGdD0vXltcZC5cLU1dW1xkLlwtLFxzXS8sRXQ9L1siJ10vZyxCdD1mdW5jdGlvbiBfaW52ZXJ0RWFzZShlKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIDEtZSgxLXQpfX0sUnQ9ZnVuY3Rpb24gX3BhcnNlRWFzZSh0LGUpe3JldHVybiB0JiYocCh0KT90Onp0W3RdfHxGYih0KSl8fGV9O2Z1bmN0aW9uIE9rKHQpe3ZhciBlLHIsaSxuLGE9eCgpLVMscz0hMD09PXQ7aWYoazxhJiYoQSs9YS1DKSwoMDwoZT0oaT0oUys9YSktQSkteil8fHMpJiYobj0rK2IuZnJhbWUsVD1pLTFlMypiLnRpbWUsYi50aW1lPWkvPTFlMyx6Kz1lKyhEPD1lPzQ6RC1lKSxyPTEpLHN8fChtPWcoT2spKSxyKWZvcih3PTA7dzxGLmxlbmd0aDt3KyspRlt3XShpLFQsbix0KX1mdW5jdGlvbiBwbSh0KXtyZXR1cm4gdDxCP0UqdCp0OnQ8LjcyNzI3MjcyNzI3MjcyNzM/RSpNYXRoLnBvdyh0LTEuNS8yLjc1LDIpKy43NTp0PC45MDkwOTA5MDkwOTA5MDkyP0UqKHQtPTIuMjUvMi43NSkqdCsuOTM3NTpFKk1hdGgucG93KHQtMi42MjUvMi43NSwyKSsuOTg0Mzc1fWJhKCJMaW5lYXIsUXVhZCxDdWJpYyxRdWFydCxRdWludCxTdHJvbmciLGZ1bmN0aW9uKHQsZSl7dmFyIHI9ZTw1P2UrMTplO0piKHQrIixQb3dlciIrKHItMSksZT9mdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5wb3codCxyKX06ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGZ1bmN0aW9uKHQpe3JldHVybiAxLU1hdGgucG93KDEtdCxyKX0sZnVuY3Rpb24odCl7cmV0dXJuIHQ8LjU/TWF0aC5wb3coMip0LHIpLzI6MS1NYXRoLnBvdygyKigxLXQpLHIpLzJ9KX0pLHp0LkxpbmVhci5lYXNlTm9uZT16dC5ub25lPXp0LkxpbmVhci5lYXNlSW4sSmIoIkVsYXN0aWMiLExiKCJpbiIpLExiKCJvdXQiKSxMYigpKSxFPTcuNTYyNSxCPTEvMi43NSxKYigiQm91bmNlIixmdW5jdGlvbih0KXtyZXR1cm4gMS1wbSgxLXQpfSxwbSksSmIoIkV4cG8iLGZ1bmN0aW9uKHQpe3JldHVybiB0P01hdGgucG93KDIsMTAqKHQtMSkpOjB9KSxKYigiQ2lyYyIsZnVuY3Rpb24odCl7cmV0dXJuLShHKDEtdCp0KS0xKX0pLEpiKCJTaW5lIixmdW5jdGlvbih0KXtyZXR1cm4gMT09PXQ/MToxLVoodCpWKX0pLEpiKCJCYWNrIixNYigiaW4iKSxNYigib3V0IiksTWIoKSksenQuU3RlcHBlZEVhc2U9enQuc3RlcHM9b3QuU3RlcHBlZEVhc2U9e2NvbmZpZzpmdW5jdGlvbiBjb25maWcodCxlKXt2b2lkIDA9PT10JiYodD0xKTt2YXIgcj0xL3QsaT10KyhlPzA6MSksbj1lPzE6MDtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuKChpKlR0KDAsLjk5OTk5OTk5LHQpfDApK24pKnJ9fX0sTC5lYXNlPXp0WyJxdWFkLm91dCJdLGJhKCJvbkNvbXBsZXRlLG9uVXBkYXRlLG9uU3RhcnQsb25SZXBlYXQsb25SZXZlcnNlQ29tcGxldGUsb25JbnRlcnJ1cHQiLGZ1bmN0aW9uKHQpe3JldHVybiBfdCs9dCsiLCIrdCsiUGFyYW1zLCJ9KTt2YXIgSXQsTHQ9ZnVuY3Rpb24gR1NDYWNoZSh0LGUpe3RoaXMuaWQ9SisrLCh0Ll9nc2FwPXRoaXMpLnRhcmdldD10LHRoaXMuaGFybmVzcz1lLHRoaXMuZ2V0PWU/ZS5nZXQ6YWEsdGhpcy5zZXQ9ZT9lLmdldFNldHRlcjpLdH0scXQ9KChJdD1BbmltYXRpb24ucHJvdG90eXBlKS5kZWxheT1mdW5jdGlvbiBkZWxheSh0KXtyZXR1cm4gdHx8MD09PXQ/KHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5zbW9vdGhDaGlsZFRpbWluZyYmdGhpcy5zdGFydFRpbWUodGhpcy5fc3RhcnQrdC10aGlzLl9kZWxheSksdGhpcy5fZGVsYXk9dCx0aGlzKTp0aGlzLl9kZWxheX0sSXQuZHVyYXRpb249ZnVuY3Rpb24gZHVyYXRpb24odCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/dGhpcy50b3RhbER1cmF0aW9uKDA8dGhpcy5fcmVwZWF0P3QrKHQrdGhpcy5fckRlbGF5KSp0aGlzLl9yZXBlYXQ6dCk6dGhpcy50b3RhbER1cmF0aW9uKCkmJnRoaXMuX2R1cn0sSXQudG90YWxEdXJhdGlvbj1mdW5jdGlvbiB0b3RhbER1cmF0aW9uKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9kaXJ0eT0wLEphKHRoaXMsdGhpcy5fcmVwZWF0PDA/dDoodC10aGlzLl9yZXBlYXQqdGhpcy5fckRlbGF5KS8odGhpcy5fcmVwZWF0KzEpKSk6dGhpcy5fdER1cn0sSXQudG90YWxUaW1lPWZ1bmN0aW9uIHRvdGFsVGltZSh0LGUpe2lmKER0KCksIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX3RUaW1lO3ZhciByPXRoaXMuX2RwO2lmKHImJnIuc21vb3RoQ2hpbGRUaW1pbmcmJnRoaXMuX3RzKXtmb3IoQWEodGhpcyx0KSwhci5fZHB8fHIucGFyZW50fHxCYShyLHRoaXMpO3ImJnIucGFyZW50OylyLnBhcmVudC5fdGltZSE9PXIuX3N0YXJ0KygwPD1yLl90cz9yLl90VGltZS9yLl90czooci50b3RhbER1cmF0aW9uKCktci5fdFRpbWUpLy1yLl90cykmJnIudG90YWxUaW1lKHIuX3RUaW1lLCEwKSxyPXIucGFyZW50OyF0aGlzLnBhcmVudCYmdGhpcy5fZHAuYXV0b1JlbW92ZUNoaWxkcmVuJiYoMDx0aGlzLl90cyYmdDx0aGlzLl90RHVyfHx0aGlzLl90czwwJiYwPHR8fCF0aGlzLl90RHVyJiYhdCkmJkNhKHRoaXMuX2RwLHRoaXMsdGhpcy5fc3RhcnQtdGhpcy5fZGVsYXkpfXJldHVybih0aGlzLl90VGltZSE9PXR8fCF0aGlzLl9kdXImJiFlfHx0aGlzLl9pbml0dGVkJiZNYXRoLmFicyh0aGlzLl96VGltZSk9PT1YfHwhdCYmIXRoaXMuX2luaXR0ZWQmJih0aGlzLmFkZHx8dGhpcy5fcHRMb29rdXApKSYmKHRoaXMuX3RzfHwodGhpcy5fcFRpbWU9dCksZ2EodGhpcyx0LGUpKSx0aGlzfSxJdC50aW1lPWZ1bmN0aW9uIHRpbWUodCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZShNYXRoLm1pbih0aGlzLnRvdGFsRHVyYXRpb24oKSx0K3dhKHRoaXMpKSUodGhpcy5fZHVyK3RoaXMuX3JEZWxheSl8fCh0P3RoaXMuX2R1cjowKSxlKTp0aGlzLl90aW1lfSxJdC50b3RhbFByb2dyZXNzPWZ1bmN0aW9uIHRvdGFsUHJvZ3Jlc3ModCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLnRvdGFsRHVyYXRpb24oKSp0LGUpOnRoaXMudG90YWxEdXJhdGlvbigpP01hdGgubWluKDEsdGhpcy5fdFRpbWUvdGhpcy5fdER1cik6dGhpcy5yYXRpb30sSXQucHJvZ3Jlc3M9ZnVuY3Rpb24gcHJvZ3Jlc3ModCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLmR1cmF0aW9uKCkqKCF0aGlzLl95b3lvfHwxJnRoaXMuaXRlcmF0aW9uKCk/dDoxLXQpK3dhKHRoaXMpLGUpOnRoaXMuZHVyYXRpb24oKT9NYXRoLm1pbigxLHRoaXMuX3RpbWUvdGhpcy5fZHVyKTp0aGlzLnJhdGlvfSxJdC5pdGVyYXRpb249ZnVuY3Rpb24gaXRlcmF0aW9uKHQsZSl7dmFyIHI9dGhpcy5kdXJhdGlvbigpK3RoaXMuX3JEZWxheTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD90aGlzLnRvdGFsVGltZSh0aGlzLl90aW1lKyh0LTEpKnIsZSk6dGhpcy5fcmVwZWF0P2d0KHRoaXMuX3RUaW1lLHIpKzE6MX0sSXQudGltZVNjYWxlPWZ1bmN0aW9uIHRpbWVTY2FsZSh0KXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy5fcnRzPT09LVg/MDp0aGlzLl9ydHM7aWYodGhpcy5fcnRzPT09dClyZXR1cm4gdGhpczt2YXIgZT10aGlzLnBhcmVudCYmdGhpcy5fdHM/eWEodGhpcy5wYXJlbnQuX3RpbWUsdGhpcyk6dGhpcy5fdFRpbWU7cmV0dXJuIHRoaXMuX3J0cz0rdHx8MCx0aGlzLl90cz10aGlzLl9wc3x8dD09PS1YPzA6dGhpcy5fcnRzLGZ1bmN0aW9uIF9yZWNhY2hlQW5jZXN0b3JzKHQpe2Zvcih2YXIgZT10LnBhcmVudDtlJiZlLnBhcmVudDspZS5fZGlydHk9MSxlLnRvdGFsRHVyYXRpb24oKSxlPWUucGFyZW50fSh0aGlzLnRvdGFsVGltZShUdCgtdGhpcy5fZGVsYXksdGhpcy5fdER1cixlKSwhMCkpLHphKHRoaXMpLHRoaXN9LEl0LnBhdXNlZD1mdW5jdGlvbiBwYXVzZWQodCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHRoaXMuX3BzIT09dCYmKCh0aGlzLl9wcz10KT8odGhpcy5fcFRpbWU9dGhpcy5fdFRpbWV8fE1hdGgubWF4KC10aGlzLl9kZWxheSx0aGlzLnJhd1RpbWUoKSksdGhpcy5fdHM9dGhpcy5fYWN0PTApOihEdCgpLHRoaXMuX3RzPXRoaXMuX3J0cyx0aGlzLnRvdGFsVGltZSh0aGlzLnBhcmVudCYmIXRoaXMucGFyZW50LnNtb290aENoaWxkVGltaW5nP3RoaXMucmF3VGltZSgpOnRoaXMuX3RUaW1lfHx0aGlzLl9wVGltZSwxPT09dGhpcy5wcm9ncmVzcygpJiZNYXRoLmFicyh0aGlzLl96VGltZSkhPT1YJiYodGhpcy5fdFRpbWUtPVgpKSkpLHRoaXMpOnRoaXMuX3BzfSxJdC5zdGFydFRpbWU9ZnVuY3Rpb24gc3RhcnRUaW1lKHQpe2lmKGFyZ3VtZW50cy5sZW5ndGgpe3RoaXMuX3N0YXJ0PXQ7dmFyIGU9dGhpcy5wYXJlbnR8fHRoaXMuX2RwO3JldHVybiFlfHwhZS5fc29ydCYmdGhpcy5wYXJlbnR8fENhKGUsdGhpcyx0LXRoaXMuX2RlbGF5KSx0aGlzfXJldHVybiB0aGlzLl9zdGFydH0sSXQuZW5kVGltZT1mdW5jdGlvbiBlbmRUaW1lKGUpe3JldHVybiB0aGlzLl9zdGFydCsodChlKT90aGlzLnRvdGFsRHVyYXRpb24oKTp0aGlzLmR1cmF0aW9uKCkpL01hdGguYWJzKHRoaXMuX3RzfHwxKX0sSXQucmF3VGltZT1mdW5jdGlvbiByYXdUaW1lKHQpe3ZhciBlPXRoaXMucGFyZW50fHx0aGlzLl9kcDtyZXR1cm4gZT90JiYoIXRoaXMuX3RzfHx0aGlzLl9yZXBlYXQmJnRoaXMuX3RpbWUmJnRoaXMudG90YWxQcm9ncmVzcygpPDEpP3RoaXMuX3RUaW1lJSh0aGlzLl9kdXIrdGhpcy5fckRlbGF5KTp0aGlzLl90cz95YShlLnJhd1RpbWUodCksdGhpcyk6dGhpcy5fdFRpbWU6dGhpcy5fdFRpbWV9LEl0Lmdsb2JhbFRpbWU9ZnVuY3Rpb24gZ2xvYmFsVGltZSh0KXtmb3IodmFyIGU9dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGg/dDplLnJhd1RpbWUoKTtlOylyPWUuX3N0YXJ0K3IvKGUuX3RzfHwxKSxlPWUuX2RwO3JldHVybiByfSxJdC5yZXBlYXQ9ZnVuY3Rpb24gcmVwZWF0KHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyh0aGlzLl9yZXBlYXQ9dD09PTEvMD8tMjp0LEthKHRoaXMpKTotMj09PXRoaXMuX3JlcGVhdD8xLzA6dGhpcy5fcmVwZWF0fSxJdC5yZXBlYXREZWxheT1mdW5jdGlvbiByZXBlYXREZWxheSh0KXtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgZT10aGlzLl90aW1lO3JldHVybiB0aGlzLl9yRGVsYXk9dCxLYSh0aGlzKSxlP3RoaXMudGltZShlKTp0aGlzfXJldHVybiB0aGlzLl9yRGVsYXl9LEl0LnlveW89ZnVuY3Rpb24geW95byh0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5feW95bz10LHRoaXMpOnRoaXMuX3lveW99LEl0LnNlZWs9ZnVuY3Rpb24gc2VlayhlLHIpe3JldHVybiB0aGlzLnRvdGFsVGltZShidCh0aGlzLGUpLHQocikpfSxJdC5yZXN0YXJ0PWZ1bmN0aW9uIHJlc3RhcnQoZSxyKXtyZXR1cm4gdGhpcy5wbGF5KCkudG90YWxUaW1lKGU/LXRoaXMuX2RlbGF5OjAsdChyKSl9LEl0LnBsYXk9ZnVuY3Rpb24gcGxheSh0LGUpe3JldHVybiBudWxsIT10JiZ0aGlzLnNlZWsodCxlKSx0aGlzLnJldmVyc2VkKCExKS5wYXVzZWQoITEpfSxJdC5yZXZlcnNlPWZ1bmN0aW9uIHJldmVyc2UodCxlKXtyZXR1cm4gbnVsbCE9dCYmdGhpcy5zZWVrKHR8fHRoaXMudG90YWxEdXJhdGlvbigpLGUpLHRoaXMucmV2ZXJzZWQoITApLnBhdXNlZCghMSl9LEl0LnBhdXNlPWZ1bmN0aW9uIHBhdXNlKHQsZSl7cmV0dXJuIG51bGwhPXQmJnRoaXMuc2Vlayh0LGUpLHRoaXMucGF1c2VkKCEwKX0sSXQucmVzdW1lPWZ1bmN0aW9uIHJlc3VtZSgpe3JldHVybiB0aGlzLnBhdXNlZCghMSl9LEl0LnJldmVyc2VkPWZ1bmN0aW9uIHJldmVyc2VkKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyghIXQhPT10aGlzLnJldmVyc2VkKCkmJnRoaXMudGltZVNjYWxlKC10aGlzLl9ydHN8fCh0Py1YOjApKSx0aGlzKTp0aGlzLl9ydHM8MH0sSXQuaW52YWxpZGF0ZT1mdW5jdGlvbiBpbnZhbGlkYXRlKCl7cmV0dXJuIHRoaXMuX2luaXR0ZWQ9dGhpcy5fYWN0PTAsdGhpcy5felRpbWU9LVgsdGhpc30sSXQuaXNBY3RpdmU9ZnVuY3Rpb24gaXNBY3RpdmUoKXt2YXIgdCxlPXRoaXMucGFyZW50fHx0aGlzLl9kcCxyPXRoaXMuX3N0YXJ0O3JldHVybiEoZSYmISh0aGlzLl90cyYmdGhpcy5faW5pdHRlZCYmZS5pc0FjdGl2ZSgpJiYodD1lLnJhd1RpbWUoITApKT49ciYmdDx0aGlzLmVuZFRpbWUoITApLVgpKX0sSXQuZXZlbnRDYWxsYmFjaz1mdW5jdGlvbiBldmVudENhbGxiYWNrKHQsZSxyKXt2YXIgaT10aGlzLnZhcnM7cmV0dXJuIDE8YXJndW1lbnRzLmxlbmd0aD8oZT8oaVt0XT1lLHImJihpW3QrIlBhcmFtcyJdPXIpLCJvblVwZGF0ZSI9PT10JiYodGhpcy5fb25VcGRhdGU9ZSkpOmRlbGV0ZSBpW3RdLHRoaXMpOmlbdF19LEl0LnRoZW49ZnVuY3Rpb24gdGhlbih0KXt2YXIgaT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlKXtmdW5jdGlvbiBHbigpe3ZhciB0PWkudGhlbjtpLnRoZW49bnVsbCxwKHIpJiYocj1yKGkpKSYmKHIudGhlbnx8cj09PWkpJiYoaS50aGVuPXQpLGUociksaS50aGVuPXR9dmFyIHI9cCh0KT90OmlhO2kuX2luaXR0ZWQmJjE9PT1pLnRvdGFsUHJvZ3Jlc3MoKSYmMDw9aS5fdHN8fCFpLl90VGltZSYmaS5fdHM8MD9HbigpOmkuX3Byb209R259KX0sSXQua2lsbD1mdW5jdGlvbiBraWxsKCl7bGIodGhpcyl9LEFuaW1hdGlvbik7ZnVuY3Rpb24gQW5pbWF0aW9uKHQpe3RoaXMudmFycz10LHRoaXMuX2RlbGF5PSt0LmRlbGF5fHwwLCh0aGlzLl9yZXBlYXQ9dC5yZXBlYXQ9PT0xLzA/LTI6dC5yZXBlYXR8fDApJiYodGhpcy5fckRlbGF5PXQucmVwZWF0RGVsYXl8fDAsdGhpcy5feW95bz0hIXQueW95b3x8ISF0LnlveW9FYXNlKSx0aGlzLl90cz0xLEphKHRoaXMsK3QuZHVyYXRpb24sMSwxKSx0aGlzLmRhdGE9dC5kYXRhLGN8fFN0Lndha2UoKX1qYShxdC5wcm90b3R5cGUse190aW1lOjAsX3N0YXJ0OjAsX2VuZDowLF90VGltZTowLF90RHVyOjAsX2RpcnR5OjAsX3JlcGVhdDowLF95b3lvOiExLHBhcmVudDpudWxsLF9pbml0dGVkOiExLF9yRGVsYXk6MCxfdHM6MSxfZHA6MCxyYXRpbzowLF96VGltZTotWCxfcHJvbTowLF9wczohMSxfcnRzOjF9KTt2YXIgTnQ9ZnVuY3Rpb24obil7ZnVuY3Rpb24gVGltZWxpbmUoZSxyKXt2YXIgaTtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLChpPW4uY2FsbCh0aGlzLGUpfHx0aGlzKS5sYWJlbHM9e30saS5zbW9vdGhDaGlsZFRpbWluZz0hIWUuc21vb3RoQ2hpbGRUaW1pbmcsaS5hdXRvUmVtb3ZlQ2hpbGRyZW49ISFlLmF1dG9SZW1vdmVDaGlsZHJlbixpLl9zb3J0PXQoZS5zb3J0Q2hpbGRyZW4pLEkmJkNhKGUucGFyZW50fHxJLF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoaSksciksZS5yZXZlcnNlZCYmaS5yZXZlcnNlKCksZS5wYXVzZWQmJmkucGF1c2VkKCEwKSxlLnNjcm9sbFRyaWdnZXImJkRhKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoaSksZS5zY3JvbGxUcmlnZ2VyKSxpfV9pbmhlcml0c0xvb3NlKFRpbWVsaW5lLG4pO3ZhciBlPVRpbWVsaW5lLnByb3RvdHlwZTtyZXR1cm4gZS50bz1mdW5jdGlvbiB0byh0LGUscil7cmV0dXJuIE5hKDAsYXJndW1lbnRzLHRoaXMpLHRoaXN9LGUuZnJvbT1mdW5jdGlvbiBmcm9tKHQsZSxyKXtyZXR1cm4gTmEoMSxhcmd1bWVudHMsdGhpcyksdGhpc30sZS5mcm9tVG89ZnVuY3Rpb24gZnJvbVRvKHQsZSxyLGkpe3JldHVybiBOYSgyLGFyZ3VtZW50cyx0aGlzKSx0aGlzfSxlLnNldD1mdW5jdGlvbiBzZXQodCxlLHIpe3JldHVybiBlLmR1cmF0aW9uPTAsZS5wYXJlbnQ9dGhpcyxvYShlKS5yZXBlYXREZWxheXx8KGUucmVwZWF0PTApLGUuaW1tZWRpYXRlUmVuZGVyPSEhZS5pbW1lZGlhdGVSZW5kZXIsbmV3IEp0KHQsZSxidCh0aGlzLHIpLDEpLHRoaXN9LGUuY2FsbD1mdW5jdGlvbiBjYWxsKHQsZSxyKXtyZXR1cm4gQ2EodGhpcyxKdC5kZWxheWVkQ2FsbCgwLHQsZSkscil9LGUuc3RhZ2dlclRvPWZ1bmN0aW9uIHN0YWdnZXJUbyh0LGUscixpLG4sYSxzKXtyZXR1cm4gci5kdXJhdGlvbj1lLHIuc3RhZ2dlcj1yLnN0YWdnZXJ8fGksci5vbkNvbXBsZXRlPWEsci5vbkNvbXBsZXRlUGFyYW1zPXMsci5wYXJlbnQ9dGhpcyxuZXcgSnQodCxyLGJ0KHRoaXMsbikpLHRoaXN9LGUuc3RhZ2dlckZyb209ZnVuY3Rpb24gc3RhZ2dlckZyb20oZSxyLGksbixhLHMsbyl7cmV0dXJuIGkucnVuQmFja3dhcmRzPTEsb2EoaSkuaW1tZWRpYXRlUmVuZGVyPXQoaS5pbW1lZGlhdGVSZW5kZXIpLHRoaXMuc3RhZ2dlclRvKGUscixpLG4sYSxzLG8pfSxlLnN0YWdnZXJGcm9tVG89ZnVuY3Rpb24gc3RhZ2dlckZyb21UbyhlLHIsaSxuLGEscyxvLHUpe3JldHVybiBuLnN0YXJ0QXQ9aSxvYShuKS5pbW1lZGlhdGVSZW5kZXI9dChuLmltbWVkaWF0ZVJlbmRlciksdGhpcy5zdGFnZ2VyVG8oZSxyLG4sYSxzLG8sdSl9LGUucmVuZGVyPWZ1bmN0aW9uIHJlbmRlcih0LGUscil7dmFyIGksbixhLHMsbyx1LGgsbCxmLGQscCxjLF89dGhpcy5fdGltZSxtPXRoaXMuX2RpcnR5P3RoaXMudG90YWxEdXJhdGlvbigpOnRoaXMuX3REdXIsZz10aGlzLl9kdXIsdj10PD0wPzA6ZGEodCkseT10aGlzLl96VGltZTwwIT10PDAmJih0aGlzLl9pbml0dGVkfHwhZyk7aWYodGhpcyE9PUkmJm08diYmMDw9dCYmKHY9bSksdiE9PXRoaXMuX3RUaW1lfHxyfHx5KXtpZihfIT09dGhpcy5fdGltZSYmZyYmKHYrPXRoaXMuX3RpbWUtXyx0Kz10aGlzLl90aW1lLV8pLGk9dixmPXRoaXMuX3N0YXJ0LHU9IShsPXRoaXMuX3RzKSx5JiYoZ3x8KF89dGhpcy5felRpbWUpLCF0JiZlfHwodGhpcy5felRpbWU9dCkpLHRoaXMuX3JlcGVhdCl7aWYocD10aGlzLl95b3lvLG89Zyt0aGlzLl9yRGVsYXksdGhpcy5fcmVwZWF0PC0xJiZ0PDApcmV0dXJuIHRoaXMudG90YWxUaW1lKDEwMCpvK3QsZSxyKTtpZihpPWRhKHYlbyksdj09PW0/KHM9dGhpcy5fcmVwZWF0LGk9Zyk6KChzPX5+KHYvbykpJiZzPT09di9vJiYoaT1nLHMtLSksZzxpJiYoaT1nKSksZD1ndCh0aGlzLl90VGltZSxvKSwhXyYmdGhpcy5fdFRpbWUmJmQhPT1zJiYoZD1zKSxwJiYxJnMmJihpPWctaSxjPTEpLHMhPT1kJiYhdGhpcy5fbG9jayl7dmFyIGI9cCYmMSZkLFQ9Yj09PShwJiYxJnMpO2lmKHM8ZCYmKGI9IWIpLF89Yj8wOmcsdGhpcy5fbG9jaz0xLHRoaXMucmVuZGVyKF98fChjPzA6ZGEocypvKSksZSwhZykuX2xvY2s9MCx0aGlzLl90VGltZT12LCFlJiZ0aGlzLnBhcmVudCYmTXQodGhpcywib25SZXBlYXQiKSx0aGlzLnZhcnMucmVwZWF0UmVmcmVzaCYmIWMmJih0aGlzLmludmFsaWRhdGUoKS5fbG9jaz0xKSxfJiZfIT09dGhpcy5fdGltZXx8dSE9IXRoaXMuX3RzfHx0aGlzLnZhcnMub25SZXBlYXQmJiF0aGlzLnBhcmVudCYmIXRoaXMuX2FjdClyZXR1cm4gdGhpcztpZihnPXRoaXMuX2R1cixtPXRoaXMuX3REdXIsVCYmKHRoaXMuX2xvY2s9MixfPWI/ZzotMWUtNCx0aGlzLnJlbmRlcihfLCEwKSx0aGlzLnZhcnMucmVwZWF0UmVmcmVzaCYmIWMmJnRoaXMuaW52YWxpZGF0ZSgpKSx0aGlzLl9sb2NrPTAsIXRoaXMuX3RzJiYhdSlyZXR1cm4gdGhpcztIYih0aGlzLGMpfX1pZih0aGlzLl9oYXNQYXVzZSYmIXRoaXMuX2ZvcmNpbmcmJnRoaXMuX2xvY2s8MiYmKGg9ZnVuY3Rpb24gX2ZpbmROZXh0UGF1c2VUd2Vlbih0LGUscil7dmFyIGk7aWYoZTxyKWZvcihpPXQuX2ZpcnN0O2kmJmkuX3N0YXJ0PD1yOyl7aWYoImlzUGF1c2UiPT09aS5kYXRhJiZpLl9zdGFydD5lKXJldHVybiBpO2k9aS5fbmV4dH1lbHNlIGZvcihpPXQuX2xhc3Q7aSYmaS5fc3RhcnQ+PXI7KXtpZigiaXNQYXVzZSI9PT1pLmRhdGEmJmkuX3N0YXJ0PGUpcmV0dXJuIGk7aT1pLl9wcmV2fX0odGhpcyxkYShfKSxkYShpKSkpJiYodi09aS0oaT1oLl9zdGFydCkpLHRoaXMuX3RUaW1lPXYsdGhpcy5fdGltZT1pLHRoaXMuX2FjdD0hbCx0aGlzLl9pbml0dGVkfHwodGhpcy5fb25VcGRhdGU9dGhpcy52YXJzLm9uVXBkYXRlLHRoaXMuX2luaXR0ZWQ9MSx0aGlzLl96VGltZT10LF89MCksIV8mJmkmJiFlJiYoTXQodGhpcywib25TdGFydCIpLHRoaXMuX3RUaW1lIT09dikpcmV0dXJuIHRoaXM7aWYoXzw9aSYmMDw9dClmb3Iobj10aGlzLl9maXJzdDtuOyl7aWYoYT1uLl9uZXh0LChuLl9hY3R8fGk+PW4uX3N0YXJ0KSYmbi5fdHMmJmghPT1uKXtpZihuLnBhcmVudCE9PXRoaXMpcmV0dXJuIHRoaXMucmVuZGVyKHQsZSxyKTtpZihuLnJlbmRlcigwPG4uX3RzPyhpLW4uX3N0YXJ0KSpuLl90czoobi5fZGlydHk/bi50b3RhbER1cmF0aW9uKCk6bi5fdER1cikrKGktbi5fc3RhcnQpKm4uX3RzLGUsciksaSE9PXRoaXMuX3RpbWV8fCF0aGlzLl90cyYmIXUpe2g9MCxhJiYodis9dGhpcy5felRpbWU9LVgpO2JyZWFrfX1uPWF9ZWxzZXtuPXRoaXMuX2xhc3Q7Zm9yKHZhciB3PXQ8MD90Omk7bjspe2lmKGE9bi5fcHJldiwobi5fYWN0fHx3PD1uLl9lbmQpJiZuLl90cyYmaCE9PW4pe2lmKG4ucGFyZW50IT09dGhpcylyZXR1cm4gdGhpcy5yZW5kZXIodCxlLHIpO2lmKG4ucmVuZGVyKDA8bi5fdHM/KHctbi5fc3RhcnQpKm4uX3RzOihuLl9kaXJ0eT9uLnRvdGFsRHVyYXRpb24oKTpuLl90RHVyKSsody1uLl9zdGFydCkqbi5fdHMsZSxyKSxpIT09dGhpcy5fdGltZXx8IXRoaXMuX3RzJiYhdSl7aD0wLGEmJih2Kz10aGlzLl96VGltZT13Py1YOlgpO2JyZWFrfX1uPWF9fWlmKGgmJiFlJiYodGhpcy5wYXVzZSgpLGgucmVuZGVyKF88PWk/MDotWCkuX3pUaW1lPV88PWk/MTotMSx0aGlzLl90cykpcmV0dXJuIHRoaXMuX3N0YXJ0PWYsemEodGhpcyksdGhpcy5yZW5kZXIodCxlLHIpO3RoaXMuX29uVXBkYXRlJiYhZSYmTXQodGhpcywib25VcGRhdGUiLCEwKSwodj09PW0mJm0+PXRoaXMudG90YWxEdXJhdGlvbigpfHwhdiYmXykmJihmIT09dGhpcy5fc3RhcnQmJk1hdGguYWJzKGwpPT09TWF0aC5hYnModGhpcy5fdHMpfHx0aGlzLl9sb2NrfHwoIXQmJmd8fCEodj09PW0mJjA8dGhpcy5fdHN8fCF2JiZ0aGlzLl90czwwKXx8c2EodGhpcywxKSxlfHx0PDAmJiFffHwhdiYmIV8mJm18fChNdCh0aGlzLHY9PT1tJiYwPD10PyJvbkNvbXBsZXRlIjoib25SZXZlcnNlQ29tcGxldGUiLCEwKSwhdGhpcy5fcHJvbXx8djxtJiYwPHRoaXMudGltZVNjYWxlKCl8fHRoaXMuX3Byb20oKSkpKX1yZXR1cm4gdGhpc30sZS5hZGQ9ZnVuY3Rpb24gYWRkKHQsZSl7dmFyIHI9dGhpcztpZihxKGUpfHwoZT1idCh0aGlzLGUsdCkpLCEodCBpbnN0YW5jZW9mIHF0KSl7aWYoVyh0KSlyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiByLmFkZCh0LGUpfSksdGhpcztpZihvKHQpKXJldHVybiB0aGlzLmFkZExhYmVsKHQsZSk7aWYoIXAodCkpcmV0dXJuIHRoaXM7dD1KdC5kZWxheWVkQ2FsbCgwLHQpfXJldHVybiB0aGlzIT09dD9DYSh0aGlzLHQsZSk6dGhpc30sZS5nZXRDaGlsZHJlbj1mdW5jdGlvbiBnZXRDaGlsZHJlbih0LGUscixpKXt2b2lkIDA9PT10JiYodD0hMCksdm9pZCAwPT09ZSYmKGU9ITApLHZvaWQgMD09PXImJihyPSEwKSx2b2lkIDA9PT1pJiYoaT0taik7Zm9yKHZhciBuPVtdLGE9dGhpcy5fZmlyc3Q7YTspYS5fc3RhcnQ+PWkmJihhIGluc3RhbmNlb2YgSnQ/ZSYmbi5wdXNoKGEpOihyJiZuLnB1c2goYSksdCYmbi5wdXNoLmFwcGx5KG4sYS5nZXRDaGlsZHJlbighMCxlLHIpKSkpLGE9YS5fbmV4dDtyZXR1cm4gbn0sZS5nZXRCeUlkPWZ1bmN0aW9uIGdldEJ5SWQodCl7Zm9yKHZhciBlPXRoaXMuZ2V0Q2hpbGRyZW4oMSwxLDEpLHI9ZS5sZW5ndGg7ci0tOylpZihlW3JdLnZhcnMuaWQ9PT10KXJldHVybiBlW3JdfSxlLnJlbW92ZT1mdW5jdGlvbiByZW1vdmUodCl7cmV0dXJuIG8odCk/dGhpcy5yZW1vdmVMYWJlbCh0KTpwKHQpP3RoaXMua2lsbFR3ZWVuc09mKHQpOihyYSh0aGlzLHQpLHQ9PT10aGlzLl9yZWNlbnQmJih0aGlzLl9yZWNlbnQ9dGhpcy5fbGFzdCksdGEodGhpcykpfSxlLnRvdGFsVGltZT1mdW5jdGlvbiB0b3RhbFRpbWUodCxlKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZm9yY2luZz0xLCF0aGlzLl9kcCYmdGhpcy5fdHMmJih0aGlzLl9zdGFydD1kYShTdC50aW1lLSgwPHRoaXMuX3RzP3QvdGhpcy5fdHM6KHRoaXMudG90YWxEdXJhdGlvbigpLXQpLy10aGlzLl90cykpKSxuLnByb3RvdHlwZS50b3RhbFRpbWUuY2FsbCh0aGlzLHQsZSksdGhpcy5fZm9yY2luZz0wLHRoaXMpOnRoaXMuX3RUaW1lfSxlLmFkZExhYmVsPWZ1bmN0aW9uIGFkZExhYmVsKHQsZSl7cmV0dXJuIHRoaXMubGFiZWxzW3RdPWJ0KHRoaXMsZSksdGhpc30sZS5yZW1vdmVMYWJlbD1mdW5jdGlvbiByZW1vdmVMYWJlbCh0KXtyZXR1cm4gZGVsZXRlIHRoaXMubGFiZWxzW3RdLHRoaXN9LGUuYWRkUGF1c2U9ZnVuY3Rpb24gYWRkUGF1c2UodCxlLHIpe3ZhciBpPUp0LmRlbGF5ZWRDYWxsKDAsZXx8USxyKTtyZXR1cm4gaS5kYXRhPSJpc1BhdXNlIix0aGlzLl9oYXNQYXVzZT0xLENhKHRoaXMsaSxidCh0aGlzLHQpKX0sZS5yZW1vdmVQYXVzZT1mdW5jdGlvbiByZW1vdmVQYXVzZSh0KXt2YXIgZT10aGlzLl9maXJzdDtmb3IodD1idCh0aGlzLHQpO2U7KWUuX3N0YXJ0PT09dCYmImlzUGF1c2UiPT09ZS5kYXRhJiZzYShlKSxlPWUuX25leHR9LGUua2lsbFR3ZWVuc09mPWZ1bmN0aW9uIGtpbGxUd2VlbnNPZih0LGUscil7Zm9yKHZhciBpPXRoaXMuZ2V0VHdlZW5zT2YodCxyKSxuPWkubGVuZ3RoO24tLTspUXQhPT1pW25dJiZpW25dLmtpbGwodCxlKTtyZXR1cm4gdGhpc30sZS5nZXRUd2VlbnNPZj1mdW5jdGlvbiBnZXRUd2VlbnNPZih0LGUpe2Zvcih2YXIgcixpPVtdLG49eHQodCksYT10aGlzLl9maXJzdCxzPXEoZSk7YTspYSBpbnN0YW5jZW9mIEp0P2VhKGEuX3RhcmdldHMsbikmJihzPyghUXR8fGEuX2luaXR0ZWQmJmEuX3RzKSYmYS5nbG9iYWxUaW1lKDApPD1lJiZhLmdsb2JhbFRpbWUoYS50b3RhbER1cmF0aW9uKCkpPmU6IWV8fGEuaXNBY3RpdmUoKSkmJmkucHVzaChhKToocj1hLmdldFR3ZWVuc09mKG4sZSkpLmxlbmd0aCYmaS5wdXNoLmFwcGx5KGksciksYT1hLl9uZXh0O3JldHVybiBpfSxlLnR3ZWVuVG89ZnVuY3Rpb24gdHdlZW5Ubyh0LGUpe2U9ZXx8e307dmFyIHIsaT10aGlzLG49YnQoaSx0KSxhPWUuc3RhcnRBdCxzPWUub25TdGFydCxvPWUub25TdGFydFBhcmFtcyx1PWUuaW1tZWRpYXRlUmVuZGVyLGg9SnQudG8oaSxqYSh7ZWFzZTplLmVhc2V8fCJub25lIixsYXp5OiExLGltbWVkaWF0ZVJlbmRlcjohMSx0aW1lOm4sb3ZlcndyaXRlOiJhdXRvIixkdXJhdGlvbjplLmR1cmF0aW9ufHxNYXRoLmFicygobi0oYSYmInRpbWUiaW4gYT9hLnRpbWU6aS5fdGltZSkpL2kudGltZVNjYWxlKCkpfHxYLG9uU3RhcnQ6ZnVuY3Rpb24gb25TdGFydCgpe2lmKGkucGF1c2UoKSwhcil7dmFyIHQ9ZS5kdXJhdGlvbnx8TWF0aC5hYnMoKG4tKGEmJiJ0aW1lImluIGE/YS50aW1lOmkuX3RpbWUpKS9pLnRpbWVTY2FsZSgpKTtoLl9kdXIhPT10JiZKYShoLHQsMCwxKS5yZW5kZXIoaC5fdGltZSwhMCwhMCkscj0xfXMmJnMuYXBwbHkoaCxvfHxbXSl9fSxlKSk7cmV0dXJuIHU/aC5yZW5kZXIoMCk6aH0sZS50d2VlbkZyb21Ubz1mdW5jdGlvbiB0d2VlbkZyb21Ubyh0LGUscil7cmV0dXJuIHRoaXMudHdlZW5UbyhlLGphKHtzdGFydEF0Ont0aW1lOmJ0KHRoaXMsdCl9fSxyKSl9LGUucmVjZW50PWZ1bmN0aW9uIHJlY2VudCgpe3JldHVybiB0aGlzLl9yZWNlbnR9LGUubmV4dExhYmVsPWZ1bmN0aW9uIG5leHRMYWJlbCh0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dGhpcy5fdGltZSksamIodGhpcyxidCh0aGlzLHQpKX0sZS5wcmV2aW91c0xhYmVsPWZ1bmN0aW9uIHByZXZpb3VzTGFiZWwodCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PXRoaXMuX3RpbWUpLGpiKHRoaXMsYnQodGhpcyx0KSwxKX0sZS5jdXJyZW50TGFiZWw9ZnVuY3Rpb24gY3VycmVudExhYmVsKHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP3RoaXMuc2Vlayh0LCEwKTp0aGlzLnByZXZpb3VzTGFiZWwodGhpcy5fdGltZStYKX0sZS5zaGlmdENoaWxkcmVuPWZ1bmN0aW9uIHNoaWZ0Q2hpbGRyZW4odCxlLHIpe3ZvaWQgMD09PXImJihyPTApO2Zvcih2YXIgaSxuPXRoaXMuX2ZpcnN0LGE9dGhpcy5sYWJlbHM7bjspbi5fc3RhcnQ+PXImJihuLl9zdGFydCs9dCxuLl9lbmQrPXQpLG49bi5fbmV4dDtpZihlKWZvcihpIGluIGEpYVtpXT49ciYmKGFbaV0rPXQpO3JldHVybiB0YSh0aGlzKX0sZS5pbnZhbGlkYXRlPWZ1bmN0aW9uIGludmFsaWRhdGUoKXt2YXIgdD10aGlzLl9maXJzdDtmb3IodGhpcy5fbG9jaz0wO3Q7KXQuaW52YWxpZGF0ZSgpLHQ9dC5fbmV4dDtyZXR1cm4gbi5wcm90b3R5cGUuaW52YWxpZGF0ZS5jYWxsKHRoaXMpfSxlLmNsZWFyPWZ1bmN0aW9uIGNsZWFyKHQpe3ZvaWQgMD09PXQmJih0PSEwKTtmb3IodmFyIGUscj10aGlzLl9maXJzdDtyOyllPXIuX25leHQsdGhpcy5yZW1vdmUocikscj1lO3JldHVybiB0aGlzLl9kcCYmKHRoaXMuX3RpbWU9dGhpcy5fdFRpbWU9dGhpcy5fcFRpbWU9MCksdCYmKHRoaXMubGFiZWxzPXt9KSx0YSh0aGlzKX0sZS50b3RhbER1cmF0aW9uPWZ1bmN0aW9uIHRvdGFsRHVyYXRpb24odCl7dmFyIGUscixpLG49MCxhPXRoaXMscz1hLl9sYXN0LG89ajtpZihhcmd1bWVudHMubGVuZ3RoKXJldHVybiBhLnRpbWVTY2FsZSgoYS5fcmVwZWF0PDA/YS5kdXJhdGlvbigpOmEudG90YWxEdXJhdGlvbigpKS8oYS5yZXZlcnNlZCgpPy10OnQpKTtpZihhLl9kaXJ0eSl7Zm9yKGk9YS5wYXJlbnQ7czspZT1zLl9wcmV2LHMuX2RpcnR5JiZzLnRvdGFsRHVyYXRpb24oKSxvPChyPXMuX3N0YXJ0KSYmYS5fc29ydCYmcy5fdHMmJiFhLl9sb2NrPyhhLl9sb2NrPTEsQ2EoYSxzLHItcy5fZGVsYXksMSkuX2xvY2s9MCk6bz1yLHI8MCYmcy5fdHMmJihuLT1yLCghaSYmIWEuX2RwfHxpJiZpLnNtb290aENoaWxkVGltaW5nKSYmKGEuX3N0YXJ0Kz1yL2EuX3RzLGEuX3RpbWUtPXIsYS5fdFRpbWUtPXIpLGEuc2hpZnRDaGlsZHJlbigtciwhMSwtSW5maW5pdHkpLG89MCkscy5fZW5kPm4mJnMuX3RzJiYobj1zLl9lbmQpLHM9ZTtKYShhLGE9PT1JJiZhLl90aW1lPm4/YS5fdGltZTpuLDEsMSksYS5fZGlydHk9MH1yZXR1cm4gYS5fdER1cn0sVGltZWxpbmUudXBkYXRlUm9vdD1mdW5jdGlvbiB1cGRhdGVSb290KHQpe2lmKEkuX3RzJiYoZ2EoSSx5YSh0LEkpKSxmPVN0LmZyYW1lKSxTdC5mcmFtZT49cHQpe3B0Kz1ZLmF1dG9TbGVlcHx8MTIwO3ZhciBlPUkuX2ZpcnN0O2lmKCghZXx8IWUuX3RzKSYmWS5hdXRvU2xlZXAmJlN0Ll9saXN0ZW5lcnMubGVuZ3RoPDIpe2Zvcig7ZSYmIWUuX3RzOyllPWUuX25leHQ7ZXx8U3Quc2xlZXAoKX19fSxUaW1lbGluZX0ocXQpO2phKE50LnByb3RvdHlwZSx7X2xvY2s6MCxfaGFzUGF1c2U6MCxfZm9yY2luZzowfSk7ZnVuY3Rpb24gVGIodCxlLHIsaSxuLGEpe3ZhciB1LGgsbCxmO2lmKGZ0W3RdJiYhMSE9PSh1PW5ldyBmdFt0XSkuaW5pdChuLHUucmF3VmFycz9lW3RdOmZ1bmN0aW9uIF9wcm9jZXNzVmFycyh0LGUscixpLG4pe2lmKHAodCkmJih0PVh0KHQsbixlLHIsaSkpLCFzKHQpfHx0LnN0eWxlJiZ0Lm5vZGVUeXBlfHxXKHQpfHxIKHQpKXJldHVybiBvKHQpP1h0KHQsbixlLHIsaSk6dDt2YXIgYSx1PXt9O2ZvcihhIGluIHQpdVthXT1YdCh0W2FdLG4sZSxyLGkpO3JldHVybiB1fShlW3RdLGksbixhLHIpLHIsaSxhKSYmKHIuX3B0PWg9bmV3IGFlKHIuX3B0LG4sdCwwLDEsdS5yZW5kZXIsdSwwLHUucHJpb3JpdHkpLHIhPT1kKSlmb3IobD1yLl9wdExvb2t1cFtyLl90YXJnZXRzLmluZGV4T2YobildLGY9dS5fcHJvcHMubGVuZ3RoO2YtLTspbFt1Ll9wcm9wc1tmXV09aDtyZXR1cm4gdX1mdW5jdGlvbiBYYih0LHIsZSxpKXt2YXIgbixhLHM9ci5lYXNlfHxpfHwicG93ZXIxLmluT3V0IjtpZihXKHIpKWE9ZVt0XXx8KGVbdF09W10pLHIuZm9yRWFjaChmdW5jdGlvbih0LGUpe3JldHVybiBhLnB1c2goe3Q6ZS8oci5sZW5ndGgtMSkqMTAwLHY6dCxlOnN9KX0pO2Vsc2UgZm9yKG4gaW4gcilhPWVbbl18fChlW25dPVtdKSwiZWFzZSI9PT1ufHxhLnB1c2goe3Q6cGFyc2VGbG9hdCh0KSx2OnJbbl0sZTpzfSl9dmFyIFF0LFl0PWZ1bmN0aW9uIF9hZGRQcm9wVHdlZW4odCxlLHIsaSxuLGEscyx1LGgpe3AoaSkmJihpPWkobnx8MCx0LGEpKTt2YXIgbCxmPXRbZV0sZD0iZ2V0IiE9PXI/cjpwKGYpP2g/dFtlLmluZGV4T2YoInNldCIpfHwhcCh0WyJnZXQiK2Uuc3Vic3RyKDMpXSk/ZToiZ2V0IitlLnN1YnN0cigzKV0oaCk6dFtlXSgpOmYsYz1wKGYpP2g/WnQ6JHQ6R3Q7aWYobyhpKSYmKH5pLmluZGV4T2YoInJhbmRvbSgiKSYmKGk9Z2IoaSkpLCI9Ij09PWkuY2hhckF0KDEpJiYoIShsPXBhcnNlRmxvYXQoZCkrcGFyc2VGbG9hdChpLnN1YnN0cigyKSkqKCItIj09PWkuY2hhckF0KDApPy0xOjEpKyhRYShkKXx8MCkpJiYwIT09bHx8KGk9bCkpKSxkIT09aSlyZXR1cm4gaXNOYU4oZCppKXx8IiI9PT1pPyhmfHxlIGluIHR8fE4oZSxpKSxmdW5jdGlvbiBfYWRkQ29tcGxleFN0cmluZ1Byb3BUd2Vlbih0LGUscixpLG4sYSxzKXt2YXIgbyx1LGgsbCxmLGQscCxjLF89bmV3IGFlKHRoaXMuX3B0LHQsZSwwLDEsdGUsbnVsbCxuKSxtPTAsZz0wO2ZvcihfLmI9cixfLmU9aSxyKz0iIiwocD1+KGkrPSIiKS5pbmRleE9mKCJyYW5kb20oIikpJiYoaT1nYihpKSksYSYmKGEoYz1bcixpXSx0LGUpLHI9Y1swXSxpPWNbMV0pLHU9ci5tYXRjaChpdCl8fFtdO289aXQuZXhlYyhpKTspbD1vWzBdLGY9aS5zdWJzdHJpbmcobSxvLmluZGV4KSxoP2g9KGgrMSklNToicmdiYSgiPT09Zi5zdWJzdHIoLTUpJiYoaD0xKSxsIT09dVtnKytdJiYoZD1wYXJzZUZsb2F0KHVbZy0xXSl8fDAsXy5fcHQ9e19uZXh0Ol8uX3B0LHA6Znx8MT09PWc/ZjoiLCIsczpkLGM6Ij0iPT09bC5jaGFyQXQoMSk/cGFyc2VGbG9hdChsLnN1YnN0cigyKSkqKCItIj09PWwuY2hhckF0KDApPy0xOjEpOnBhcnNlRmxvYXQobCktZCxtOmgmJmg8ND9NYXRoLnJvdW5kOjB9LG09aXQubGFzdEluZGV4KTtyZXR1cm4gXy5jPW08aS5sZW5ndGg/aS5zdWJzdHJpbmcobSxpLmxlbmd0aCk6IiIsXy5mcD1zLChudC50ZXN0KGkpfHxwKSYmKF8uZT0wKSx0aGlzLl9wdD1ffS5jYWxsKHRoaXMsdCxlLGQsaSxjLHV8fFkuc3RyaW5nRmlsdGVyLGgpKToobD1uZXcgYWUodGhpcy5fcHQsdCxlLCtkfHwwLGktKGR8fDApLCJib29sZWFuIj09dHlwZW9mIGY/V3Q6SHQsMCxjKSxoJiYobC5mcD1oKSxzJiZsLm1vZGlmaWVyKHMsdGhpcyx0KSx0aGlzLl9wdD1sKX0sanQ9ZnVuY3Rpb24gX2luaXRUd2VlbihlLHIpe3ZhciBpLG4sYSxzLG8sdSxoLGwsZixkLHAsYyxtLGc9ZS52YXJzLHY9Zy5lYXNlLHk9Zy5zdGFydEF0LGI9Zy5pbW1lZGlhdGVSZW5kZXIsVD1nLmxhenksdz1nLm9uVXBkYXRlLHg9Zy5vblVwZGF0ZVBhcmFtcyxPPWcuY2FsbGJhY2tTY29wZSxNPWcucnVuQmFja3dhcmRzLGs9Zy55b3lvRWFzZSxDPWcua2V5ZnJhbWVzLFA9Zy5hdXRvUmV2ZXJ0LEE9ZS5fZHVyLFM9ZS5fc3RhcnRBdCxEPWUuX3RhcmdldHMsej1lLnBhcmVudCxGPXomJiJuZXN0ZWQiPT09ei5kYXRhP3oucGFyZW50Ll90YXJnZXRzOkQsRT0iYXV0byI9PT1lLl9vdmVyd3JpdGUmJiFSLEI9ZS50aW1lbGluZTtpZighQnx8QyYmdnx8KHY9Im5vbmUiKSxlLl9lYXNlPVJ0KHYsTC5lYXNlKSxlLl95RWFzZT1rP0J0KFJ0KCEwPT09az92OmssTC5lYXNlKSk6MCxrJiZlLl95b3lvJiYhZS5fcmVwZWF0JiYoaz1lLl95RWFzZSxlLl95RWFzZT1lLl9lYXNlLGUuX2Vhc2U9ayksZS5fZnJvbT0hQiYmISFnLnJ1bkJhY2t3YXJkcywhQnx8QyYmIWcuc3RhZ2dlcil7aWYoYz0obD1EWzBdP18oRFswXSkuaGFybmVzczowKSYmZ1tsLnByb3BdLGk9bmEoZyx1dCksUyYmc2EoUy5yZW5kZXIoLTEsITApKSx5KWlmKHNhKGUuX3N0YXJ0QXQ9SnQuc2V0KEQsamEoe2RhdGE6ImlzU3RhcnQiLG92ZXJ3cml0ZTohMSxwYXJlbnQ6eixpbW1lZGlhdGVSZW5kZXI6ITAsbGF6eTp0KFQpLHN0YXJ0QXQ6bnVsbCxkZWxheTowLG9uVXBkYXRlOncsb25VcGRhdGVQYXJhbXM6eCxjYWxsYmFja1Njb3BlOk8sc3RhZ2dlcjowfSx5KSkpLHI8MCYmIWImJiFQJiZlLl9zdGFydEF0LnJlbmRlcigtMSwhMCksYil7aWYoMDxyJiYhUCYmKGUuX3N0YXJ0QXQ9MCksQSYmcjw9MClyZXR1cm4gdm9pZChyJiYoZS5felRpbWU9cikpfWVsc2UhMT09PVAmJihlLl9zdGFydEF0PTApO2Vsc2UgaWYoTSYmQSlpZihTKVB8fChlLl9zdGFydEF0PTApO2Vsc2UgaWYociYmKGI9ITEpLGE9amEoe292ZXJ3cml0ZTohMSxkYXRhOiJpc0Zyb21TdGFydCIsbGF6eTpiJiZ0KFQpLGltbWVkaWF0ZVJlbmRlcjpiLHN0YWdnZXI6MCxwYXJlbnQ6en0saSksYyYmKGFbbC5wcm9wXT1jKSxzYShlLl9zdGFydEF0PUp0LnNldChELGEpKSxyPDAmJmUuX3N0YXJ0QXQucmVuZGVyKC0xLCEwKSxlLl96VGltZT1yLGIpe2lmKCFyKXJldHVybn1lbHNlIF9pbml0VHdlZW4oZS5fc3RhcnRBdCxYKTtmb3IoZS5fcHQ9MCxUPUEmJnQoVCl8fFQmJiFBLG49MDtuPEQubGVuZ3RoO24rKyl7aWYoaD0obz1EW25dKS5fZ3NhcHx8JChEKVtuXS5fZ3NhcCxlLl9wdExvb2t1cFtuXT1kPXt9LGx0W2guaWRdJiZodC5sZW5ndGgmJmZhKCkscD1GPT09RD9uOkYuaW5kZXhPZihvKSxsJiYhMSE9PShmPW5ldyBsKS5pbml0KG8sY3x8aSxlLHAsRikmJihlLl9wdD1zPW5ldyBhZShlLl9wdCxvLGYubmFtZSwwLDEsZi5yZW5kZXIsZiwwLGYucHJpb3JpdHkpLGYuX3Byb3BzLmZvckVhY2goZnVuY3Rpb24odCl7ZFt0XT1zfSksZi5wcmlvcml0eSYmKHU9MSkpLCFsfHxjKWZvcihhIGluIGkpZnRbYV0mJihmPVRiKGEsaSxlLHAsbyxGKSk/Zi5wcmlvcml0eSYmKHU9MSk6ZFthXT1zPVl0LmNhbGwoZSxvLGEsImdldCIsaVthXSxwLEYsMCxnLnN0cmluZ0ZpbHRlcik7ZS5fb3AmJmUuX29wW25dJiZlLmtpbGwobyxlLl9vcFtuXSksRSYmZS5fcHQmJihRdD1lLEkua2lsbFR3ZWVuc09mKG8sZCxlLmdsb2JhbFRpbWUocikpLG09IWUucGFyZW50LFF0PTApLGUuX3B0JiZUJiYobHRbaC5pZF09MSl9dSYmbmUoZSksZS5fb25Jbml0JiZlLl9vbkluaXQoZSl9ZS5fb25VcGRhdGU9dyxlLl9pbml0dGVkPSghZS5fb3B8fGUuX3B0KSYmIW0sQyYmcjw9MCYmQi5yZW5kZXIoaiwhMCwhMCl9LFh0PWZ1bmN0aW9uIF9wYXJzZUZ1bmNPclN0cmluZyh0LGUscixpLG4pe3JldHVybiBwKHQpP3QuY2FsbChlLHIsaSxuKTpvKHQpJiZ+dC5pbmRleE9mKCJyYW5kb20oIik/Z2IodCk6dH0sVXQ9X3QrInJlcGVhdCxyZXBlYXREZWxheSx5b3lvLHJlcGVhdFJlZnJlc2gseW95b0Vhc2UiLFZ0PXt9O2JhKFV0KyIsaWQsc3RhZ2dlcixkZWxheSxkdXJhdGlvbixwYXVzZWQsc2Nyb2xsVHJpZ2dlciIsZnVuY3Rpb24odCl7cmV0dXJuIFZ0W3RdPTF9KTt2YXIgSnQ9ZnVuY3Rpb24oRil7ZnVuY3Rpb24gVHdlZW4oZSxyLGksbil7dmFyIGE7Im51bWJlciI9PXR5cGVvZiByJiYoaS5kdXJhdGlvbj1yLHI9aSxpPW51bGwpO3ZhciBvLHUsaCxsLGYsZCxwLGMsXz0oYT1GLmNhbGwodGhpcyxuP3I6b2EocikpfHx0aGlzKS52YXJzLG09Xy5kdXJhdGlvbixnPV8uZGVsYXkseT1fLmltbWVkaWF0ZVJlbmRlcixiPV8uc3RhZ2dlcixUPV8ub3ZlcndyaXRlLHc9Xy5rZXlmcmFtZXMseD1fLmRlZmF1bHRzLE09Xy5zY3JvbGxUcmlnZ2VyLGs9Xy55b3lvRWFzZSxDPXIucGFyZW50fHxJLFA9KFcoZSl8fEgoZSk/cShlWzBdKToibGVuZ3RoImluIHIpP1tlXTp4dChlKTtpZihhLl90YXJnZXRzPVAubGVuZ3RoPyQoUCk6TygiR1NBUCB0YXJnZXQgIitlKyIgbm90IGZvdW5kLiBodHRwczovL2dyZWVuc29jay5jb20iLCFZLm51bGxUYXJnZXRXYXJuKXx8W10sYS5fcHRMb29rdXA9W10sYS5fb3ZlcndyaXRlPVQsd3x8Ynx8dihtKXx8dihnKSl7aWYocj1hLnZhcnMsKG89YS50aW1lbGluZT1uZXcgTnQoe2RhdGE6Im5lc3RlZCIsZGVmYXVsdHM6eHx8e319KSkua2lsbCgpLG8ucGFyZW50PW8uX2RwPV9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoYSksby5fc3RhcnQ9MCxifHx2KG0pfHx2KGcpKXtpZihsPVAubGVuZ3RoLHA9YiYmWWEoYikscyhiKSlmb3IoZiBpbiBiKX5VdC5pbmRleE9mKGYpJiYoKGM9Y3x8e30pW2ZdPWJbZl0pO2Zvcih1PTA7dTxsO3UrKykoaD1uYShyLFZ0KSkuc3RhZ2dlcj0wLGsmJihoLnlveW9FYXNlPWspLGMmJm10KGgsYyksZD1QW3VdLGguZHVyYXRpb249K1h0KG0sX2Fzc2VydFRoaXNJbml0aWFsaXplZChhKSx1LGQsUCksaC5kZWxheT0oK1h0KGcsX2Fzc2VydFRoaXNJbml0aWFsaXplZChhKSx1LGQsUCl8fDApLWEuX2RlbGF5LCFiJiYxPT09bCYmaC5kZWxheSYmKGEuX2RlbGF5PWc9aC5kZWxheSxhLl9zdGFydCs9ZyxoLmRlbGF5PTApLG8udG8oZCxoLHA/cCh1LGQsUCk6MCksby5fZWFzZT16dC5ub25lO28uZHVyYXRpb24oKT9tPWc9MDphLnRpbWVsaW5lPTB9ZWxzZSBpZih3KXtvYShqYShvLnZhcnMuZGVmYXVsdHMse2Vhc2U6Im5vbmUifSkpLG8uX2Vhc2U9UnQody5lYXNlfHxyLmVhc2V8fCJub25lIik7dmFyIEEsUyxELHo9MDtpZihXKHcpKXcuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gby50byhQLHQsIj4iKX0pO2Vsc2V7Zm9yKGYgaW4gaD17fSx3KSJlYXNlIj09PWZ8fCJlYXNlRWFjaCI9PT1mfHxYYihmLHdbZl0saCx3LmVhc2VFYWNoKTtmb3IoZiBpbiBoKWZvcihBPWhbZl0uc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0LnQtZS50fSksdT16PTA7dTxBLmxlbmd0aDt1KyspKEQ9e2Vhc2U6KFM9QVt1XSkuZSxkdXJhdGlvbjooUy50LSh1P0FbdS0xXS50OjApKS8xMDAqbX0pW2ZdPVMudixvLnRvKFAsRCx6KSx6Kz1ELmR1cmF0aW9uO28uZHVyYXRpb24oKTxtJiZvLnRvKHt9LHtkdXJhdGlvbjptLW8uZHVyYXRpb24oKX0pfX1tfHxhLmR1cmF0aW9uKG09by5kdXJhdGlvbigpKX1lbHNlIGEudGltZWxpbmU9MDtyZXR1cm4hMCE9PVR8fFJ8fChRdD1fYXNzZXJ0VGhpc0luaXRpYWxpemVkKGEpLEkua2lsbFR3ZWVuc09mKFApLFF0PTApLENhKEMsX2Fzc2VydFRoaXNJbml0aWFsaXplZChhKSxpKSxyLnJldmVyc2VkJiZhLnJldmVyc2UoKSxyLnBhdXNlZCYmYS5wYXVzZWQoITApLCh5fHwhbSYmIXcmJmEuX3N0YXJ0PT09ZGEoQy5fdGltZSkmJnQoeSkmJmZ1bmN0aW9uIF9oYXNOb1BhdXNlZEFuY2VzdG9ycyh0KXtyZXR1cm4hdHx8dC5fdHMmJl9oYXNOb1BhdXNlZEFuY2VzdG9ycyh0LnBhcmVudCl9KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoYSkpJiYibmVzdGVkIiE9PUMuZGF0YSkmJihhLl90VGltZT0tWCxhLnJlbmRlcihNYXRoLm1heCgwLC1nKSkpLE0mJkRhKF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoYSksTSksYX1faW5oZXJpdHNMb29zZShUd2VlbixGKTt2YXIgZT1Ud2Vlbi5wcm90b3R5cGU7cmV0dXJuIGUucmVuZGVyPWZ1bmN0aW9uIHJlbmRlcih0LGUscil7dmFyIGksbixhLHMsbyx1LGgsbCxmLGQ9dGhpcy5fdGltZSxwPXRoaXMuX3REdXIsYz10aGlzLl9kdXIsXz1wLVg8dCYmMDw9dD9wOnQ8WD8wOnQ7aWYoYyl7aWYoXyE9PXRoaXMuX3RUaW1lfHwhdHx8cnx8IXRoaXMuX2luaXR0ZWQmJnRoaXMuX3RUaW1lfHx0aGlzLl9zdGFydEF0JiZ0aGlzLl96VGltZTwwIT10PDApe2lmKGk9XyxsPXRoaXMudGltZWxpbmUsdGhpcy5fcmVwZWF0KXtpZihzPWMrdGhpcy5fckRlbGF5LHRoaXMuX3JlcGVhdDwtMSYmdDwwKXJldHVybiB0aGlzLnRvdGFsVGltZSgxMDAqcyt0LGUscik7aWYoaT1kYShfJXMpLF89PT1wPyhhPXRoaXMuX3JlcGVhdCxpPWMpOigoYT1+fihfL3MpKSYmYT09PV8vcyYmKGk9YyxhLS0pLGM8aSYmKGk9YykpLCh1PXRoaXMuX3lveW8mJjEmYSkmJihmPXRoaXMuX3lFYXNlLGk9Yy1pKSxvPWd0KHRoaXMuX3RUaW1lLHMpLGk9PT1kJiYhciYmdGhpcy5faW5pdHRlZClyZXR1cm4gdGhpczthIT09byYmKGwmJnRoaXMuX3lFYXNlJiZIYihsLHUpLCF0aGlzLnZhcnMucmVwZWF0UmVmcmVzaHx8dXx8dGhpcy5fbG9ja3x8KHRoaXMuX2xvY2s9cj0xLHRoaXMucmVuZGVyKGRhKHMqYSksITApLmludmFsaWRhdGUoKS5fbG9jaz0wKSl9aWYoIXRoaXMuX2luaXR0ZWQpe2lmKEVhKHRoaXMsdDwwP3Q6aSxyLGUpKXJldHVybiB0aGlzLl90VGltZT0wLHRoaXM7aWYoYyE9PXRoaXMuX2R1cilyZXR1cm4gdGhpcy5yZW5kZXIodCxlLHIpfWlmKHRoaXMuX3RUaW1lPV8sdGhpcy5fdGltZT1pLCF0aGlzLl9hY3QmJnRoaXMuX3RzJiYodGhpcy5fYWN0PTEsdGhpcy5fbGF6eT0wKSx0aGlzLnJhdGlvPWg9KGZ8fHRoaXMuX2Vhc2UpKGkvYyksdGhpcy5fZnJvbSYmKHRoaXMucmF0aW89aD0xLWgpLGkmJiFkJiYhZSYmKE10KHRoaXMsIm9uU3RhcnQiKSx0aGlzLl90VGltZSE9PV8pKXJldHVybiB0aGlzO2ZvcihuPXRoaXMuX3B0O247KW4ucihoLG4uZCksbj1uLl9uZXh0O2wmJmwucmVuZGVyKHQ8MD90OiFpJiZ1Py1YOmwuX2R1cipsLl9lYXNlKGkvdGhpcy5fZHVyKSxlLHIpfHx0aGlzLl9zdGFydEF0JiYodGhpcy5felRpbWU9dCksdGhpcy5fb25VcGRhdGUmJiFlJiYodDwwJiZ0aGlzLl9zdGFydEF0JiZ0aGlzLl9zdGFydEF0LnJlbmRlcih0LCEwLHIpLE10KHRoaXMsIm9uVXBkYXRlIikpLHRoaXMuX3JlcGVhdCYmYSE9PW8mJnRoaXMudmFycy5vblJlcGVhdCYmIWUmJnRoaXMucGFyZW50JiZNdCh0aGlzLCJvblJlcGVhdCIpLF8hPT10aGlzLl90RHVyJiZffHx0aGlzLl90VGltZSE9PV98fCh0PDAmJnRoaXMuX3N0YXJ0QXQmJiF0aGlzLl9vblVwZGF0ZSYmdGhpcy5fc3RhcnRBdC5yZW5kZXIodCwhMCwhMCksIXQmJmN8fCEoXz09PXRoaXMuX3REdXImJjA8dGhpcy5fdHN8fCFfJiZ0aGlzLl90czwwKXx8c2EodGhpcywxKSxlfHx0PDAmJiFkfHwhXyYmIWR8fChNdCh0aGlzLF89PT1wPyJvbkNvbXBsZXRlIjoib25SZXZlcnNlQ29tcGxldGUiLCEwKSwhdGhpcy5fcHJvbXx8XzxwJiYwPHRoaXMudGltZVNjYWxlKCl8fHRoaXMuX3Byb20oKSkpfX1lbHNlIWZ1bmN0aW9uIF9yZW5kZXJaZXJvRHVyYXRpb25Ud2Vlbih0LGUscixpKXt2YXIgbixhLHMsbz10LnJhdGlvLHU9ZTwwfHwhZSYmKCF0Ll9zdGFydCYmZnVuY3Rpb24gX3BhcmVudFBsYXloZWFkSXNCZWZvcmVTdGFydCh0KXt2YXIgZT10LnBhcmVudDtyZXR1cm4gZSYmZS5fdHMmJmUuX2luaXR0ZWQmJiFlLl9sb2NrJiYoZS5yYXdUaW1lKCk8MHx8X3BhcmVudFBsYXloZWFkSXNCZWZvcmVTdGFydChlKSl9KHQpJiYodC5faW5pdHRlZHx8IXZ0KHQpKXx8KHQuX3RzPDB8fHQuX2RwLl90czwwKSYmIXZ0KHQpKT8wOjEsaD10Ll9yRGVsYXksbD0wO2lmKGgmJnQuX3JlcGVhdCYmKGw9VHQoMCx0Ll90RHVyLGUpLGE9Z3QobCxoKSx0Ll95b3lvJiYxJmEmJih1PTEtdSksYSE9PWd0KHQuX3RUaW1lLGgpJiYobz0xLXUsdC52YXJzLnJlcGVhdFJlZnJlc2gmJnQuX2luaXR0ZWQmJnQuaW52YWxpZGF0ZSgpKSksdSE9PW98fGl8fHQuX3pUaW1lPT09WHx8IWUmJnQuX3pUaW1lKXtpZighdC5faW5pdHRlZCYmRWEodCxlLGkscikpcmV0dXJuO2ZvcihzPXQuX3pUaW1lLHQuX3pUaW1lPWV8fChyP1g6MCkscj1yfHxlJiYhcyx0LnJhdGlvPXUsdC5fZnJvbSYmKHU9MS11KSx0Ll90aW1lPTAsdC5fdFRpbWU9bCxuPXQuX3B0O247KW4ucih1LG4uZCksbj1uLl9uZXh0O3QuX3N0YXJ0QXQmJmU8MCYmdC5fc3RhcnRBdC5yZW5kZXIoZSwhMCwhMCksdC5fb25VcGRhdGUmJiFyJiZNdCh0LCJvblVwZGF0ZSIpLGwmJnQuX3JlcGVhdCYmIXImJnQucGFyZW50JiZNdCh0LCJvblJlcGVhdCIpLChlPj10Ll90RHVyfHxlPDApJiZ0LnJhdGlvPT09dSYmKHUmJnNhKHQsMSkscnx8KE10KHQsdT8ib25Db21wbGV0ZSI6Im9uUmV2ZXJzZUNvbXBsZXRlIiwhMCksdC5fcHJvbSYmdC5fcHJvbSgpKSl9ZWxzZSB0Ll96VGltZXx8KHQuX3pUaW1lPWUpfSh0aGlzLHQsZSxyKTtyZXR1cm4gdGhpc30sZS50YXJnZXRzPWZ1bmN0aW9uIHRhcmdldHMoKXtyZXR1cm4gdGhpcy5fdGFyZ2V0c30sZS5pbnZhbGlkYXRlPWZ1bmN0aW9uIGludmFsaWRhdGUoKXtyZXR1cm4gdGhpcy5fcHQ9dGhpcy5fb3A9dGhpcy5fc3RhcnRBdD10aGlzLl9vblVwZGF0ZT10aGlzLl9sYXp5PXRoaXMucmF0aW89MCx0aGlzLl9wdExvb2t1cD1bXSx0aGlzLnRpbWVsaW5lJiZ0aGlzLnRpbWVsaW5lLmludmFsaWRhdGUoKSxGLnByb3RvdHlwZS5pbnZhbGlkYXRlLmNhbGwodGhpcyl9LGUua2lsbD1mdW5jdGlvbiBraWxsKHQsZSl7aWYodm9pZCAwPT09ZSYmKGU9ImFsbCIpLCEodHx8ZSYmImFsbCIhPT1lKSlyZXR1cm4gdGhpcy5fbGF6eT10aGlzLl9wdD0wLHRoaXMucGFyZW50P2xiKHRoaXMpOnRoaXM7aWYodGhpcy50aW1lbGluZSl7dmFyIHI9dGhpcy50aW1lbGluZS50b3RhbER1cmF0aW9uKCk7cmV0dXJuIHRoaXMudGltZWxpbmUua2lsbFR3ZWVuc09mKHQsZSxRdCYmITAhPT1RdC52YXJzLm92ZXJ3cml0ZSkuX2ZpcnN0fHxsYih0aGlzKSx0aGlzLnBhcmVudCYmciE9PXRoaXMudGltZWxpbmUudG90YWxEdXJhdGlvbigpJiZKYSh0aGlzLHRoaXMuX2R1cip0aGlzLnRpbWVsaW5lLl90RHVyL3IsMCwxKSx0aGlzfXZhciBpLG4sYSxzLHUsaCxsLGY9dGhpcy5fdGFyZ2V0cyxkPXQ/eHQodCk6ZixwPXRoaXMuX3B0TG9va3VwLGM9dGhpcy5fcHQ7aWYoKCFlfHwiYWxsIj09PWUpJiZmdW5jdGlvbiBfYXJyYXlzTWF0Y2godCxlKXtmb3IodmFyIHI9dC5sZW5ndGgsaT1yPT09ZS5sZW5ndGg7aSYmci0tJiZ0W3JdPT09ZVtyXTspO3JldHVybiByPDB9KGYsZCkpcmV0dXJuImFsbCI9PT1lJiYodGhpcy5fcHQ9MCksbGIodGhpcyk7Zm9yKGk9dGhpcy5fb3A9dGhpcy5fb3B8fFtdLCJhbGwiIT09ZSYmKG8oZSkmJih1PXt9LGJhKGUsZnVuY3Rpb24odCl7cmV0dXJuIHVbdF09MX0pLGU9dSksZT1mdW5jdGlvbiBfYWRkQWxpYXNlc1RvVmFycyh0LGUpe3ZhciByLGksbixhLHM9dFswXT9fKHRbMF0pLmhhcm5lc3M6MCxvPXMmJnMuYWxpYXNlcztpZighbylyZXR1cm4gZTtmb3IoaSBpbiByPW10KHt9LGUpLG8paWYoaSBpbiByKWZvcihuPShhPW9baV0uc3BsaXQoIiwiKSkubGVuZ3RoO24tLTspclthW25dXT1yW2ldO3JldHVybiByfShmLGUpKSxsPWYubGVuZ3RoO2wtLTspaWYofmQuaW5kZXhPZihmW2xdKSlmb3IodSBpbiBuPXBbbF0sImFsbCI9PT1lPyhpW2xdPWUscz1uLGE9e30pOihhPWlbbF09aVtsXXx8e30scz1lKSxzKShoPW4mJm5bdV0pJiYoImtpbGwiaW4gaC5kJiYhMCE9PWguZC5raWxsKHUpfHxyYSh0aGlzLGgsIl9wdCIpLGRlbGV0ZSBuW3VdKSwiYWxsIiE9PWEmJihhW3VdPTEpO3JldHVybiB0aGlzLl9pbml0dGVkJiYhdGhpcy5fcHQmJmMmJmxiKHRoaXMpLHRoaXN9LFR3ZWVuLnRvPWZ1bmN0aW9uIHRvKHQsZSxyKXtyZXR1cm4gbmV3IFR3ZWVuKHQsZSxyKX0sVHdlZW4uZnJvbT1mdW5jdGlvbiBmcm9tKHQsZSl7cmV0dXJuIE5hKDEsYXJndW1lbnRzKX0sVHdlZW4uZGVsYXllZENhbGw9ZnVuY3Rpb24gZGVsYXllZENhbGwodCxlLHIsaSl7cmV0dXJuIG5ldyBUd2VlbihlLDAse2ltbWVkaWF0ZVJlbmRlcjohMSxsYXp5OiExLG92ZXJ3cml0ZTohMSxkZWxheTp0LG9uQ29tcGxldGU6ZSxvblJldmVyc2VDb21wbGV0ZTplLG9uQ29tcGxldGVQYXJhbXM6cixvblJldmVyc2VDb21wbGV0ZVBhcmFtczpyLGNhbGxiYWNrU2NvcGU6aX0pfSxUd2Vlbi5mcm9tVG89ZnVuY3Rpb24gZnJvbVRvKHQsZSxyKXtyZXR1cm4gTmEoMixhcmd1bWVudHMpfSxUd2Vlbi5zZXQ9ZnVuY3Rpb24gc2V0KHQsZSl7cmV0dXJuIGUuZHVyYXRpb249MCxlLnJlcGVhdERlbGF5fHwoZS5yZXBlYXQ9MCksbmV3IFR3ZWVuKHQsZSl9LFR3ZWVuLmtpbGxUd2VlbnNPZj1mdW5jdGlvbiBraWxsVHdlZW5zT2YodCxlLHIpe3JldHVybiBJLmtpbGxUd2VlbnNPZih0LGUscil9LFR3ZWVufShxdCk7amEoSnQucHJvdG90eXBlLHtfdGFyZ2V0czpbXSxfbGF6eTowLF9zdGFydEF0OjAsX29wOjAsX29uSW5pdDowfSksYmEoInN0YWdnZXJUbyxzdGFnZ2VyRnJvbSxzdGFnZ2VyRnJvbVRvIixmdW5jdGlvbihyKXtKdFtyXT1mdW5jdGlvbigpe3ZhciB0PW5ldyBOdCxlPXd0LmNhbGwoYXJndW1lbnRzLDApO3JldHVybiBlLnNwbGljZSgic3RhZ2dlckZyb21UbyI9PT1yPzU6NCwwLDApLHRbcl0uYXBwbHkodCxlKX19KTtmdW5jdGlvbiBkYyh0LGUscil7cmV0dXJuIHQuc2V0QXR0cmlidXRlKGUscil9ZnVuY3Rpb24gbGModCxlLHIsaSl7aS5tU2V0KHQsZSxpLm0uY2FsbChpLnR3ZWVuLHIsaS5tdCksaSl9dmFyIEd0PWZ1bmN0aW9uIF9zZXR0ZXJQbGFpbih0LGUscil7cmV0dXJuIHRbZV09cn0sJHQ9ZnVuY3Rpb24gX3NldHRlckZ1bmModCxlLHIpe3JldHVybiB0W2VdKHIpfSxadD1mdW5jdGlvbiBfc2V0dGVyRnVuY1dpdGhQYXJhbSh0LGUscixpKXtyZXR1cm4gdFtlXShpLmZwLHIpfSxLdD1mdW5jdGlvbiBfZ2V0U2V0dGVyKHQsZSl7cmV0dXJuIHAodFtlXSk/JHQ6cih0W2VdKSYmdC5zZXRBdHRyaWJ1dGU/ZGM6R3R9LEh0PWZ1bmN0aW9uIF9yZW5kZXJQbGFpbih0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLE1hdGgucm91bmQoMWU2KihlLnMrZS5jKnQpKS8xZTYsZSl9LFd0PWZ1bmN0aW9uIF9yZW5kZXJCb29sZWFuKHQsZSl7cmV0dXJuIGUuc2V0KGUudCxlLnAsISEoZS5zK2UuYyp0KSxlKX0sdGU9ZnVuY3Rpb24gX3JlbmRlckNvbXBsZXhTdHJpbmcodCxlKXt2YXIgcj1lLl9wdCxpPSIiO2lmKCF0JiZlLmIpaT1lLmI7ZWxzZSBpZigxPT09dCYmZS5lKWk9ZS5lO2Vsc2V7Zm9yKDtyOylpPXIucCsoci5tP3IubShyLnMrci5jKnQpOk1hdGgucm91bmQoMWU0KihyLnMrci5jKnQpKS8xZTQpK2kscj1yLl9uZXh0O2krPWUuY31lLnNldChlLnQsZS5wLGksZSl9LGVlPWZ1bmN0aW9uIF9yZW5kZXJQcm9wVHdlZW5zKHQsZSl7Zm9yKHZhciByPWUuX3B0O3I7KXIucih0LHIuZCkscj1yLl9uZXh0fSxyZT1mdW5jdGlvbiBfYWRkUGx1Z2luTW9kaWZpZXIodCxlLHIsaSl7Zm9yKHZhciBuLGE9dGhpcy5fcHQ7YTspbj1hLl9uZXh0LGEucD09PWkmJmEubW9kaWZpZXIodCxlLHIpLGE9bn0saWU9ZnVuY3Rpb24gX2tpbGxQcm9wVHdlZW5zT2YodCl7Zm9yKHZhciBlLHIsaT10aGlzLl9wdDtpOylyPWkuX25leHQsaS5wPT09dCYmIWkub3B8fGkub3A9PT10P3JhKHRoaXMsaSwiX3B0Iik6aS5kZXB8fChlPTEpLGk9cjtyZXR1cm4hZX0sbmU9ZnVuY3Rpb24gX3NvcnRQcm9wVHdlZW5zQnlQcmlvcml0eSh0KXtmb3IodmFyIGUscixpLG4sYT10Ll9wdDthOyl7Zm9yKGU9YS5fbmV4dCxyPWk7ciYmci5wcj5hLnByOylyPXIuX25leHQ7KGEuX3ByZXY9cj9yLl9wcmV2Om4pP2EuX3ByZXYuX25leHQ9YTppPWEsKGEuX25leHQ9cik/ci5fcHJldj1hOm49YSxhPWV9dC5fcHQ9aX0sYWU9KFByb3BUd2Vlbi5wcm90b3R5cGUubW9kaWZpZXI9ZnVuY3Rpb24gbW9kaWZpZXIodCxlLHIpe3RoaXMubVNldD10aGlzLm1TZXR8fHRoaXMuc2V0LHRoaXMuc2V0PWxjLHRoaXMubT10LHRoaXMubXQ9cix0aGlzLnR3ZWVuPWV9LFByb3BUd2Vlbik7ZnVuY3Rpb24gUHJvcFR3ZWVuKHQsZSxyLGksbixhLHMsbyx1KXt0aGlzLnQ9ZSx0aGlzLnM9aSx0aGlzLmM9bix0aGlzLnA9cix0aGlzLnI9YXx8SHQsdGhpcy5kPXN8fHRoaXMsdGhpcy5zZXQ9b3x8R3QsdGhpcy5wcj11fHwwLCh0aGlzLl9uZXh0PXQpJiYodC5fcHJldj10aGlzKX1iYShfdCsicGFyZW50LGR1cmF0aW9uLGVhc2UsZGVsYXksb3ZlcndyaXRlLHJ1bkJhY2t3YXJkcyxzdGFydEF0LHlveW8saW1tZWRpYXRlUmVuZGVyLHJlcGVhdCxyZXBlYXREZWxheSxkYXRhLHBhdXNlZCxyZXZlcnNlZCxsYXp5LGNhbGxiYWNrU2NvcGUsc3RyaW5nRmlsdGVyLGlkLHlveW9FYXNlLHN0YWdnZXIsaW5oZXJpdCxyZXBlYXRSZWZyZXNoLGtleWZyYW1lcyxhdXRvUmV2ZXJ0LHNjcm9sbFRyaWdnZXIiLGZ1bmN0aW9uKHQpe3JldHVybiB1dFt0XT0xfSksb3QuVHdlZW5NYXg9b3QuVHdlZW5MaXRlPUp0LG90LlRpbWVsaW5lTGl0ZT1vdC5UaW1lbGluZU1heD1OdCxJPW5ldyBOdCh7c29ydENoaWxkcmVuOiExLGRlZmF1bHRzOkwsYXV0b1JlbW92ZUNoaWxkcmVuOiEwLGlkOiJyb290IixzbW9vdGhDaGlsZFRpbWluZzohMH0pLFkuc3RyaW5nRmlsdGVyPXdiO3ZhciBzZT17cmVnaXN0ZXJQbHVnaW46ZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyllW3JdPWFyZ3VtZW50c1tyXTtlLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uIF9jcmVhdGVQbHVnaW4odCl7dmFyIGU9KHQ9IXQubmFtZSYmdC5kZWZhdWx0fHx0KS5uYW1lLHI9cCh0KSxpPWUmJiFyJiZ0LmluaXQ/ZnVuY3Rpb24oKXt0aGlzLl9wcm9wcz1bXX06dCxuPXtpbml0OlEscmVuZGVyOmVlLGFkZDpZdCxraWxsOmllLG1vZGlmaWVyOnJlLHJhd1ZhcnM6MH0sYT17dGFyZ2V0VGVzdDowLGdldDowLGdldFNldHRlcjpLdCxhbGlhc2VzOnt9LHJlZ2lzdGVyOjB9O2lmKER0KCksdCE9PWkpe2lmKGZ0W2VdKXJldHVybjtqYShpLGphKG5hKHQsbiksYSkpLG10KGkucHJvdG90eXBlLG10KG4sbmEodCxhKSkpLGZ0W2kucHJvcD1lXT1pLHQudGFyZ2V0VGVzdCYmKGN0LnB1c2goaSksdXRbZV09MSksZT0oImNzcyI9PT1lPyJDU1MiOmUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zdWJzdHIoMSkpKyJQbHVnaW4ifVAoZSxpKSx0LnJlZ2lzdGVyJiZ0LnJlZ2lzdGVyKG9lLGksYWUpfSh0KX0pfSx0aW1lbGluZTpmdW5jdGlvbiB0aW1lbGluZSh0KXtyZXR1cm4gbmV3IE50KHQpfSxnZXRUd2VlbnNPZjpmdW5jdGlvbiBnZXRUd2VlbnNPZih0LGUpe3JldHVybiBJLmdldFR3ZWVuc09mKHQsZSl9LGdldFByb3BlcnR5OmZ1bmN0aW9uIGdldFByb3BlcnR5KGksdCxlLHIpe28oaSkmJihpPXh0KGkpWzBdKTt2YXIgbj1fKGl8fHt9KS5nZXQsYT1lP2lhOmhhO3JldHVybiJuYXRpdmUiPT09ZSYmKGU9IiIpLGk/dD9hKChmdFt0XSYmZnRbdF0uZ2V0fHxuKShpLHQsZSxyKSk6ZnVuY3Rpb24odCxlLHIpe3JldHVybiBhKChmdFt0XSYmZnRbdF0uZ2V0fHxuKShpLHQsZSxyKSl9Oml9LHF1aWNrU2V0dGVyOmZ1bmN0aW9uIHF1aWNrU2V0dGVyKHIsZSxpKXtpZigxPChyPXh0KHIpKS5sZW5ndGgpe3ZhciBuPXIubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBvZS5xdWlja1NldHRlcih0LGUsaSl9KSxhPW4ubGVuZ3RoO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIGU9YTtlLS07KW5bZV0odCl9fXI9clswXXx8e307dmFyIHM9ZnRbZV0sbz1fKHIpLHU9by5oYXJuZXNzJiYoby5oYXJuZXNzLmFsaWFzZXN8fHt9KVtlXXx8ZSxoPXM/ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHM7ZC5fcHQ9MCxlLmluaXQocixpP3QraTp0LGQsMCxbcl0pLGUucmVuZGVyKDEsZSksZC5fcHQmJmVlKDEsZCl9Om8uc2V0KHIsdSk7cmV0dXJuIHM/aDpmdW5jdGlvbih0KXtyZXR1cm4gaChyLHUsaT90K2k6dCxvLDEpfX0saXNUd2VlbmluZzpmdW5jdGlvbiBpc1R3ZWVuaW5nKHQpe3JldHVybiAwPEkuZ2V0VHdlZW5zT2YodCwhMCkubGVuZ3RofSxkZWZhdWx0czpmdW5jdGlvbiBkZWZhdWx0cyh0KXtyZXR1cm4gdCYmdC5lYXNlJiYodC5lYXNlPVJ0KHQuZWFzZSxMLmVhc2UpKSxtYShMLHR8fHt9KX0sY29uZmlnOmZ1bmN0aW9uIGNvbmZpZyh0KXtyZXR1cm4gbWEoWSx0fHx7fSl9LHJlZ2lzdGVyRWZmZWN0OmZ1bmN0aW9uIHJlZ2lzdGVyRWZmZWN0KHQpe3ZhciBpPXQubmFtZSxuPXQuZWZmZWN0LGU9dC5wbHVnaW5zLGE9dC5kZWZhdWx0cyxyPXQuZXh0ZW5kVGltZWxpbmU7KGV8fCIiKS5zcGxpdCgiLCIpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQmJiFmdFt0XSYmIW90W3RdJiZPKGkrIiBlZmZlY3QgcmVxdWlyZXMgIit0KyIgcGx1Z2luLiIpfSksZHRbaV09ZnVuY3Rpb24odCxlLHIpe3JldHVybiBuKHh0KHQpLGphKGV8fHt9LGEpLHIpfSxyJiYoTnQucHJvdG90eXBlW2ldPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdGhpcy5hZGQoZHRbaV0odCxzKGUpP2U6KHI9ZSkmJnt9LHRoaXMpLHIpfSl9LHJlZ2lzdGVyRWFzZTpmdW5jdGlvbiByZWdpc3RlckVhc2UodCxlKXt6dFt0XT1SdChlKX0scGFyc2VFYXNlOmZ1bmN0aW9uIHBhcnNlRWFzZSh0LGUpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP1J0KHQsZSk6enR9LGdldEJ5SWQ6ZnVuY3Rpb24gZ2V0QnlJZCh0KXtyZXR1cm4gSS5nZXRCeUlkKHQpfSxleHBvcnRSb290OmZ1bmN0aW9uIGV4cG9ydFJvb3QoZSxyKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIGksbixhPW5ldyBOdChlKTtmb3IoYS5zbW9vdGhDaGlsZFRpbWluZz10KGUuc21vb3RoQ2hpbGRUaW1pbmcpLEkucmVtb3ZlKGEpLGEuX2RwPTAsYS5fdGltZT1hLl90VGltZT1JLl90aW1lLGk9SS5fZmlyc3Q7aTspbj1pLl9uZXh0LCFyJiYhaS5fZHVyJiZpIGluc3RhbmNlb2YgSnQmJmkudmFycy5vbkNvbXBsZXRlPT09aS5fdGFyZ2V0c1swXXx8Q2EoYSxpLGkuX3N0YXJ0LWkuX2RlbGF5KSxpPW47cmV0dXJuIENhKEksYSwwKSxhfSx1dGlsczp7d3JhcDpmdW5jdGlvbiB3cmFwKGUsdCxyKXt2YXIgaT10LWU7cmV0dXJuIFcoZSk/ZGIoZSx3cmFwKDAsZS5sZW5ndGgpLHQpOk9hKHIsZnVuY3Rpb24odCl7cmV0dXJuKGkrKHQtZSklaSklaStlfSl9LHdyYXBZb3lvOmZ1bmN0aW9uIHdyYXBZb3lvKGUsdCxyKXt2YXIgaT10LWUsbj0yKmk7cmV0dXJuIFcoZSk/ZGIoZSx3cmFwWW95bygwLGUubGVuZ3RoLTEpLHQpOk9hKHIsZnVuY3Rpb24odCl7cmV0dXJuIGUrKGk8KHQ9KG4rKHQtZSklbiklbnx8MCk/bi10OnQpfSl9LGRpc3RyaWJ1dGU6WWEscmFuZG9tOl9hLHNuYXA6JGEsbm9ybWFsaXplOmZ1bmN0aW9uIG5vcm1hbGl6ZSh0LGUscil7cmV0dXJuIE90KHQsZSwwLDEscil9LGdldFVuaXQ6UWEsY2xhbXA6ZnVuY3Rpb24gY2xhbXAoZSxyLHQpe3JldHVybiBPYSh0LGZ1bmN0aW9uKHQpe3JldHVybiBUdChlLHIsdCl9KX0sc3BsaXRDb2xvcjpyYix0b0FycmF5Onh0LHNlbGVjdG9yOmZ1bmN0aW9uIHNlbGVjdG9yKHIpe3JldHVybiByPXh0KHIpWzBdfHxPKCJJbnZhbGlkIHNjb3BlIil8fHt9LGZ1bmN0aW9uKHQpe3ZhciBlPXIuY3VycmVudHx8ci5uYXRpdmVFbGVtZW50fHxyO3JldHVybiB4dCh0LGUucXVlcnlTZWxlY3RvckFsbD9lOmU9PT1yP08oIkludmFsaWQgc2NvcGUiKXx8YS5jcmVhdGVFbGVtZW50KCJkaXYiKTpyKX19LG1hcFJhbmdlOk90LHBpcGU6ZnVuY3Rpb24gcGlwZSgpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKWVbcl09YXJndW1lbnRzW3JdO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gZSh0KX0sdCl9fSx1bml0aXplOmZ1bmN0aW9uIHVuaXRpemUoZSxyKXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIGUocGFyc2VGbG9hdCh0KSkrKHJ8fFFhKHQpKX19LGludGVycG9sYXRlOmZ1bmN0aW9uIGludGVycG9sYXRlKGUscix0LGkpe3ZhciBuPWlzTmFOKGUrcik/MDpmdW5jdGlvbih0KXtyZXR1cm4oMS10KSplK3Qqcn07aWYoIW4pe3ZhciBhLHMsdSxoLGwsZj1vKGUpLGQ9e307aWYoITA9PT10JiYoaT0xKSYmKHQ9bnVsbCksZillPXtwOmV9LHI9e3A6cn07ZWxzZSBpZihXKGUpJiYhVyhyKSl7Zm9yKHU9W10saD1lLmxlbmd0aCxsPWgtMixzPTE7czxoO3MrKyl1LnB1c2goaW50ZXJwb2xhdGUoZVtzLTFdLGVbc10pKTtoLS0sbj1mdW5jdGlvbiBmdW5jKHQpe3QqPWg7dmFyIGU9TWF0aC5taW4obCx+fnQpO3JldHVybiB1W2VdKHQtZSl9LHQ9cn1lbHNlIGl8fChlPW10KFcoZSk/W106e30sZSkpO2lmKCF1KXtmb3IoYSBpbiByKVl0LmNhbGwoZCxlLGEsImdldCIsclthXSk7bj1mdW5jdGlvbiBmdW5jKHQpe3JldHVybiBlZSh0LGQpfHwoZj9lLnA6ZSl9fX1yZXR1cm4gT2EodCxuKX0sc2h1ZmZsZTpYYX0saW5zdGFsbDpNLGVmZmVjdHM6ZHQsdGlja2VyOlN0LHVwZGF0ZVJvb3Q6TnQudXBkYXRlUm9vdCxwbHVnaW5zOmZ0LGdsb2JhbFRpbWVsaW5lOkksY29yZTp7UHJvcFR3ZWVuOmFlLGdsb2JhbHM6UCxUd2VlbjpKdCxUaW1lbGluZTpOdCxBbmltYXRpb246cXQsZ2V0Q2FjaGU6XyxfcmVtb3ZlTGlua2VkTGlzdEl0ZW06cmEsc3VwcHJlc3NPdmVyd3JpdGVzOmZ1bmN0aW9uIHN1cHByZXNzT3ZlcndyaXRlcyh0KXtyZXR1cm4gUj10fX19O2JhKCJ0byxmcm9tLGZyb21UbyxkZWxheWVkQ2FsbCxzZXQsa2lsbFR3ZWVuc09mIixmdW5jdGlvbih0KXtyZXR1cm4gc2VbdF09SnRbdF19KSxTdC5hZGQoTnQudXBkYXRlUm9vdCksZD1zZS50byh7fSx7ZHVyYXRpb246MH0pO2Z1bmN0aW9uIHBjKHQsZSl7Zm9yKHZhciByPXQuX3B0O3ImJnIucCE9PWUmJnIub3AhPT1lJiZyLmZwIT09ZTspcj1yLl9uZXh0O3JldHVybiByfWZ1bmN0aW9uIHJjKHQsbil7cmV0dXJue25hbWU6dCxyYXdWYXJzOjEsaW5pdDpmdW5jdGlvbiBpbml0KHQsaSxlKXtlLl9vbkluaXQ9ZnVuY3Rpb24odCl7dmFyIGUscjtpZihvKGkpJiYoZT17fSxiYShpLGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdPTF9KSxpPWUpLG4pe2ZvcihyIGluIGU9e30saSllW3JdPW4oaVtyXSk7aT1lfSFmdW5jdGlvbiBfYWRkTW9kaWZpZXJzKHQsZSl7dmFyIHIsaSxuLGE9dC5fdGFyZ2V0cztmb3IociBpbiBlKWZvcihpPWEubGVuZ3RoO2ktLTspKG49KG49dC5fcHRMb29rdXBbaV1bcl0pJiZuLmQpJiYobi5fcHQmJihuPXBjKG4scikpLG4mJm4ubW9kaWZpZXImJm4ubW9kaWZpZXIoZVtyXSx0LGFbaV0scikpfSh0LGkpfX19fXZhciBvZT1zZS5yZWdpc3RlclBsdWdpbih7bmFtZToiYXR0ciIsaW5pdDpmdW5jdGlvbiBpbml0KHQsZSxyLGksbil7dmFyIGEscztmb3IoYSBpbiBlKShzPXRoaXMuYWRkKHQsInNldEF0dHJpYnV0ZSIsKHQuZ2V0QXR0cmlidXRlKGEpfHwwKSsiIixlW2FdLGksbiwwLDAsYSkpJiYocy5vcD1hKSx0aGlzLl9wcm9wcy5wdXNoKGEpfX0se25hbWU6ImVuZEFycmF5Iixpbml0OmZ1bmN0aW9uIGluaXQodCxlKXtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOyl0aGlzLmFkZCh0LHIsdFtyXXx8MCxlW3JdKX19LHJjKCJyb3VuZFByb3BzIixaYSkscmMoIm1vZGlmaWVycyIpLHJjKCJzbmFwIiwkYSkpfHxzZTtKdC52ZXJzaW9uPU50LnZlcnNpb249b2UudmVyc2lvbj0iMy45LjAiLGw9MSx1KCkmJkR0KCk7ZnVuY3Rpb24gYWQodCxlKXtyZXR1cm4gZS5zZXQoZS50LGUucCxNYXRoLnJvdW5kKDFlNCooZS5zK2UuYyp0KSkvMWU0K2UudSxlKX1mdW5jdGlvbiBiZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLDE9PT10P2UuZTpNYXRoLnJvdW5kKDFlNCooZS5zK2UuYyp0KSkvMWU0K2UudSxlKX1mdW5jdGlvbiBjZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLHQ/TWF0aC5yb3VuZCgxZTQqKGUucytlLmMqdCkpLzFlNCtlLnU6ZS5iLGUpfWZ1bmN0aW9uIGRkKHQsZSl7dmFyIHI9ZS5zK2UuYyp0O2Uuc2V0KGUudCxlLnAsfn4ocisocjwwPy0uNTouNSkpK2UudSxlKX1mdW5jdGlvbiBlZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLHQ/ZS5lOmUuYixlKX1mdW5jdGlvbiBmZCh0LGUpe3JldHVybiBlLnNldChlLnQsZS5wLDEhPT10P2UuYjplLmUsZSl9ZnVuY3Rpb24gZ2QodCxlLHIpe3JldHVybiB0LnN0eWxlW2VdPXJ9ZnVuY3Rpb24gaGQodCxlLHIpe3JldHVybiB0LnN0eWxlLnNldFByb3BlcnR5KGUscil9ZnVuY3Rpb24gaWQodCxlLHIpe3JldHVybiB0Ll9nc2FwW2VdPXJ9ZnVuY3Rpb24gamQodCxlLHIpe3JldHVybiB0Ll9nc2FwLnNjYWxlWD10Ll9nc2FwLnNjYWxlWT1yfWZ1bmN0aW9uIGtkKHQsZSxyLGksbil7dmFyIGE9dC5fZ3NhcDthLnNjYWxlWD1hLnNjYWxlWT1yLGEucmVuZGVyVHJhbnNmb3JtKG4sYSl9ZnVuY3Rpb24gbGQodCxlLHIsaSxuKXt2YXIgYT10Ll9nc2FwO2FbZV09cixhLnJlbmRlclRyYW5zZm9ybShuLGEpfWZ1bmN0aW9uIHBkKHQsZSl7dmFyIHI9aGUuY3JlYXRlRWxlbWVudE5TP2hlLmNyZWF0ZUVsZW1lbnROUygoZXx8Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWwiKS5yZXBsYWNlKC9eaHR0cHMvLCJodHRwIiksdCk6aGUuY3JlYXRlRWxlbWVudCh0KTtyZXR1cm4gci5zdHlsZT9yOmhlLmNyZWF0ZUVsZW1lbnQodCl9ZnVuY3Rpb24gcWQodCxlLHIpe3ZhciBpPWdldENvbXB1dGVkU3R5bGUodCk7cmV0dXJuIGlbZV18fGkuZ2V0UHJvcGVydHlWYWx1ZShlLnJlcGxhY2UoSWUsIi0kMSIpLnRvTG93ZXJDYXNlKCkpfHxpLmdldFByb3BlcnR5VmFsdWUoZSl8fCFyJiZxZCh0LFhlKGUpfHxlLDEpfHwiIn1mdW5jdGlvbiB0ZCgpeyhmdW5jdGlvbiBfd2luZG93RXhpc3RzKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3d9KSgpJiZ3aW5kb3cuZG9jdW1lbnQmJih1ZT13aW5kb3csaGU9dWUuZG9jdW1lbnQsbGU9aGUuZG9jdW1lbnRFbGVtZW50LGRlPXBkKCJkaXYiKXx8e3N0eWxlOnt9fSxwZCgiZGl2IiksUWU9WGUoUWUpLFllPVFlKyJPcmlnaW4iLGRlLnN0eWxlLmNzc1RleHQ9ImJvcmRlci13aWR0aDowO2xpbmUtaGVpZ2h0OjA7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzowIixjZT0hIVhlKCJwZXJzcGVjdGl2ZSIpLGZlPTEpfWZ1bmN0aW9uIHVkKHQpe3ZhciBlLHI9cGQoInN2ZyIsdGhpcy5vd25lclNWR0VsZW1lbnQmJnRoaXMub3duZXJTVkdFbGVtZW50LmdldEF0dHJpYnV0ZSgieG1sbnMiKXx8Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiksaT10aGlzLnBhcmVudE5vZGUsbj10aGlzLm5leHRTaWJsaW5nLGE9dGhpcy5zdHlsZS5jc3NUZXh0O2lmKGxlLmFwcGVuZENoaWxkKHIpLHIuYXBwZW5kQ2hpbGQodGhpcyksdGhpcy5zdHlsZS5kaXNwbGF5PSJibG9jayIsdCl0cnl7ZT10aGlzLmdldEJCb3goKSx0aGlzLl9nc2FwQkJveD10aGlzLmdldEJCb3gsdGhpcy5nZXRCQm94PXVkfWNhdGNoKHQpe31lbHNlIHRoaXMuX2dzYXBCQm94JiYoZT10aGlzLl9nc2FwQkJveCgpKTtyZXR1cm4gaSYmKG4/aS5pbnNlcnRCZWZvcmUodGhpcyxuKTppLmFwcGVuZENoaWxkKHRoaXMpKSxsZS5yZW1vdmVDaGlsZChyKSx0aGlzLnN0eWxlLmNzc1RleHQ9YSxlfWZ1bmN0aW9uIHZkKHQsZSl7Zm9yKHZhciByPWUubGVuZ3RoO3ItLTspaWYodC5oYXNBdHRyaWJ1dGUoZVtyXSkpcmV0dXJuIHQuZ2V0QXR0cmlidXRlKGVbcl0pfWZ1bmN0aW9uIHdkKGUpe3ZhciByO3RyeXtyPWUuZ2V0QkJveCgpfWNhdGNoKHQpe3I9dWQuY2FsbChlLCEwKX1yZXR1cm4gciYmKHIud2lkdGh8fHIuaGVpZ2h0KXx8ZS5nZXRCQm94PT09dWR8fChyPXVkLmNhbGwoZSwhMCkpLCFyfHxyLndpZHRofHxyLnh8fHIueT9yOnt4Oit2ZChlLFsieCIsImN4IiwieDEiXSl8fDAseTordmQoZSxbInkiLCJjeSIsInkxIl0pfHwwLHdpZHRoOjAsaGVpZ2h0OjB9fWZ1bmN0aW9uIHhkKHQpe3JldHVybiEoIXQuZ2V0Q1RNfHx0LnBhcmVudE5vZGUmJiF0Lm93bmVyU1ZHRWxlbWVudHx8IXdkKHQpKX1mdW5jdGlvbiB5ZCh0LGUpe2lmKGUpe3ZhciByPXQuc3R5bGU7ZSBpbiBGZSYmZSE9PVllJiYoZT1RZSksci5yZW1vdmVQcm9wZXJ0eT8oIm1zIiE9PWUuc3Vic3RyKDAsMikmJiJ3ZWJraXQiIT09ZS5zdWJzdHIoMCw2KXx8KGU9Ii0iK2UpLHIucmVtb3ZlUHJvcGVydHkoZS5yZXBsYWNlKEllLCItJDEiKS50b0xvd2VyQ2FzZSgpKSk6ci5yZW1vdmVBdHRyaWJ1dGUoZSl9fWZ1bmN0aW9uIHpkKHQsZSxyLGksbixhKXt2YXIgcz1uZXcgYWUodC5fcHQsZSxyLDAsMSxhP2ZkOmVkKTtyZXR1cm4odC5fcHQ9cykuYj1pLHMuZT1uLHQuX3Byb3BzLnB1c2gociksc31mdW5jdGlvbiBCZCh0LGUscixpKXt2YXIgbixhLHMsbyx1PXBhcnNlRmxvYXQocil8fDAsaD0ocisiIikudHJpbSgpLnN1YnN0cigodSsiIikubGVuZ3RoKXx8InB4IixsPWRlLnN0eWxlLGY9TGUudGVzdChlKSxkPSJzdmciPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkscD0oZD8iY2xpZW50Ijoib2Zmc2V0IikrKGY/IldpZHRoIjoiSGVpZ2h0IiksYz0icHgiPT09aSxtPSIlIj09PWk7cmV0dXJuIGk9PT1ofHwhdXx8VWVbaV18fFVlW2hdP3U6KCJweCI9PT1ofHxjfHwodT1CZCh0LGUsciwicHgiKSksbz10LmdldENUTSYmeGQodCksIW0mJiIlIiE9PWh8fCFGZVtlXSYmIX5lLmluZGV4T2YoImFkaXVzIik/KGxbZj8id2lkdGgiOiJoZWlnaHQiXT0xMDArKGM/aDppKSxhPX5lLmluZGV4T2YoImFkaXVzIil8fCJlbSI9PT1pJiZ0LmFwcGVuZENoaWxkJiYhZD90OnQucGFyZW50Tm9kZSxvJiYoYT0odC5vd25lclNWR0VsZW1lbnR8fHt9KS5wYXJlbnROb2RlKSxhJiZhIT09aGUmJmEuYXBwZW5kQ2hpbGR8fChhPWhlLmJvZHkpLChzPWEuX2dzYXApJiZtJiZzLndpZHRoJiZmJiZzLnRpbWU9PT1TdC50aW1lP2NhKHUvcy53aWR0aCoxMDApOighbSYmIiUiIT09aHx8KGwucG9zaXRpb249cWQodCwicG9zaXRpb24iKSksYT09PXQmJihsLnBvc2l0aW9uPSJzdGF0aWMiKSxhLmFwcGVuZENoaWxkKGRlKSxuPWRlW3BdLGEucmVtb3ZlQ2hpbGQoZGUpLGwucG9zaXRpb249ImFic29sdXRlIixmJiZtJiYoKHM9XyhhKSkudGltZT1TdC50aW1lLHMud2lkdGg9YVtwXSksY2EoYz9uKnUvMTAwOm4mJnU/MTAwL24qdTowKSkpOihuPW8/dC5nZXRCQm94KClbZj8id2lkdGgiOiJoZWlnaHQiXTp0W3BdLGNhKG0/dS9uKjEwMDp1LzEwMCpuKSkpfWZ1bmN0aW9uIENkKHQsZSxyLGkpe3ZhciBuO3JldHVybiBmZXx8dGQoKSxlIGluIE5lJiYidHJhbnNmb3JtIiE9PWUmJn4oZT1OZVtlXSkuaW5kZXhPZigiLCIpJiYoZT1lLnNwbGl0KCIsIilbMF0pLEZlW2VdJiYidHJhbnNmb3JtIiE9PWU/KG49WmUodCxpKSxuPSJ0cmFuc2Zvcm1PcmlnaW4iIT09ZT9uW2VdOm4uc3ZnP24ub3JpZ2luOktlKHFkKHQsWWUpKSsiICIrbi56T3JpZ2luKyJweCIpOihuPXQuc3R5bGVbZV0pJiYiYXV0byIhPT1uJiYhaSYmIX4obisiIikuaW5kZXhPZigiY2FsYygiKXx8KG49SmVbZV0mJkplW2VdKHQsZSxyKXx8cWQodCxlKXx8YWEodCxlKXx8KCJvcGFjaXR5Ij09PWU/MTowKSksciYmIX4obisiIikudHJpbSgpLmluZGV4T2YoIiAiKT9CZCh0LGUsbixyKStyOm59ZnVuY3Rpb24gRGQodCxlLHIsaSl7aWYoIXJ8fCJub25lIj09PXIpe3ZhciBuPVhlKGUsdCwxKSxhPW4mJnFkKHQsbiwxKTthJiZhIT09cj8oZT1uLHI9YSk6ImJvcmRlckNvbG9yIj09PWUmJihyPXFkKHQsImJvcmRlclRvcENvbG9yIikpfXZhciBzLG8sdSxoLGwsZixkLHAsYyxfLG0sZyx2PW5ldyBhZSh0aGlzLl9wdCx0LnN0eWxlLGUsMCwxLHRlKSx5PTAsYj0wO2lmKHYuYj1yLHYuZT1pLHIrPSIiLCJhdXRvIj09PShpKz0iIikmJih0LnN0eWxlW2VdPWksaT1xZCh0LGUpfHxpLHQuc3R5bGVbZV09ciksd2Iocz1bcixpXSksaT1zWzFdLHU9KHI9c1swXSkubWF0Y2gocnQpfHxbXSwoaS5tYXRjaChydCl8fFtdKS5sZW5ndGgpe2Zvcig7bz1ydC5leGVjKGkpOylkPW9bMF0sYz1pLnN1YnN0cmluZyh5LG8uaW5kZXgpLGw/bD0obCsxKSU1OiJyZ2JhKCIhPT1jLnN1YnN0cigtNSkmJiJoc2xhKCIhPT1jLnN1YnN0cigtNSl8fChsPTEpLGQhPT0oZj11W2IrK118fCIiKSYmKGg9cGFyc2VGbG9hdChmKXx8MCxtPWYuc3Vic3RyKChoKyIiKS5sZW5ndGgpLChnPSI9Ij09PWQuY2hhckF0KDEpPysoZC5jaGFyQXQoMCkrIjEiKTowKSYmKGQ9ZC5zdWJzdHIoMikpLHA9cGFyc2VGbG9hdChkKSxfPWQuc3Vic3RyKChwKyIiKS5sZW5ndGgpLHk9cnQubGFzdEluZGV4LV8ubGVuZ3RoLF98fChfPV98fFkudW5pdHNbZV18fG0seT09PWkubGVuZ3RoJiYoaSs9Xyx2LmUrPV8pKSxtIT09XyYmKGg9QmQodCxlLGYsXyl8fDApLHYuX3B0PXtfbmV4dDp2Ll9wdCxwOmN8fDE9PT1iP2M6IiwiLHM6aCxjOmc/ZypwOnAtaCxtOmwmJmw8NHx8InpJbmRleCI9PT1lP01hdGgucm91bmQ6MH0pO3YuYz15PGkubGVuZ3RoP2kuc3Vic3RyaW5nKHksaS5sZW5ndGgpOiIifWVsc2Ugdi5yPSJkaXNwbGF5Ij09PWUmJiJub25lIj09PWk/ZmQ6ZWQ7cmV0dXJuIG50LnRlc3QoaSkmJih2LmU9MCksdGhpcy5fcHQ9dn1mdW5jdGlvbiBGZCh0KXt2YXIgZT10LnNwbGl0KCIgIikscj1lWzBdLGk9ZVsxXXx8IjUwJSI7cmV0dXJuInRvcCIhPT1yJiYiYm90dG9tIiE9PXImJiJsZWZ0IiE9PWkmJiJyaWdodCIhPT1pfHwodD1yLHI9aSxpPXQpLGVbMF09VmVbcl18fHIsZVsxXT1WZVtpXXx8aSxlLmpvaW4oIiAiKX1mdW5jdGlvbiBHZCh0LGUpe2lmKGUudHdlZW4mJmUudHdlZW4uX3RpbWU9PT1lLnR3ZWVuLl9kdXIpe3ZhciByLGksbixhPWUudCxzPWEuc3R5bGUsbz1lLnUsdT1hLl9nc2FwO2lmKCJhbGwiPT09b3x8ITA9PT1vKXMuY3NzVGV4dD0iIixpPTE7ZWxzZSBmb3Iobj0obz1vLnNwbGl0KCIsIikpLmxlbmd0aDstMTwtLW47KXI9b1tuXSxGZVtyXSYmKGk9MSxyPSJ0cmFuc2Zvcm1PcmlnaW4iPT09cj9ZZTpRZSkseWQoYSxyKTtpJiYoeWQoYSxRZSksdSYmKHUuc3ZnJiZhLnJlbW92ZUF0dHJpYnV0ZSgidHJhbnNmb3JtIiksWmUoYSwxKSx1LnVuY2FjaGU9MSkpfX1mdW5jdGlvbiBLZCh0KXtyZXR1cm4ibWF0cml4KDEsIDAsIDAsIDEsIDAsIDApIj09PXR8fCJub25lIj09PXR8fCF0fWZ1bmN0aW9uIExkKHQpe3ZhciBlPXFkKHQsUWUpO3JldHVybiBLZChlKT9HZTplLnN1YnN0cig3KS5tYXRjaChldCkubWFwKGNhKX1mdW5jdGlvbiBNZCh0LGUpe3ZhciByLGksbixhLHM9dC5fZ3NhcHx8Xyh0KSxvPXQuc3R5bGUsdT1MZCh0KTtyZXR1cm4gcy5zdmcmJnQuZ2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iKT8iMSwwLDAsMSwwLDAiPT09KHU9WyhuPXQudHJhbnNmb3JtLmJhc2VWYWwuY29uc29saWRhdGUoKS5tYXRyaXgpLmEsbi5iLG4uYyxuLmQsbi5lLG4uZl0pLmpvaW4oIiwiKT9HZTp1Oih1IT09R2V8fHQub2Zmc2V0UGFyZW50fHx0PT09bGV8fHMuc3ZnfHwobj1vLmRpc3BsYXksby5kaXNwbGF5PSJibG9jayIsKHI9dC5wYXJlbnROb2RlKSYmdC5vZmZzZXRQYXJlbnR8fChhPTEsaT10Lm5leHRTaWJsaW5nLGxlLmFwcGVuZENoaWxkKHQpKSx1PUxkKHQpLG4/by5kaXNwbGF5PW46eWQodCwiZGlzcGxheSIpLGEmJihpP3IuaW5zZXJ0QmVmb3JlKHQsaSk6cj9yLmFwcGVuZENoaWxkKHQpOmxlLnJlbW92ZUNoaWxkKHQpKSksZSYmNjx1Lmxlbmd0aD9bdVswXSx1WzFdLHVbNF0sdVs1XSx1WzEyXSx1WzEzXV06dSl9ZnVuY3Rpb24gTmQodCxlLHIsaSxuLGEpe3ZhciBzLG8sdSxoPXQuX2dzYXAsbD1ufHxNZCh0LCEwKSxmPWgueE9yaWdpbnx8MCxkPWgueU9yaWdpbnx8MCxwPWgueE9mZnNldHx8MCxjPWgueU9mZnNldHx8MCxfPWxbMF0sbT1sWzFdLGc9bFsyXSx2PWxbM10seT1sWzRdLGI9bFs1XSxUPWUuc3BsaXQoIiAiKSx3PXBhcnNlRmxvYXQoVFswXSl8fDAseD1wYXJzZUZsb2F0KFRbMV0pfHwwO3I/bCE9PUdlJiYobz1fKnYtbSpnKSYmKHU9dyooLW0vbykreCooXy9vKS0oXypiLW0qeSkvbyx3PXcqKHYvbykreCooLWcvbykrKGcqYi12KnkpL28seD11KToodz0ocz13ZCh0KSkueCsoflRbMF0uaW5kZXhPZigiJSIpP3cvMTAwKnMud2lkdGg6dykseD1zLnkrKH4oVFsxXXx8VFswXSkuaW5kZXhPZigiJSIpP3gvMTAwKnMuaGVpZ2h0OngpKSxpfHwhMSE9PWkmJmguc21vb3RoPyh5PXctZixiPXgtZCxoLnhPZmZzZXQ9cCsoeSpfK2IqZykteSxoLnlPZmZzZXQ9YysoeSptK2IqdiktYik6aC54T2Zmc2V0PWgueU9mZnNldD0wLGgueE9yaWdpbj13LGgueU9yaWdpbj14LGguc21vb3RoPSEhaSxoLm9yaWdpbj1lLGgub3JpZ2luSXNBYnNvbHV0ZT0hIXIsdC5zdHlsZVtZZV09IjBweCAwcHgiLGEmJih6ZChhLGgsInhPcmlnaW4iLGYsdyksemQoYSxoLCJ5T3JpZ2luIixkLHgpLHpkKGEsaCwieE9mZnNldCIscCxoLnhPZmZzZXQpLHpkKGEsaCwieU9mZnNldCIsYyxoLnlPZmZzZXQpKSx0LnNldEF0dHJpYnV0ZSgiZGF0YS1zdmctb3JpZ2luIix3KyIgIit4KX1mdW5jdGlvbiBRZCh0LGUscil7dmFyIGk9UWEoZSk7cmV0dXJuIGNhKHBhcnNlRmxvYXQoZSkrcGFyc2VGbG9hdChCZCh0LCJ4IixyKyJweCIsaSkpKStpfWZ1bmN0aW9uIFhkKHQsZSxyLGksbixhKXt2YXIgcyx1LGg9MzYwLGw9byhuKSxmPXBhcnNlRmxvYXQobikqKGwmJn5uLmluZGV4T2YoInJhZCIpP0VlOjEpLGQ9YT9mKmE6Zi1pLHA9aStkKyJkZWciO3JldHVybiBsJiYoInNob3J0Ij09PShzPW4uc3BsaXQoIl8iKVsxXSkmJihkJT1oKSE9PWQlMTgwJiYoZCs9ZDwwP2g6LWgpLCJjdyI9PT1zJiZkPDA/ZD0oZCszNmU5KSVoLX5+KGQvaCkqaDoiY2N3Ij09PXMmJjA8ZCYmKGQ9KGQtMzZlOSklaC1+fihkL2gpKmgpKSx0Ll9wdD11PW5ldyBhZSh0Ll9wdCxlLHIsaSxkLGJkKSx1LmU9cCx1LnU9ImRlZyIsdC5fcHJvcHMucHVzaChyKSx1fWZ1bmN0aW9uIFlkKHQsZSl7Zm9yKHZhciByIGluIGUpdFtyXT1lW3JdO3JldHVybiB0fWZ1bmN0aW9uIFpkKHQsZSxyKXt2YXIgaSxuLGEscyxvLHUsaCxsPVlkKHt9LHIuX2dzYXApLGY9ci5zdHlsZTtmb3IobiBpbiBsLnN2Zz8oYT1yLmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiksci5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsIiIpLGZbUWVdPWUsaT1aZShyLDEpLHlkKHIsUWUpLHIuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLGEpKTooYT1nZXRDb21wdXRlZFN0eWxlKHIpW1FlXSxmW1FlXT1lLGk9WmUociwxKSxmW1FlXT1hKSxGZSkoYT1sW25dKSE9PShzPWlbbl0pJiYicGVyc3BlY3RpdmUsZm9yY2UzRCx0cmFuc2Zvcm1PcmlnaW4sc3ZnT3JpZ2luIi5pbmRleE9mKG4pPDAmJihvPVFhKGEpIT09KGg9UWEocykpP0JkKHIsbixhLGgpOnBhcnNlRmxvYXQoYSksdT1wYXJzZUZsb2F0KHMpLHQuX3B0PW5ldyBhZSh0Ll9wdCxpLG4sbyx1LW8sYWQpLHQuX3B0LnU9aHx8MCx0Ll9wcm9wcy5wdXNoKG4pKTtZZChpLGwpfXZhciB1ZSxoZSxsZSxmZSxkZSxwZSxjZSxfZT16dC5Qb3dlcjAsbWU9enQuUG93ZXIxLGdlPXp0LlBvd2VyMix2ZT16dC5Qb3dlcjMseWU9enQuUG93ZXI0LGJlPXp0LkxpbmVhcixUZT16dC5RdWFkLHdlPXp0LkN1YmljLHhlPXp0LlF1YXJ0LE9lPXp0LlF1aW50LE1lPXp0LlN0cm9uZyxrZT16dC5FbGFzdGljLENlPXp0LkJhY2ssUGU9enQuU3RlcHBlZEVhc2UsQWU9enQuQm91bmNlLFNlPXp0LlNpbmUsRGU9enQuRXhwbyx6ZT16dC5DaXJjLEZlPXt9LEVlPTE4MC9NYXRoLlBJLEJlPU1hdGguUEkvMTgwLFJlPU1hdGguYXRhbjIsSWU9LyhbQS1aXSkvZyxMZT0vKD86bGVmdHxyaWdodHx3aWR0aHxtYXJnaW58cGFkZGluZ3x4KS9pLHFlPS9bXHMsXChdXFMvLE5lPXthdXRvQWxwaGE6Im9wYWNpdHksdmlzaWJpbGl0eSIsc2NhbGU6InNjYWxlWCxzY2FsZVkiLGFscGhhOiJvcGFjaXR5In0sUWU9InRyYW5zZm9ybSIsWWU9UWUrIk9yaWdpbiIsamU9Ik8sTW96LG1zLE1zLFdlYmtpdCIuc3BsaXQoIiwiKSxYZT1mdW5jdGlvbiBfY2hlY2tQcm9wUHJlZml4KHQsZSxyKXt2YXIgaT0oZXx8ZGUpLnN0eWxlLG49NTtpZih0IGluIGkmJiFyKXJldHVybiB0O2Zvcih0PXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zdWJzdHIoMSk7bi0tJiYhKGplW25dK3QgaW4gaSk7KTtyZXR1cm4gbjwwP251bGw6KDM9PT1uPyJtcyI6MDw9bj9qZVtuXToiIikrdH0sVWU9e2RlZzoxLHJhZDoxLHR1cm46MX0sVmU9e3RvcDoiMCUiLGJvdHRvbToiMTAwJSIsbGVmdDoiMCUiLHJpZ2h0OiIxMDAlIixjZW50ZXI6IjUwJSJ9LEplPXtjbGVhclByb3BzOmZ1bmN0aW9uIGNsZWFyUHJvcHModCxlLHIsaSxuKXtpZigiaXNGcm9tU3RhcnQiIT09bi5kYXRhKXt2YXIgYT10Ll9wdD1uZXcgYWUodC5fcHQsZSxyLDAsMCxHZCk7cmV0dXJuIGEudT1pLGEucHI9LTEwLGEudHdlZW49bix0Ll9wcm9wcy5wdXNoKHIpLDF9fX0sR2U9WzEsMCwwLDEsMCwwXSwkZT17fSxaZT1mdW5jdGlvbiBfcGFyc2VUcmFuc2Zvcm0odCxlKXt2YXIgcj10Ll9nc2FwfHxuZXcgTHQodCk7aWYoIngiaW4gciYmIWUmJiFyLnVuY2FjaGUpcmV0dXJuIHI7dmFyIGksbixhLHMsbyx1LGgsbCxmLGQscCxjLF8sbSxnLHYseSxiLFQsdyx4LE8sTSxrLEMsUCxBLFMsRCx6LEYsRSxCPXQuc3R5bGUsUj1yLnNjYWxlWDwwLEk9ImRlZyIsTD1xZCh0LFllKXx8IjAiO3JldHVybiBpPW49YT11PWg9bD1mPWQ9cD0wLHM9bz0xLHIuc3ZnPSEoIXQuZ2V0Q1RNfHwheGQodCkpLG09TWQodCxyLnN2Zyksci5zdmcmJihrPSghci51bmNhY2hlfHwiMHB4IDBweCI9PT1MKSYmIWUmJnQuZ2V0QXR0cmlidXRlKCJkYXRhLXN2Zy1vcmlnaW4iKSxOZCh0LGt8fEwsISFrfHxyLm9yaWdpbklzQWJzb2x1dGUsITEhPT1yLnNtb290aCxtKSksYz1yLnhPcmlnaW58fDAsXz1yLnlPcmlnaW58fDAsbSE9PUdlJiYoYj1tWzBdLFQ9bVsxXSx3PW1bMl0seD1tWzNdLGk9Tz1tWzRdLG49TT1tWzVdLDY9PT1tLmxlbmd0aD8ocz1NYXRoLnNxcnQoYipiK1QqVCksbz1NYXRoLnNxcnQoeCp4K3cqdyksdT1ifHxUP1JlKFQsYikqRWU6MCwoZj13fHx4P1JlKHcseCkqRWUrdTowKSYmKG8qPU1hdGguYWJzKE1hdGguY29zKGYqQmUpKSksci5zdmcmJihpLT1jLShjKmIrXyp3KSxuLT1fLShjKlQrXyp4KSkpOihFPW1bNl0sej1tWzddLEE9bVs4XSxTPW1bOV0sRD1tWzEwXSxGPW1bMTFdLGk9bVsxMl0sbj1tWzEzXSxhPW1bMTRdLGg9KGc9UmUoRSxEKSkqRWUsZyYmKGs9Tyoodj1NYXRoLmNvcygtZykpK0EqKHk9TWF0aC5zaW4oLWcpKSxDPU0qditTKnksUD1FKnYrRCp5LEE9TyoteStBKnYsUz1NKi15K1MqdixEPUUqLXkrRCp2LEY9eioteStGKnYsTz1rLE09QyxFPVApLGw9KGc9UmUoLXcsRCkpKkVlLGcmJih2PU1hdGguY29zKC1nKSxGPXgqKHk9TWF0aC5zaW4oLWcpKStGKnYsYj1rPWIqdi1BKnksVD1DPVQqdi1TKnksdz1QPXcqdi1EKnkpLHU9KGc9UmUoVCxiKSkqRWUsZyYmKGs9Yioodj1NYXRoLmNvcyhnKSkrVCooeT1NYXRoLnNpbihnKSksQz1PKnYrTSp5LFQ9VCp2LWIqeSxNPU0qdi1PKnksYj1rLE89QyksaCYmMzU5Ljk8TWF0aC5hYnMoaCkrTWF0aC5hYnModSkmJihoPXU9MCxsPTE4MC1sKSxzPWNhKE1hdGguc3FydChiKmIrVCpUK3cqdykpLG89Y2EoTWF0aC5zcXJ0KE0qTStFKkUpKSxnPVJlKE8sTSksZj0yZS00PE1hdGguYWJzKGcpP2cqRWU6MCxwPUY/MS8oRjwwPy1GOkYpOjApLHIuc3ZnJiYoaz10LmdldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiksci5mb3JjZUNTUz10LnNldEF0dHJpYnV0ZSgidHJhbnNmb3JtIiwiIil8fCFLZChxZCh0LFFlKSksayYmdC5zZXRBdHRyaWJ1dGUoInRyYW5zZm9ybSIsaykpKSw5MDxNYXRoLmFicyhmKSYmTWF0aC5hYnMoZik8MjcwJiYoUj8ocyo9LTEsZis9dTw9MD8xODA6LTE4MCx1Kz11PD0wPzE4MDotMTgwKToobyo9LTEsZis9Zjw9MD8xODA6LTE4MCkpLHIueD1pLSgoci54UGVyY2VudD1pJiYoci54UGVyY2VudHx8KE1hdGgucm91bmQodC5vZmZzZXRXaWR0aC8yKT09PU1hdGgucm91bmQoLWkpPy01MDowKSkpP3Qub2Zmc2V0V2lkdGgqci54UGVyY2VudC8xMDA6MCkrInB4IixyLnk9bi0oKHIueVBlcmNlbnQ9biYmKHIueVBlcmNlbnR8fChNYXRoLnJvdW5kKHQub2Zmc2V0SGVpZ2h0LzIpPT09TWF0aC5yb3VuZCgtbik/LTUwOjApKSk/dC5vZmZzZXRIZWlnaHQqci55UGVyY2VudC8xMDA6MCkrInB4IixyLno9YSsicHgiLHIuc2NhbGVYPWNhKHMpLHIuc2NhbGVZPWNhKG8pLHIucm90YXRpb249Y2EodSkrSSxyLnJvdGF0aW9uWD1jYShoKStJLHIucm90YXRpb25ZPWNhKGwpK0ksci5za2V3WD1mK0ksci5za2V3WT1kK0ksci50cmFuc2Zvcm1QZXJzcGVjdGl2ZT1wKyJweCIsKHIuek9yaWdpbj1wYXJzZUZsb2F0KEwuc3BsaXQoIiAiKVsyXSl8fDApJiYoQltZZV09S2UoTCkpLHIueE9mZnNldD1yLnlPZmZzZXQ9MCxyLmZvcmNlM0Q9WS5mb3JjZTNELHIucmVuZGVyVHJhbnNmb3JtPXIuc3ZnP2lyOmNlP3JyOkhlLHIudW5jYWNoZT0wLHJ9LEtlPWZ1bmN0aW9uIF9maXJzdFR3b09ubHkodCl7cmV0dXJuKHQ9dC5zcGxpdCgiICIpKVswXSsiICIrdFsxXX0sSGU9ZnVuY3Rpb24gX3JlbmRlck5vbjNEVHJhbnNmb3Jtcyh0LGUpe2Uuej0iMHB4IixlLnJvdGF0aW9uWT1lLnJvdGF0aW9uWD0iMGRlZyIsZS5mb3JjZTNEPTAscnIodCxlKX0sV2U9IjBkZWciLHRyPSIwcHgiLGVyPSIpICIscnI9ZnVuY3Rpb24gX3JlbmRlckNTU1RyYW5zZm9ybXModCxlKXt2YXIgcj1lfHx0aGlzLGk9ci54UGVyY2VudCxuPXIueVBlcmNlbnQsYT1yLngscz1yLnksbz1yLnosdT1yLnJvdGF0aW9uLGg9ci5yb3RhdGlvblksbD1yLnJvdGF0aW9uWCxmPXIuc2tld1gsZD1yLnNrZXdZLHA9ci5zY2FsZVgsYz1yLnNjYWxlWSxfPXIudHJhbnNmb3JtUGVyc3BlY3RpdmUsbT1yLmZvcmNlM0QsZz1yLnRhcmdldCx2PXIuek9yaWdpbix5PSIiLGI9ImF1dG8iPT09bSYmdCYmMSE9PXR8fCEwPT09bTtpZih2JiYobCE9PVdlfHxoIT09V2UpKXt2YXIgVCx3PXBhcnNlRmxvYXQoaCkqQmUseD1NYXRoLnNpbih3KSxPPU1hdGguY29zKHcpO3c9cGFyc2VGbG9hdChsKSpCZSxUPU1hdGguY29zKHcpLGE9UWQoZyxhLHgqVCotdikscz1RZChnLHMsLU1hdGguc2luKHcpKi12KSxvPVFkKGcsbyxPKlQqLXYrdil9XyE9PXRyJiYoeSs9InBlcnNwZWN0aXZlKCIrXytlciksKGl8fG4pJiYoeSs9InRyYW5zbGF0ZSgiK2krIiUsICIrbisiJSkgIiksIWImJmE9PT10ciYmcz09PXRyJiZvPT09dHJ8fCh5Kz1vIT09dHJ8fGI/InRyYW5zbGF0ZTNkKCIrYSsiLCAiK3MrIiwgIitvKyIpICI6InRyYW5zbGF0ZSgiK2ErIiwgIitzK2VyKSx1IT09V2UmJih5Kz0icm90YXRlKCIrdStlciksaCE9PVdlJiYoeSs9InJvdGF0ZVkoIitoK2VyKSxsIT09V2UmJih5Kz0icm90YXRlWCgiK2wrZXIpLGY9PT1XZSYmZD09PVdlfHwoeSs9InNrZXcoIitmKyIsICIrZCtlciksMT09PXAmJjE9PT1jfHwoeSs9InNjYWxlKCIrcCsiLCAiK2MrZXIpLGcuc3R5bGVbUWVdPXl8fCJ0cmFuc2xhdGUoMCwgMCkifSxpcj1mdW5jdGlvbiBfcmVuZGVyU1ZHVHJhbnNmb3Jtcyh0LGUpe3ZhciByLGksbixhLHMsbz1lfHx0aGlzLHU9by54UGVyY2VudCxoPW8ueVBlcmNlbnQsbD1vLngsZj1vLnksZD1vLnJvdGF0aW9uLHA9by5za2V3WCxjPW8uc2tld1ksXz1vLnNjYWxlWCxtPW8uc2NhbGVZLGc9by50YXJnZXQsdj1vLnhPcmlnaW4seT1vLnlPcmlnaW4sYj1vLnhPZmZzZXQsVD1vLnlPZmZzZXQsdz1vLmZvcmNlQ1NTLHg9cGFyc2VGbG9hdChsKSxPPXBhcnNlRmxvYXQoZik7ZD1wYXJzZUZsb2F0KGQpLHA9cGFyc2VGbG9hdChwKSwoYz1wYXJzZUZsb2F0KGMpKSYmKHArPWM9cGFyc2VGbG9hdChjKSxkKz1jKSxkfHxwPyhkKj1CZSxwKj1CZSxyPU1hdGguY29zKGQpKl8saT1NYXRoLnNpbihkKSpfLG49TWF0aC5zaW4oZC1wKSotbSxhPU1hdGguY29zKGQtcCkqbSxwJiYoYyo9QmUscz1NYXRoLnRhbihwLWMpLG4qPXM9TWF0aC5zcXJ0KDErcypzKSxhKj1zLGMmJihzPU1hdGgudGFuKGMpLHIqPXM9TWF0aC5zcXJ0KDErcypzKSxpKj1zKSkscj1jYShyKSxpPWNhKGkpLG49Y2EobiksYT1jYShhKSk6KHI9XyxhPW0saT1uPTApLCh4JiYhfihsKyIiKS5pbmRleE9mKCJweCIpfHxPJiYhfihmKyIiKS5pbmRleE9mKCJweCIpKSYmKHg9QmQoZywieCIsbCwicHgiKSxPPUJkKGcsInkiLGYsInB4IikpLCh2fHx5fHxifHxUKSYmKHg9Y2EoeCt2LSh2KnIreSpuKStiKSxPPWNhKE8reS0odippK3kqYSkrVCkpLCh1fHxoKSYmKHM9Zy5nZXRCQm94KCkseD1jYSh4K3UvMTAwKnMud2lkdGgpLE89Y2EoTytoLzEwMCpzLmhlaWdodCkpLHM9Im1hdHJpeCgiK3IrIiwiK2krIiwiK24rIiwiK2ErIiwiK3grIiwiK08rIikiLGcuc2V0QXR0cmlidXRlKCJ0cmFuc2Zvcm0iLHMpLHcmJihnLnN0eWxlW1FlXT1zKX07YmEoInBhZGRpbmcsbWFyZ2luLFdpZHRoLFJhZGl1cyIsZnVuY3Rpb24oZSxyKXt2YXIgdD0iUmlnaHQiLGk9IkJvdHRvbSIsbj0iTGVmdCIsbz0ocjwzP1siVG9wIix0LGksbl06WyJUb3AiK24sIlRvcCIrdCxpK3QsaStuXSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiByPDI/ZSt0OiJib3JkZXIiK3QrZX0pO0plWzE8cj8iYm9yZGVyIitlOmVdPWZ1bmN0aW9uKGUsdCxyLGksbil7dmFyIGEscztpZihhcmd1bWVudHMubGVuZ3RoPDQpcmV0dXJuIGE9by5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIENkKGUsdCxyKX0pLDU9PT0ocz1hLmpvaW4oIiAiKSkuc3BsaXQoYVswXSkubGVuZ3RoP2FbMF06czthPShpKyIiKS5zcGxpdCgiICIpLHM9e30sby5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHNbdF09YVtlXT1hW2VdfHxhWyhlLTEpLzJ8MF19KSxlLmluaXQodCxzLG4pfX0pO3ZhciBucixhcixzcixvcj17bmFtZToiY3NzIixyZWdpc3Rlcjp0ZCx0YXJnZXRUZXN0OmZ1bmN0aW9uIHRhcmdldFRlc3QodCl7cmV0dXJuIHQuc3R5bGUmJnQubm9kZVR5cGV9LGluaXQ6ZnVuY3Rpb24gaW5pdCh0LGUscixpLG4pe3ZhciBhLHMsdSxoLGwsZixkLHAsYyxfLG0sZyx2LHksYixUPXRoaXMuX3Byb3BzLHc9dC5zdHlsZSx4PXIudmFycy5zdGFydEF0O2ZvcihkIGluIGZlfHx0ZCgpLGUpaWYoImF1dG9Sb3VuZCIhPT1kJiYocz1lW2RdLCFmdFtkXXx8IVRiKGQsZSxyLGksdCxuKSkpaWYobD10eXBlb2YgcyxmPUplW2RdLCJmdW5jdGlvbiI9PT1sJiYobD10eXBlb2Yocz1zLmNhbGwocixpLHQsbikpKSwic3RyaW5nIj09PWwmJn5zLmluZGV4T2YoInJhbmRvbSgiKSYmKHM9Z2IocykpLGYpZih0aGlzLHQsZCxzLHIpJiYoYj0xKTtlbHNlIGlmKCItLSI9PT1kLnN1YnN0cigwLDIpKWE9KGdldENvbXB1dGVkU3R5bGUodCkuZ2V0UHJvcGVydHlWYWx1ZShkKSsiIikudHJpbSgpLHMrPSIiLFB0Lmxhc3RJbmRleD0wLFB0LnRlc3QoYSl8fChwPVFhKGEpLGM9UWEocykpLGM/cCE9PWMmJihhPUJkKHQsZCxhLGMpK2MpOnAmJihzKz1wKSx0aGlzLmFkZCh3LCJzZXRQcm9wZXJ0eSIsYSxzLGksbiwwLDAsZCksVC5wdXNoKGQpO2Vsc2UgaWYoInVuZGVmaW5lZCIhPT1sKXtpZih4JiZkIGluIHg/KGE9ImZ1bmN0aW9uIj09dHlwZW9mIHhbZF0/eFtkXS5jYWxsKHIsaSx0LG4pOnhbZF0sZCBpbiBZLnVuaXRzJiYhUWEoYSkmJihhKz1ZLnVuaXRzW2RdKSxvKGEpJiZ+YS5pbmRleE9mKCJyYW5kb20oIikmJihhPWdiKGEpKSwiPSI9PT0oYSsiIikuY2hhckF0KDEpJiYoYT1DZCh0LGQpKSk6YT1DZCh0LGQpLGg9cGFyc2VGbG9hdChhKSwoXz0ic3RyaW5nIj09PWwmJiI9Ij09PXMuY2hhckF0KDEpPysocy5jaGFyQXQoMCkrIjEiKTowKSYmKHM9cy5zdWJzdHIoMikpLHU9cGFyc2VGbG9hdChzKSxkIGluIE5lJiYoImF1dG9BbHBoYSI9PT1kJiYoMT09PWgmJiJoaWRkZW4iPT09Q2QodCwidmlzaWJpbGl0eSIpJiZ1JiYoaD0wKSx6ZCh0aGlzLHcsInZpc2liaWxpdHkiLGg/ImluaGVyaXQiOiJoaWRkZW4iLHU/ImluaGVyaXQiOiJoaWRkZW4iLCF1KSksInNjYWxlIiE9PWQmJiJ0cmFuc2Zvcm0iIT09ZCYmfihkPU5lW2RdKS5pbmRleE9mKCIsIikmJihkPWQuc3BsaXQoIiwiKVswXSkpLG09ZCBpbiBGZSlpZihnfHwoKHY9dC5fZ3NhcCkucmVuZGVyVHJhbnNmb3JtJiYhZS5wYXJzZVRyYW5zZm9ybXx8WmUodCxlLnBhcnNlVHJhbnNmb3JtKSx5PSExIT09ZS5zbW9vdGhPcmlnaW4mJnYuc21vb3RoLChnPXRoaXMuX3B0PW5ldyBhZSh0aGlzLl9wdCx3LFFlLDAsMSx2LnJlbmRlclRyYW5zZm9ybSx2LDAsLTEpKS5kZXA9MSksInNjYWxlIj09PWQpdGhpcy5fcHQ9bmV3IGFlKHRoaXMuX3B0LHYsInNjYWxlWSIsdi5zY2FsZVksKF8/Xyp1OnUtdi5zY2FsZVkpfHwwKSxULnB1c2goInNjYWxlWSIsZCksZCs9IlgiO2Vsc2V7aWYoInRyYW5zZm9ybU9yaWdpbiI9PT1kKXtzPUZkKHMpLHYuc3ZnP05kKHQscywwLHksMCx0aGlzKTooKGM9cGFyc2VGbG9hdChzLnNwbGl0KCIgIilbMl0pfHwwKSE9PXYuek9yaWdpbiYmemQodGhpcyx2LCJ6T3JpZ2luIix2LnpPcmlnaW4sYyksemQodGhpcyx3LGQsS2UoYSksS2UocykpKTtjb250aW51ZX1pZigic3ZnT3JpZ2luIj09PWQpe05kKHQscywxLHksMCx0aGlzKTtjb250aW51ZX1pZihkIGluICRlKXtYZCh0aGlzLHYsZCxoLHMsXyk7Y29udGludWV9aWYoInNtb290aE9yaWdpbiI9PT1kKXt6ZCh0aGlzLHYsInNtb290aCIsdi5zbW9vdGgscyk7Y29udGludWV9aWYoImZvcmNlM0QiPT09ZCl7dltkXT1zO2NvbnRpbnVlfWlmKCJ0cmFuc2Zvcm0iPT09ZCl7WmQodGhpcyxzLHQpO2NvbnRpbnVlfX1lbHNlIGQgaW4gd3x8KGQ9WGUoZCl8fGQpO2lmKG18fCh1fHwwPT09dSkmJihofHwwPT09aCkmJiFxZS50ZXN0KHMpJiZkIGluIHcpdT11fHwwLChwPShhKyIiKS5zdWJzdHIoKGgrIiIpLmxlbmd0aCkpIT09KGM9UWEocyl8fChkIGluIFkudW5pdHM/WS51bml0c1tkXTpwKSkmJihoPUJkKHQsZCxhLGMpKSx0aGlzLl9wdD1uZXcgYWUodGhpcy5fcHQsbT92OncsZCxoLF8/Xyp1OnUtaCxtfHwicHgiIT09YyYmInpJbmRleCIhPT1kfHwhMT09PWUuYXV0b1JvdW5kP2FkOmRkKSx0aGlzLl9wdC51PWN8fDAscCE9PWMmJiIlIiE9PWMmJih0aGlzLl9wdC5iPWEsdGhpcy5fcHQucj1jZCk7ZWxzZSBpZihkIGluIHcpRGQuY2FsbCh0aGlzLHQsZCxhLHMpO2Vsc2V7aWYoIShkIGluIHQpKXtOKGQscyk7Y29udGludWV9dGhpcy5hZGQodCxkLGF8fHRbZF0scyxpLG4pfVQucHVzaChkKX1iJiZuZSh0aGlzKX0sZ2V0OkNkLGFsaWFzZXM6TmUsZ2V0U2V0dGVyOmZ1bmN0aW9uIGdldFNldHRlcih0LGUsaSl7dmFyIG49TmVbZV07cmV0dXJuIG4mJm4uaW5kZXhPZigiLCIpPDAmJihlPW4pLGUgaW4gRmUmJmUhPT1ZZSYmKHQuX2dzYXAueHx8Q2QodCwieCIpKT9pJiZwZT09PWk/InNjYWxlIj09PWU/amQ6aWQ6KHBlPWl8fHt9KSYmKCJzY2FsZSI9PT1lP2tkOmxkKTp0LnN0eWxlJiYhcih0LnN0eWxlW2VdKT9nZDp+ZS5pbmRleE9mKCItIik/aGQ6S3QodCxlKX0sY29yZTp7X3JlbW92ZVByb3BlcnR5OnlkLF9nZXRNYXRyaXg6TWR9fTtvZS51dGlscy5jaGVja1ByZWZpeD1YZSxzcj1iYSgobnI9IngseSx6LHNjYWxlLHNjYWxlWCxzY2FsZVkseFBlcmNlbnQseVBlcmNlbnQiKSsiLCIrKGFyPSJyb3RhdGlvbixyb3RhdGlvblgscm90YXRpb25ZLHNrZXdYLHNrZXdZIikrIix0cmFuc2Zvcm0sdHJhbnNmb3JtT3JpZ2luLHN2Z09yaWdpbixmb3JjZTNELHNtb290aE9yaWdpbix0cmFuc2Zvcm1QZXJzcGVjdGl2ZSIsZnVuY3Rpb24odCl7RmVbdF09MX0pLGJhKGFyLGZ1bmN0aW9uKHQpe1kudW5pdHNbdF09ImRlZyIsJGVbdF09MX0pLE5lW3NyWzEzXV09bnIrIiwiK2FyLGJhKCIwOnRyYW5zbGF0ZVgsMTp0cmFuc2xhdGVZLDI6dHJhbnNsYXRlWiw4OnJvdGF0ZSw4OnJvdGF0aW9uWiw4OnJvdGF0ZVosOTpyb3RhdGVYLDEwOnJvdGF0ZVkiLGZ1bmN0aW9uKHQpe3ZhciBlPXQuc3BsaXQoIjoiKTtOZVtlWzFdXT1zcltlWzBdXX0pLGJhKCJ4LHkseix0b3AscmlnaHQsYm90dG9tLGxlZnQsd2lkdGgsaGVpZ2h0LGZvbnRTaXplLHBhZGRpbmcsbWFyZ2luLHBlcnNwZWN0aXZlLHRyYW5zZm9ybVBlcnNwZWN0aXZlIixmdW5jdGlvbih0KXtZLnVuaXRzW3RdPSJweCJ9KSxvZS5yZWdpc3RlclBsdWdpbihvcik7dmFyIHVyPW9lLnJlZ2lzdGVyUGx1Z2luKG9yKXx8b2UsaHI9dXIuY29yZS5Ud2VlbjtlLkJhY2s9Q2UsZS5Cb3VuY2U9QWUsZS5DU1NQbHVnaW49b3IsZS5DaXJjPXplLGUuQ3ViaWM9d2UsZS5FbGFzdGljPWtlLGUuRXhwbz1EZSxlLkxpbmVhcj1iZSxlLlBvd2VyMD1fZSxlLlBvd2VyMT1tZSxlLlBvd2VyMj1nZSxlLlBvd2VyMz12ZSxlLlBvd2VyND15ZSxlLlF1YWQ9VGUsZS5RdWFydD14ZSxlLlF1aW50PU9lLGUuU2luZT1TZSxlLlN0ZXBwZWRFYXNlPVBlLGUuU3Ryb25nPU1lLGUuVGltZWxpbmVMaXRlPU50LGUuVGltZWxpbmVNYXg9TnQsZS5Ud2VlbkxpdGU9SnQsZS5Ud2Vlbk1heD1ocixlLmRlZmF1bHQ9dXIsZS5nc2FwPXVyO2lmICh0eXBlb2Yod2luZG93KT09PSJ1bmRlZmluZWQifHx3aW5kb3chPT1lKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9IGVsc2Uge2RlbGV0ZSBlLmRlZmF1bHR9fSk7CgpQSwMECgAAAAAAQFd0VUWLUwUhCwAAIQsAABQAAABhc3NldHMvY3NzL3N0eWxlLmNzcyogeyBib3gtc2l6aW5nOiBib3JkZXItYm94OyB0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDsgdGV4dC1kZWNvcmF0aW9uOiBub25lOyB9ICogLnRpbWVsaW5lcyB7IHRyYW5zZm9ybS1vcmlnaW46IGNlbnRlcjsgfSBoMSxoMixoMyxoNCxoNSxoNixhLHAsc3BhbixvbCx1bCxsaSB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgfSAubWFpbl9jb250YWluZXIgeyB9IC5tYWluX2NvbnRhaW5lciwgLnBhZ2V7IHdpZHRoOiAxMDAlOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDEwMCU7IHBhZGRpbmc6IDBweDsgbWFyZ2luOiBhdXRvOyB9IC5ncmlkX2l0ZW1fYXV0b19maWxsIHsgZ3JpZC1hcmVhOiAxIC8gMSAvIDIgLyAyOyB9IC5zdGFydF9hdXRvX2ZpbGwsIC5jb25zdF95X3RvcHsgYWxpZ24tc2VsZjogc3RhcnQ7IH0gLmNlbnRlcl95X2F1dG9fZmlsbCwgLmNvbnN0X3lfY2VudGVyeyBhbGlnbi1zZWxmOiBjZW50ZXI7IH0gLmVuZF9hdXRvX2ZpbGwsIC5jb25zdF95X2JvdHRvbXsgYWxpZ24tc2VsZjogZW5kOyB9IC5yaWdodF9hdXRvX2ZpbGwsIC5jb25zdF94X3JpZ2h0eyBqdXN0aWZ5LXNlbGY6IHJpZ2h0OyB9IC5jZW50ZXJfeF9hdXRvX2ZpbGwsIC5jb25zdF94X2NlbnRlcnsganVzdGlmeS1zZWxmOiBjZW50ZXI7IH0gLmxlZnRfYXV0b19maWxsLCAuY29uc3RfeF9sZWZ0eyBqdXN0aWZ5LXNlbGY6IGxlZnQ7IH0gLmZpeGVkeyBwb3NpdGlvbjogZml4ZWQ7IH0gLmlubmVyX2dyaWR7IGRpc3BsYXk6IGdyaWQ7IH0gaW1nIHsgb2JqZWN0LWZpdDogY29udGFpbjsgb2JqZWN0LXBvc2l0aW9uOiBjZW50ZXI7IH0gQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2NDBweCkgeyAuaGlkZV9vbl9tb2JpbGUsIC5tb2JpbGVfaGlkZXsgZGlzcGxheTogbm9uZTsgfSB9IEBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1heC13aWR0aDogMTAyM3B4KSBhbmQgKG1pbi13aWR0aDogNjQxcHgpIHsgLmhpZGVfb25fdGFibGV0LCAudGFibGV0X2hpZGV7IGRpc3BsYXk6IG5vbmU7IH0gfSBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDEwMjRweCkgeyAuaGlkZV9vbl9kZXNrdG9wLCAuZGVza3RvcF9oaWRleyBkaXNwbGF5OiBub25lOyB9IH0gLnNjcm9sbGZhZGUgeyBvcGFjaXR5OiAwOyB0cmFuc2l0aW9uOiBhbGwgMS41cyBjdWJpYy1iZXppZXIoMC4wNCwgMC43LCAwLjI1LCAxKTsgfSAuZmFkZWluX3VwIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCUsNTAlKTsgfSAuZmFkZWluX2Rvd24geyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJSwtNTAlKTsgfSAuZmFkZWluX2xlZnQgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLDAlKTsgfSAuZmFkZWluX3JpZ2h0IHsgdHJhbnNmb3JtOiB0cmFuc2xhdGUoNTAlLDAlKTsgfSAuc2Nyb2xsZmFkZS5hY3RpdmUgeyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJSwwJSk7IH0gLnBhcmFsbGF4LWJnIHsgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsgYmFja2dyb3VuZC1hdHRhY2htZW50OiBmaXhlZDsgfSAuaG92ZXJfc2NhbGUgeyB0cmFuc2l0aW9uOiBhbGwgLjVzOyBjdXJzb3I6IHBvaW50ZXI7IH0gLmhvdmVyX3NjYWxlLmFjdGl2ZSB7IHRyYW5zZm9ybTogc2NhbGUoMS4xKTsgfSAuc2Nyb2xscGFyYWxsYXggeyB0cmFuc2l0aW9uOiBhbGwgMS41cyBjdWJpYy1iZXppZXIoMC4wNCwgMC41LCAwLjMsIDEpOyB9IFthZGRfbGlua191cmxdeyBjdXJzb3I6IHBvaW50ZXI7IH0gYm9keXsgbWFyZ2luOiAwOyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgfSBkaXYuY292ZXIgeyBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOyB9IGRpdi5jb250YWluIHsgYmFja2dyb3VuZC1zaXplOiBjb250YWluOyB9IGRpdi5jb250YWluIHsgYmFja2dyb3VuZC1zaXplOiAxMDAlIDEwMCU7IH0gaW1nLmNvdmVyIHsgb2JqZWN0LWZpdDogY292ZXI7IH0gaW1nLmNvbnRhaW4geyBvYmplY3QtZml0OiBjb250YWluOyB9IC5lbWJlZF9lbGVtIHsgcG9zaXRpb246IHJlbGF0aXZlOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB9IC5mcmFtZSB7IGFsaWduLWNvbnRlbnQ6IHN0YXJ0OyBwb3NpdGlvbjogcmVsYXRpdmU7IG1heC13aWR0aDogMTAwJTsgZGlzcGxheTogbm9uZTsgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtaW5tYXgoMjBweCwgYXV0bykgMWZyOyBkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDEwMCU7IHBhZGRpbmc6IDBweDsgbWFyZ2luOiBhdXRvOyBvdmVyZmxvdzogaGlkZGVuOyB9IC5mcmFtZS5oYXNfc2VjdGlvbnMgeyBkaXNwbGF5OiBmbGV4OyBmbGV4LWRpcmVjdGlvbjogY29sdW1uOyB9IC5oYXNfc2VjdGlvbnMgPiAqOm5vdCguc2VjdGlvbikgeyBwb3NpdGlvbjogYWJzb2x1dGU7IH0gLmhhc19zZWN0aW9ucyA+IC5zZWN0aW9uIHsgcG9zaXRpb246IHJlbGF0aXZlOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IG1pbm1heCgyMHB4LCBhdXRvKSAxZnI7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMTAwJSAxZnI7IGdyaWQtdGVtcGxhdGUtcm93czogMTAwJSAxZnI7IH0gLnJlbCB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfXN2Z3twb3NpdGlvbjpyZWxhdGl2ZTt9IHN2ZyA+IGcgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSg1MCUsNTAlKTsgfSAubG90dGllIHN2ZyA+IGcgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwJSwwJSk7fSAud2lsbC1jaGFuZ2V7d2lsbC1jaGFuZ2U6IGF1dG87fSAub3ZlcmZsb3ctaGlkZGVue292ZXJmbG93OiBoaWRkZW47fSAub3JpZ2luLXRvcC1sZWZ0IHt0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDt9IC5kaXNwbGF5X25vbmUge2Rpc3BsYXk6IG5vbmUgIWltcG9ydGFudDt9UEsDBAoAAAAAAEBXdFWrO9A8fwEAAH8BAAAdAAAAYXNzZXRzL2Nzcy9zdHlsZV9mcmFtZV8xMC5jc3MjcmVjdF8xNjY4MDkyNjcyNjQ0e2dyaWQtdGVtcGxhdGUtcm93czogMTE3cHg7aGVpZ2h0OjExN3B4O21hcmdpbi1sZWZ0OjI2cHg7bWFyZ2luLXRvcDoyNXB4O3dpZHRoOiAxNDlweDtiYWNrZ3JvdW5kLWNvbG9yOiAjZDZkNmQ2O30jcmVjdF8xNjY4ODg5Mjk2OTUxe2dyaWQtdGVtcGxhdGUtcm93czogMTE4cHg7aGVpZ2h0OjExOHB4O21hcmdpbi1sZWZ0OjgzcHg7bWFyZ2luLXRvcDoxMzdweDt3aWR0aDogMTA0cHg7YmFja2dyb3VuZC1jb2xvcjogI2Q2ZDZkNjt9I2ZyYW1lXzE2NjgwOTI2NzIwMDR7bWluLWhlaWdodDogMzI2cHg7aGVpZ2h0OiBtYXgtY29udGVudDt3aWR0aDogMTAwdnc7YmFja2dyb3VuZC1jb2xvcjogd2hpdGU7YmFja2dyb3VuZC1zaXplOiBhdXRvfVBLAwQKAAAAAABAV3RVSVm3VfUHAAD1BwAADQAAAGZyYW1lXzEwLmh0bWw8IURPQ1RZUEUgaHRtbD4gPGh0bWwgbGFuZz0iZW4iPjxoZWFkPiA8bWV0YSBjaGFyc2V0PSJ1dGYtOCI+IDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+IDx0aXRsZT50aXRsZSBmcmFtZSAxMDwvdGl0bGU+IDxtZXRhIG5hbWU9ImRlc2NyaXB0aW9uIiBjb250ZW50PSIiPjxsaW5rIHJlbD0ic3R5bGVzaGVldCIgdHlwZT0idGV4dC9jc3MiIGhyZWY9ImFzc2V0cy9jc3Mvc3R5bGUuY3NzIj48bGluayByZWw9InN0eWxlc2hlZXQiIHR5cGU9InRleHQvY3NzIiBocmVmPSJhc3NldHMvY3NzL3N0eWxlX2ZyYW1lXzEwLmNzcyI+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNvbnRleHRtZW51IiwgZnVuY3Rpb24gKGUpeyBlLnByZXZlbnREZWZhdWx0KCk7IH0sIGZhbHNlKTs8L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJhc3NldHMvanMvYW5pbUV2ZW50cy5qcyIgZGVmZXI+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iYXNzZXRzL2pzL1Njcm9sbFRyaWdnZXIubWluLmpzIiA+PC9zY3JpcHQ+PHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iYXNzZXRzL2pzL2xvdHRpZS5taW4uanMiID48L3NjcmlwdD48c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJhc3NldHMvanMvZ3NhcC5taW4uanMiID48L3NjcmlwdD48L2hlYWQ+IDxib2R5PjxtYWluIG1heC13aWR0aD0iMzQ4IiBtaW4td2lkdGg9IjM0OCIgcmVzcF9pZD0iZnJhbWVfMTY2ODA5MjY3MjAwNCIgY2xhc3M9IiBmcmFtZSIgaWQ9ImZyYW1lXzE2NjgwOTI2NzIwMDQiIGRpc3BsYXlfbmFtZT0iZnJhbWVfMTAiPjxkaXYgcmVzcF9pZD0icmVjdF8xNjY4MDkyNjcyNjQ0IiBjbGFzcz0icmVsIHJlY3QgZ3JpZF9pdGVtX2F1dG9fZmlsbCBjb25zdF94X2xlZnQgY29uc3RfeV90b3AiIGlkPSJyZWN0XzE2NjgwOTI2NzI2NDQiPjwvZGl2PjxkaXYgcmVzcF9pZD0icmVjdF8xNjY4ODg5Mjk2OTUxIiBjbGFzcz0icmVsIHJlY3QgZ3JpZF9pdGVtX2F1dG9fZmlsbCBjb25zdF94X2xlZnQgY29uc3RfeV90b3AiIGlkPSJyZWN0XzE2Njg4ODkyOTY5NTEiPjwvZGl2PjwvbWFpbj48c2NyaXB0PmZ1bmN0aW9uIHJlbW92ZU90aGVyQlBzKCl7IGxldCBjdXJXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOyBsZXQgQlBzID0gWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm1haW4iKV07IGlmIChCUHMubGVuZ3RoID09PSAxKSByZXR1cm47IGxldCBjdXJyZWN0QlAgPSAwOyBmb3IgKGxldCBpIGluIEJQcykgeyBpZiAoaSA9PTApIEJQc1tpXS5hdHRyaWJ1dGVzWyJtYXgtd2lkdGgiXS52YWx1ZSA9IDk5OTk7IGlmIChpID09IEJQcy5sZW5ndGgtMSkgQlBzW2ldLmF0dHJpYnV0ZXNbIm1pbi13aWR0aCJdLnZhbHVlID0gMDsgIGxldCBtaW5XID0gQlBzW2ldLmF0dHJpYnV0ZXNbIm1pbi13aWR0aCJdLnZhbHVlOyBsZXQgbWF4VyA9IEJQc1tpXS5hdHRyaWJ1dGVzWyJtYXgtd2lkdGgiXS52YWx1ZTsgaWYgKGN1cldpZHRoID4gbWluVyAmJiBjdXJXaWR0aCA8IG1heFcpIHsgY3VycmVjdEJQID0gaTsgfSBlbHNlIHtCUHNbaV0ucmVtb3ZlKCl9IH0gfTsgcmVtb3ZlT3RoZXJCUHMoKTsgZnVuY3Rpb24gcmVmcmVzaElmTmVlZGVkKCl7IGxldCBjdXJNYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibWFpbiIpOyBsZXQgY3VyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDsgbGV0IGN1ckJQID0gW2N1ck1haW4uYXR0cmlidXRlc1sibWluLXdpZHRoIl0udmFsdWUsIGN1ck1haW4uYXR0cmlidXRlc1sibWF4LXdpZHRoIl0udmFsdWVdOyBpZiAoY3VyV2lkdGggPCBjdXJCUFswXSB8fCBjdXJXaWR0aCA+IGN1ckJQWzFdKSB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7IH07IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCAoKSA9PiByZWZyZXNoSWZOZWVkZWQoKSk7PC9zY3JpcHQ+PC9ib2R5PjwvaHRtbD5QSwECFAAKAAAAAABAV3RVAAAAAAAAAAAAAAAABwAAAAAAAAAAABAAAAAAAAAAYXNzZXRzL1BLAQIUAAoAAAAAAEBXdFUAAAAAAAAAAAAAAAAOAAAAAAAAAAAAEAAAACUAAABhc3NldHMvaW1hZ2VzL1BLAQIUAAoAAAAAAEBXdFUAAAAAAAAAAAAAAAAKAAAAAAAAAAAAEAAAAFEAAABhc3NldHMvanMvUEsBAhQACgAAAAAAQFd0VQAAAAAAAAAAAAAAAAsAAAAAAAAAAAAQAAAAeQAAAGFzc2V0cy9jc3MvUEsBAhQACgAAAAAAQFd0VWSHjvOnQQAAp0EAABgAAAAAAAAAAAAAAAAAogAAAGFzc2V0cy9qcy8vYW5pbUV2ZW50cy5qc1BLAQIUAAoAAAAAAEBXdFVNaFm90F8AANBfAAAfAAAAAAAAAAAAAAAAAH9CAABhc3NldHMvanMvL1Njcm9sbFRyaWdnZXIubWluLmpzUEsBAhQACgAAAAAAQFd0VRnMctYJIgQACSIEABgAAAAAAAAAAAAAAAAAjKIAAGFzc2V0cy9qcy8vbG90dGllLm1pbi5qc1BLAQIUAAoAAAAAAEBXdFWfBBh5pPoAAKT6AAAWAAAAAAAAAAAAAAAAAMvEBABhc3NldHMvanMvL2dzYXAubWluLmpzUEsBAhQACgAAAAAAQFd0VUWLUwUhCwAAIQsAABQAAAAAAAAAAAAAAAAAo78FAGFzc2V0cy9jc3Mvc3R5bGUuY3NzUEsBAhQACgAAAAAAQFd0Vas70Dx/AQAAfwEAAB0AAAAAAAAAAAAAAAAA9soFAGFzc2V0cy9jc3Mvc3R5bGVfZnJhbWVfMTAuY3NzUEsBAhQACgAAAAAAQFd0VUlZt1X1BwAA9QcAAA0AAAAAAAAAAAAAAAAAsMwFAGZyYW1lXzEwLmh0bWxQSwUGAAAAAAsACwDHAgAA0NQFAAAA